{"version":3,"file":"asbplayer.js","mappings":"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","sources":["webpack://@project/extension/../node_modules/es-define-property/index.js","webpack://@project/extension/../node_modules/es-define-property/node_modules/get-intrinsic/index.js","webpack://@project/extension/../node_modules/es-errors/eval.js","webpack://@project/extension/../node_modules/es-errors/index.js","webpack://@project/extension/../node_modules/es-errors/range.js","webpack://@project/extension/../node_modules/es-errors/ref.js","webpack://@project/extension/../node_modules/es-errors/syntax.js","webpack://@project/extension/../node_modules/es-errors/type.js","webpack://@project/extension/../node_modules/es-errors/uri.js","webpack://@project/extension/../node_modules/function-bind/implementation.js","webpack://@project/extension/../node_modules/function-bind/index.js","webpack://@project/extension/../node_modules/get-intrinsic/index.js","webpack://@project/extension/../node_modules/gopd/index.js","webpack://@project/extension/../node_modules/has-proto/index.js","webpack://@project/extension/../node_modules/has-symbols/index.js","webpack://@project/extension/../node_modules/has-symbols/shams.js","webpack://@project/extension/../node_modules/hasown/index.js","webpack://@project/extension/../node_modules/jsonschema/lib/attribute.js","webpack://@project/extension/../node_modules/jsonschema/lib/helpers.js","webpack://@project/extension/../node_modules/jsonschema/lib/index.js","webpack://@project/extension/../node_modules/jsonschema/lib/scan.js","webpack://@project/extension/../node_modules/jsonschema/lib/validator.js","webpack://@project/extension/../node_modules/object-inspect/index.js","webpack://@project/extension/../node_modules/sanitize-filename/index.js","webpack://@project/extension/../node_modules/truncate-utf8-bytes/browser.js","webpack://@project/extension/../node_modules/truncate-utf8-bytes/lib/truncate.js","webpack://@project/extension/../node_modules/url/node_modules/call-bind/callBound.js","webpack://@project/extension/../node_modules/url/node_modules/call-bind/index.js","webpack://@project/extension/../node_modules/url/node_modules/define-data-property/index.js","webpack://@project/extension/../node_modules/url/node_modules/get-intrinsic/index.js","webpack://@project/extension/../node_modules/url/node_modules/has-property-descriptors/index.js","webpack://@project/extension/../node_modules/url/node_modules/punycode/punycode.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/formats.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/index.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/parse.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/stringify.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/utils.js","webpack://@project/extension/../node_modules/url/node_modules/set-function-length/index.js","webpack://@project/extension/../node_modules/url/node_modules/side-channel/index.js","webpack://@project/extension/../node_modules/url/url.js","webpack://@project/extension/../node_modules/utf8-byte-length/browser.js","webpack://@project/extension/webpack/bootstrap","webpack://@project/extension/webpack/runtime/global","webpack://@project/extension/webpack/runtime/node module decorator","webpack://@project/extension/../common/settings/settings.ts","webpack://@project/extension/../common/src/model.ts","webpack://@project/extension/../common/util/util.ts","webpack://@project/extension/../common/src/message.ts","webpack://@project/extension/../common/settings/settings-provider.ts","webpack://@project/extension/../common/settings/settings-import-export.ts","webpack://@project/extension/./src/services/extension-settings-storage.ts","webpack://@project/extension/../common/global-state/index.ts","webpack://@project/extension/./src/asbplayer.ts","webpack://@project/extension/./src/services/extension-global-state-provider.ts"],"sourcesContent":["'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\n/** @type {import('.')} */\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true) || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar test = {\n\tfoo: {}\n};\n\nvar $Object = Object;\n\nmodule.exports = function hasProto() {\n\treturn { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {(o: {}, p: PropertyKey) => p is keyof o} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar helpers = require('./helpers');\n\n/** @type ValidatorResult */\nvar ValidatorResult = helpers.ValidatorResult;\n/** @type SchemaError */\nvar SchemaError = helpers.SchemaError;\n\nvar attribute = {};\n\nattribute.ignoreProperties = {\n  // informative properties\n  'id': true,\n  'default': true,\n  'description': true,\n  'title': true,\n  // arguments to other properties\n  'additionalItems': true,\n  'then': true,\n  'else': true,\n  // special-handled properties\n  '$schema': true,\n  '$ref': true,\n  'extends': true,\n};\n\n/**\n * @name validators\n */\nvar validators = attribute.validators = {};\n\n/**\n * Validates whether the instance if of a certain type\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.type = function validateType (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var types = Array.isArray(schema.type) ? schema.type : [schema.type];\n  if (!types.some(this.testType.bind(this, instance, schema, options, ctx))) {\n    var list = types.map(function (v) {\n      if(!v) return;\n      var id = v.$id || v.id;\n      return id ? ('<' + id + '>') : (v+'');\n    });\n    result.addError({\n      name: 'type',\n      argument: list,\n      message: \"is not of a type(s) \" + list,\n    });\n  }\n  return result;\n};\n\nfunction testSchemaNoThrow(instance, options, ctx, callback, schema){\n  var throwError = options.throwError;\n  var throwAll = options.throwAll;\n  options.throwError = false;\n  options.throwAll = false;\n  var res = this.validateSchema(instance, schema, options, ctx);\n  options.throwError = throwError;\n  options.throwAll = throwAll;\n\n  if (!res.valid && callback instanceof Function) {\n    callback(res);\n  }\n  return res.valid;\n}\n\n/**\n * Validates whether the instance matches some of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.anyOf = function validateAnyOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  if (!Array.isArray(schema.anyOf)){\n    throw new SchemaError(\"anyOf must be an array\");\n  }\n  if (!schema.anyOf.some(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res){inner.importErrors(res);}\n    ))) {\n    var list = schema.anyOf.map(function (v, i) {\n      var id = v.$id || v.id;\n      if(id) return '<' + id + '>';\n      return(v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n    });\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'anyOf',\n      argument: list,\n      message: \"is not any of \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance matches every given schema\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.allOf = function validateAllOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.allOf)){\n    throw new SchemaError(\"allOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var self = this;\n  schema.allOf.forEach(function(v, i){\n    var valid = self.validateSchema(instance, v, options, ctx);\n    if(!valid.valid){\n      var id = v.$id || v.id;\n      var msg = id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n      result.addError({\n        name: 'allOf',\n        argument: { id: msg, length: valid.errors.length, valid: valid },\n        message: 'does not match allOf schema ' + msg + ' with ' + valid.errors.length + ' error[s]:',\n      });\n      result.importErrors(valid);\n    }\n  });\n  return result;\n};\n\n/**\n * Validates whether the instance matches exactly one of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.oneOf = function validateOneOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.oneOf)){\n    throw new SchemaError(\"oneOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  var count = schema.oneOf.filter(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res) {inner.importErrors(res);}\n    ) ).length;\n  var list = schema.oneOf.map(function (v, i) {\n    var id = v.$id || v.id;\n    return id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n  });\n  if (count!==1) {\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'oneOf',\n      argument: list,\n      message: \"is not exactly one from \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates \"then\" or \"else\" depending on the result of validating \"if\"\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.if = function validateIf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) return null;\n  if (!helpers.isSchema(schema.if)) throw new Error('Expected \"if\" keyword to be a schema');\n  var ifValid = testSchemaNoThrow.call(this, instance, options, ctx, null, schema.if);\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var res;\n  if(ifValid){\n    if (schema.then === undefined) return;\n    if (!helpers.isSchema(schema.then)) throw new Error('Expected \"then\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.then, options, ctx.makeChild(schema.then));\n    result.importErrors(res);\n  }else{\n    if (schema.else === undefined) return;\n    if (!helpers.isSchema(schema.else)) throw new Error('Expected \"else\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.else, options, ctx.makeChild(schema.else));\n    result.importErrors(res);\n  }\n  return result;\n};\n\nfunction getEnumerableProperty(object, key){\n  // Determine if `key` shows up in `for(var key in object)`\n  // First test Object.hasOwnProperty.call as an optimization: that guarantees it does\n  if(Object.hasOwnProperty.call(object, key)) return object[key];\n  // Test `key in object` as an optimization; false means it won't\n  if(!(key in object)) return;\n  while( (object = Object.getPrototypeOf(object)) ){\n    if(Object.propertyIsEnumerable.call(object, key)) return object[key];\n  }\n}\n\n/**\n * Validates propertyNames\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.propertyNames = function validatePropertyNames (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var subschema = schema.propertyNames!==undefined ? schema.propertyNames : {};\n  if(!helpers.isSchema(subschema)) throw new SchemaError('Expected \"propertyNames\" to be a schema (object or boolean)');\n\n  for (var property in instance) {\n    if(getEnumerableProperty(instance, property) !== undefined){\n      var res = this.validateSchema(property, subschema, options, ctx.makeChild(subschema));\n      result.importErrors(res);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates properties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.properties = function validateProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var properties = schema.properties || {};\n  for (var property in properties) {\n    var subschema = properties[property];\n    if(subschema===undefined){\n      continue;\n    }else if(subschema===null){\n      throw new SchemaError('Unexpected null, expected schema in \"properties\"');\n    }\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, subschema, options, ctx);\n    }\n    var prop = getEnumerableProperty(instance, property);\n    var res = this.validateSchema(prop, subschema, options, ctx.makeChild(subschema, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n  return result;\n};\n\n/**\n * Test a specific property within in instance against the additionalProperties schema attribute\n * This ignores properties with definitions in the properties schema attribute, but no other attributes.\n * If too many more types of property-existence tests pop up they may need their own class of tests (like `type` has)\n * @private\n * @return {boolean}\n */\nfunction testAdditionalProperty (instance, schema, options, ctx, property, result) {\n  if(!this.types.object(instance)) return;\n  if (schema.properties && schema.properties[property] !== undefined) {\n    return;\n  }\n  if (schema.additionalProperties === false) {\n    result.addError({\n      name: 'additionalProperties',\n      argument: property,\n      message: \"is not allowed to have the additional property \" + JSON.stringify(property),\n    });\n  } else {\n    var additionalProperties = schema.additionalProperties || {};\n\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, additionalProperties, options, ctx);\n    }\n\n    var res = this.validateSchema(instance[property], additionalProperties, options, ctx.makeChild(additionalProperties, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n}\n\n/**\n * Validates patternProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.patternProperties = function validatePatternProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var patternProperties = schema.patternProperties || {};\n\n  for (var property in instance) {\n    var test = true;\n    for (var pattern in patternProperties) {\n      var subschema = patternProperties[pattern];\n      if(subschema===undefined){\n        continue;\n      }else if(subschema===null){\n        throw new SchemaError('Unexpected null, expected schema in \"patternProperties\"');\n      }\n      try {\n        var regexp = new RegExp(pattern, 'u');\n      } catch(_e) {\n        // In the event the stricter handling causes an error, fall back on the forgiving handling\n        // DEPRECATED\n        regexp = new RegExp(pattern);\n      }\n      if (!regexp.test(property)) {\n        continue;\n      }\n      test = false;\n\n      if (typeof options.preValidateProperty == 'function') {\n        options.preValidateProperty(instance, property, subschema, options, ctx);\n      }\n\n      var res = this.validateSchema(instance[property], subschema, options, ctx.makeChild(subschema, property));\n      if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n      result.importErrors(res);\n    }\n    if (test) {\n      testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates additionalProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.additionalProperties = function validateAdditionalProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  // if patternProperties is defined then we'll test when that one is called instead\n  if (schema.patternProperties) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in instance) {\n    testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minProperties = function validateMinProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length >= schema.minProperties)) {\n    result.addError({\n      name: 'minProperties',\n      argument: schema.minProperties,\n      message: \"does not meet minimum property length of \" + schema.minProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxProperties = function validateMaxProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length <= schema.maxProperties)) {\n    result.addError({\n      name: 'maxProperties',\n      argument: schema.maxProperties,\n      message: \"does not meet maximum property length of \" + schema.maxProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates items when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.items = function validateItems (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.items===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  instance.every(function (value, i) {\n    if(Array.isArray(schema.items)){\n      var items =  schema.items[i]===undefined ? schema.additionalItems : schema.items[i];\n    }else{\n      var items = schema.items;\n    }\n    if (items === undefined) {\n      return true;\n    }\n    if (items === false) {\n      result.addError({\n        name: 'items',\n        message: \"additionalItems not permitted\",\n      });\n      return false;\n    }\n    var res = self.validateSchema(value, items, options, ctx.makeChild(items, i));\n    if(res.instance !== result.instance[i]) result.instance[i] = res.instance;\n    result.importErrors(res);\n    return true;\n  });\n  return result;\n};\n\n/**\n * Validates the \"contains\" keyword\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.contains = function validateContains (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.contains===undefined) return;\n  if (!helpers.isSchema(schema.contains)) throw new Error('Expected \"contains\" keyword to be a schema');\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var count = instance.some(function (value, i) {\n    var res = self.validateSchema(value, schema.contains, options, ctx.makeChild(schema.contains, i));\n    return res.errors.length===0;\n  });\n  if(count===false){\n    result.addError({\n      name: 'contains',\n      argument: schema.contains,\n      message: \"must contain an item matching given schema\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates minimum and exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minimum = function validateMinimum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMinimum && schema.exclusiveMinimum === true) {\n    if(!(instance > schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than \" + schema.minimum,\n      });\n    }\n  } else {\n    if(!(instance >= schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than or equal to \" + schema.minimum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates maximum and exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maximum = function validateMaximum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMaximum && schema.exclusiveMaximum === true) {\n    if(!(instance < schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than \" + schema.maximum,\n      });\n    }\n  } else {\n    if(!(instance <= schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than or equal to \" + schema.maximum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMinimum = function validateExclusiveMinimum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMinimum, which is handled by the \"minimum\" keyword.\n  if(typeof schema.exclusiveMinimum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance > schema.exclusiveMinimum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMinimum',\n      argument: schema.exclusiveMinimum,\n      message: \"must be strictly greater than \" + schema.exclusiveMinimum,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMaximum = function validateExclusiveMaximum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMaximum, which is handled by the \"maximum\" keyword.\n  if(typeof schema.exclusiveMaximum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance < schema.exclusiveMaximum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMaximum',\n      argument: schema.exclusiveMaximum,\n      message: \"must be strictly less than \" + schema.exclusiveMaximum,\n    });\n  }\n  return result;\n};\n\n/**\n * Perform validation for multipleOf and divisibleBy, which are essentially the same.\n * @param instance\n * @param schema\n * @param validationType\n * @param errorMessage\n * @returns {String|null}\n */\nvar validateMultipleOfOrDivisbleBy = function validateMultipleOfOrDivisbleBy (instance, schema, options, ctx, validationType, errorMessage) {\n  if (!this.types.number(instance)) return;\n\n  var validationArgument = schema[validationType];\n  if (validationArgument == 0) {\n    throw new SchemaError(validationType + \" cannot be zero\");\n  }\n\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  var instanceDecimals = helpers.getDecimalPlaces(instance);\n  var divisorDecimals = helpers.getDecimalPlaces(validationArgument);\n\n  var maxDecimals = Math.max(instanceDecimals , divisorDecimals);\n  var multiplier = Math.pow(10, maxDecimals);\n\n  if (Math.round(instance * multiplier) % Math.round(validationArgument * multiplier) !== 0) {\n    result.addError({\n      name: validationType,\n      argument:  validationArgument,\n      message: errorMessage + JSON.stringify(validationArgument),\n    });\n  }\n\n  return result;\n};\n\n/**\n * Validates divisibleBy when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.multipleOf = function validateMultipleOf (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"multipleOf\", \"is not a multiple of (divisible by) \");\n};\n\n/**\n * Validates multipleOf when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.divisibleBy = function validateDivisibleBy (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"divisibleBy\", \"is not divisible by (multiple of) \");\n};\n\n/**\n * Validates whether the instance value is present.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.required = function validateRequired (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (instance === undefined && schema.required === true) {\n    // A boolean form is implemented for reverse-compatibility with schemas written against older drafts\n    result.addError({\n      name: 'required',\n      message: \"is required\",\n    });\n  } else if (this.types.object(instance) && Array.isArray(schema.required)) {\n    schema.required.forEach(function(n){\n      if(getEnumerableProperty(instance, n)===undefined){\n        result.addError({\n          name: 'required',\n          argument: n,\n          message: \"requires property \" + JSON.stringify(n),\n        });\n      }\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value matches the regular expression, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.pattern = function validatePattern (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var pattern = schema.pattern;\n  try {\n    var regexp = new RegExp(pattern, 'u');\n  } catch(_e) {\n    // In the event the stricter handling causes an error, fall back on the forgiving handling\n    // DEPRECATED\n    regexp = new RegExp(pattern);\n  }\n  if (!instance.match(regexp)) {\n    result.addError({\n      name: 'pattern',\n      argument: schema.pattern,\n      message: \"does not match pattern \" + JSON.stringify(schema.pattern.toString()),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is of a certain defined format or a custom\n * format.\n * The following formats are supported for string types:\n *   - date-time\n *   - date\n *   - time\n *   - ip-address\n *   - ipv6\n *   - uri\n *   - color\n *   - host-name\n *   - alpha\n *   - alpha-numeric\n *   - utc-millisec\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {String|null}\n */\nvalidators.format = function validateFormat (instance, schema, options, ctx) {\n  if (instance===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!result.disableFormat && !helpers.isFormat(instance, schema.format, this)) {\n    result.addError({\n      name: 'format',\n      argument: schema.format,\n      message: \"does not conform to the \" + JSON.stringify(schema.format) + \" format\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minLength = function validateMinLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length >= schema.minLength)) {\n    result.addError({\n      name: 'minLength',\n      argument: schema.minLength,\n      message: \"does not meet minimum length of \" + schema.minLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxLength = function validateMaxLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  // TODO if this was already computed in \"minLength\", use that value instead of re-computing\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length <= schema.maxLength)) {\n    result.addError({\n      name: 'maxLength',\n      argument: schema.maxLength,\n      message: \"does not meet maximum length of \" + schema.maxLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains at least a minimum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minItems = function validateMinItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length >= schema.minItems)) {\n    result.addError({\n      name: 'minItems',\n      argument: schema.minItems,\n      message: \"does not meet minimum length of \" + schema.minItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains no more than a maximum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxItems = function validateMaxItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length <= schema.maxItems)) {\n    result.addError({\n      name: 'maxItems',\n      argument: schema.maxItems,\n      message: \"does not meet maximum length of \" + schema.maxItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Deep compares arrays for duplicates\n * @param v\n * @param i\n * @param a\n * @private\n * @return {boolean}\n */\nfunction testArrays (v, i, a) {\n  var j, len = a.length;\n  for (j = i + 1, len; j < len; j++) {\n    if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Validates whether there are no duplicates, when the instance is an Array.\n * @param instance\n * @return {String|null}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (schema.uniqueItems!==true) return;\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validate for the presence of dependency properties, if the instance is an object.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.dependencies = function validateDependencies (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in schema.dependencies) {\n    if (instance[property] === undefined) {\n      continue;\n    }\n    var dep = schema.dependencies[property];\n    var childContext = ctx.makeChild(dep, property);\n    if (typeof dep == 'string') {\n      dep = [dep];\n    }\n    if (Array.isArray(dep)) {\n      dep.forEach(function (prop) {\n        if (instance[prop] === undefined) {\n          result.addError({\n            // FIXME there's two different \"dependencies\" errors here with slightly different outputs\n            // Can we make these the same? Or should we create different error types?\n            name: 'dependencies',\n            argument: childContext.propertyPath,\n            message: \"property \" + prop + \" not found, required by \" + childContext.propertyPath,\n          });\n        }\n      });\n    } else {\n      var res = this.validateSchema(instance, dep, options, childContext);\n      if(result.instance !== res.instance) result.instance = res.instance;\n      if (res && res.errors.length) {\n        result.addError({\n          name: 'dependencies',\n          argument: childContext.propertyPath,\n          message: \"does not meet dependency required by \" + childContext.propertyPath,\n        });\n        result.importErrors(res);\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is one of the enumerated values.\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['enum'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema['enum'])) {\n    throw new SchemaError(\"enum expects an array\", schema);\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!schema['enum'].some(helpers.deepCompareStrict.bind(null, instance))) {\n    result.addError({\n      name: 'enum',\n      argument: schema['enum'],\n      message: \"is not one of enum values: \" + schema['enum'].map(String).join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance exactly matches a given value\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['const'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!helpers.deepCompareStrict(schema['const'], instance)) {\n    result.addError({\n      name: 'const',\n      argument: schema['const'],\n      message: \"does not exactly match expected constant: \" + schema['const'],\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance if of a prohibited type.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.not = validators.disallow = function validateNot (instance, schema, options, ctx) {\n  var self = this;\n  if(instance===undefined) return null;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var notTypes = schema.not || schema.disallow;\n  if(!notTypes) return null;\n  if(!Array.isArray(notTypes)) notTypes=[notTypes];\n  notTypes.forEach(function (type) {\n    if (self.testType(instance, schema, options, ctx, type)) {\n      var id = type && (type.$id || type.id);\n      var schemaId = id || type;\n      result.addError({\n        name: 'not',\n        argument: schemaId,\n        message: \"is of prohibited type \" + schemaId,\n      });\n    }\n  });\n  return result;\n};\n\nmodule.exports = attribute;\n","'use strict';\n\nvar uri = require('url');\n\nvar ValidationError = exports.ValidationError = function ValidationError (message, instance, schema, path, name, argument) {\n  if(Array.isArray(path)){\n    this.path = path;\n    this.property = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else if(path !== undefined){\n    this.property = path;\n  }\n  if (message) {\n    this.message = message;\n  }\n  if (schema) {\n    var id = schema.$id || schema.id;\n    this.schema = id || schema;\n  }\n  if (instance !== undefined) {\n    this.instance = instance;\n  }\n  this.name = name;\n  this.argument = argument;\n  this.stack = this.toString();\n};\n\nValidationError.prototype.toString = function toString() {\n  return this.property + ' ' + this.message;\n};\n\nvar ValidatorResult = exports.ValidatorResult = function ValidatorResult(instance, schema, options, ctx) {\n  this.instance = instance;\n  this.schema = schema;\n  this.options = options;\n  this.path = ctx.path;\n  this.propertyPath = ctx.propertyPath;\n  this.errors = [];\n  this.throwError = options && options.throwError;\n  this.throwFirst = options && options.throwFirst;\n  this.throwAll = options && options.throwAll;\n  this.disableFormat = options && options.disableFormat === true;\n};\n\nValidatorResult.prototype.addError = function addError(detail) {\n  var err;\n  if (typeof detail == 'string') {\n    err = new ValidationError(detail, this.instance, this.schema, this.path);\n  } else {\n    if (!detail) throw new Error('Missing error detail');\n    if (!detail.message) throw new Error('Missing error message');\n    if (!detail.name) throw new Error('Missing validator type');\n    err = new ValidationError(detail.message, this.instance, this.schema, this.path, detail.name, detail.argument);\n  }\n\n  this.errors.push(err);\n  if (this.throwFirst) {\n    throw new ValidatorResultError(this);\n  }else if(this.throwError){\n    throw err;\n  }\n  return err;\n};\n\nValidatorResult.prototype.importErrors = function importErrors(res) {\n  if (typeof res == 'string' || (res && res.validatorType)) {\n    this.addError(res);\n  } else if (res && res.errors) {\n    this.errors = this.errors.concat(res.errors);\n  }\n};\n\nfunction stringizer (v,i){\n  return i+': '+v.toString()+'\\n';\n}\nValidatorResult.prototype.toString = function toString(res) {\n  return this.errors.map(stringizer).join('');\n};\n\nObject.defineProperty(ValidatorResult.prototype, \"valid\", { get: function() {\n  return !this.errors.length;\n} });\n\nmodule.exports.ValidatorResultError = ValidatorResultError;\nfunction ValidatorResultError(result) {\n  if(Error.captureStackTrace){\n    Error.captureStackTrace(this, ValidatorResultError);\n  }\n  this.instance = result.instance;\n  this.schema = result.schema;\n  this.options = result.options;\n  this.errors = result.errors;\n}\nValidatorResultError.prototype = new Error();\nValidatorResultError.prototype.constructor = ValidatorResultError;\nValidatorResultError.prototype.name = \"Validation Error\";\n\n/**\n * Describes a problem with a Schema which prevents validation of an instance\n * @name SchemaError\n * @constructor\n */\nvar SchemaError = exports.SchemaError = function SchemaError (msg, schema) {\n  this.message = msg;\n  this.schema = schema;\n  Error.call(this, msg);\n  Error.captureStackTrace(this, SchemaError);\n};\nSchemaError.prototype = Object.create(Error.prototype,\n  {\n    constructor: {value: SchemaError, enumerable: false},\n    name: {value: 'SchemaError', enumerable: false},\n  });\n\nvar SchemaContext = exports.SchemaContext = function SchemaContext (schema, options, path, base, schemas) {\n  this.schema = schema;\n  this.options = options;\n  if(Array.isArray(path)){\n    this.path = path;\n    this.propertyPath = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else{\n    this.propertyPath = path;\n  }\n  this.base = base;\n  this.schemas = schemas;\n};\n\nSchemaContext.prototype.resolve = function resolve (target) {\n  return uri.resolve(this.base, target);\n};\n\nSchemaContext.prototype.makeChild = function makeChild(schema, propertyName){\n  var path = (propertyName===undefined) ? this.path : this.path.concat([propertyName]);\n  var id = schema.$id || schema.id;\n  var base = uri.resolve(this.base, id||'');\n  var ctx = new SchemaContext(schema, this.options, path, base, Object.create(this.schemas));\n  if(id && !ctx.schemas[base]){\n    ctx.schemas[base] = schema;\n  }\n  return ctx;\n};\n\nvar FORMAT_REGEXPS = exports.FORMAT_REGEXPS = {\n  // 7.3.1. Dates, Times, and Duration\n  'date-time': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\\.\\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,\n  'date': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,\n  'time': /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,\n  'duration': /P(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S)|\\d+(D|M(\\d+D)?|Y(\\d+M(\\d+D)?)?)(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S))?|\\d+W)/i,\n\n  // 7.3.2. Email Addresses\n  // TODO: fix the email production\n  'email': /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/,\n  'idn-email': /^(\"(?:[!#-\\[\\]-\\u{10FFFF}]|\\\\[\\t -\\u{10FFFF}])*\"|[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*)@([!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*|\\[[!-Z\\^-\\u{10FFFF}]*\\])$/u,\n\n  // 7.3.3. Hostnames\n\n  // 7.3.4. IP Addresses\n  'ip-address': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n  // FIXME whitespace is invalid\n  'ipv6': /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n\n  // 7.3.5. Resource Identifiers\n  // TODO: A more accurate regular expression for \"uri\" goes:\n  // [A-Za-z][+\\-.0-9A-Za-z]*:((/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?)?#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])|/?%[0-9A-Fa-f]{2}|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*(#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?)?\n  'uri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'uri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/,\n  'iri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'iri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\\u{10FFFF}]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/u,\n  'uuid': /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n\n  // 7.3.6. uri-template\n  'uri-template': /(%[0-9a-f]{2}|[!#$&(-;=?@\\[\\]_a-z~]|\\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?)*\\})*/iu,\n\n  // 7.3.7. JSON Pointers\n  'json-pointer': /^(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*$/iu,\n  'relative-json-pointer': /^\\d+(#|(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*)$/iu,\n\n  // hostname regex from: http://stackoverflow.com/a/1420225/5628\n  'hostname': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n  'host-name': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n\n  'utc-millisec': function (input) {\n    return (typeof input === 'string') && parseFloat(input) === parseInt(input, 10) && !isNaN(input);\n  },\n\n  // 7.3.8. regex\n  'regex': function (input) {\n    var result = true;\n    try {\n      new RegExp(input);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  },\n\n  // Other definitions\n  // \"style\" was removed from JSON Schema in draft-4 and is deprecated\n  'style': /[\\r\\n\\t ]*[^\\r\\n\\t ][^:]*:[\\r\\n\\t ]*[^\\r\\n\\t ;]*[\\r\\n\\t ]*;?/,\n  // \"color\" was removed from JSON Schema in draft-4 and is deprecated\n  'color': /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/,\n  'phone': /^\\+(?:[0-9] ?){6,14}[0-9]$/,\n  'alpha': /^[a-zA-Z]+$/,\n  'alphanumeric': /^[a-zA-Z0-9]+$/,\n};\n\nFORMAT_REGEXPS.regexp = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.pattern = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.ipv4 = FORMAT_REGEXPS['ip-address'];\n\nexports.isFormat = function isFormat (input, format, validator) {\n  if (typeof input === 'string' && FORMAT_REGEXPS[format] !== undefined) {\n    if (FORMAT_REGEXPS[format] instanceof RegExp) {\n      return FORMAT_REGEXPS[format].test(input);\n    }\n    if (typeof FORMAT_REGEXPS[format] === 'function') {\n      return FORMAT_REGEXPS[format](input);\n    }\n  } else if (validator && validator.customFormats &&\n      typeof validator.customFormats[format] === 'function') {\n    return validator.customFormats[format](input);\n  }\n  return true;\n};\n\nvar makeSuffix = exports.makeSuffix = function makeSuffix (key) {\n  key = key.toString();\n  // This function could be capable of outputting valid a ECMAScript string, but the\n  // resulting code for testing which form to use would be tens of thousands of characters long\n  // That means this will use the name form for some illegal forms\n  if (!key.match(/[.\\s\\[\\]]/) && !key.match(/^[\\d]/)) {\n    return '.' + key;\n  }\n  if (key.match(/^\\d+$/)) {\n    return '[' + key + ']';\n  }\n  return '[' + JSON.stringify(key) + ']';\n};\n\nexports.deepCompareStrict = function deepCompareStrict (a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (v, i) {\n      return deepCompareStrict(a[i], b[i]);\n    });\n  }\n  if (typeof a === 'object') {\n    if (!a || !b) {\n      return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    return aKeys.every(function (v) {\n      return deepCompareStrict(a[v], b[v]);\n    });\n  }\n  return a === b;\n};\n\nfunction deepMerger (target, dst, e, i) {\n  if (typeof e === 'object') {\n    dst[i] = deepMerge(target[i], e);\n  } else {\n    if (target.indexOf(e) === -1) {\n      dst.push(e);\n    }\n  }\n}\n\nfunction copyist (src, dst, key) {\n  dst[key] = src[key];\n}\n\nfunction copyistWithDeepMerge (target, src, dst, key) {\n  if (typeof src[key] !== 'object' || !src[key]) {\n    dst[key] = src[key];\n  }\n  else {\n    if (!target[key]) {\n      dst[key] = src[key];\n    } else {\n      dst[key] = deepMerge(target[key], src[key]);\n    }\n  }\n}\n\nfunction deepMerge (target, src) {\n  var array = Array.isArray(src);\n  var dst = array && [] || {};\n\n  if (array) {\n    target = target || [];\n    dst = dst.concat(target);\n    src.forEach(deepMerger.bind(null, target, dst));\n  } else {\n    if (target && typeof target === 'object') {\n      Object.keys(target).forEach(copyist.bind(null, target, dst));\n    }\n    Object.keys(src).forEach(copyistWithDeepMerge.bind(null, target, src, dst));\n  }\n\n  return dst;\n}\n\nmodule.exports.deepMerge = deepMerge;\n\n/**\n * Validates instance against the provided schema\n * Implements URI+JSON Pointer encoding, e.g. \"%7e\"=\"~0\"=>\"~\", \"~1\"=\"%2f\"=>\"/\"\n * @param o\n * @param s The path to walk o along\n * @return any\n */\nexports.objectGetPath = function objectGetPath(o, s) {\n  var parts = s.split('/').slice(1);\n  var k;\n  while (typeof (k=parts.shift()) == 'string') {\n    var n = decodeURIComponent(k.replace(/~0/,'~').replace(/~1/g,'/'));\n    if (!(n in o)) return;\n    o = o[n];\n  }\n  return o;\n};\n\nfunction pathEncoder (v) {\n  return '/'+encodeURIComponent(v).replace(/~/g,'%7E');\n}\n/**\n * Accept an Array of property names and return a JSON Pointer URI fragment\n * @param Array a\n * @return {String}\n */\nexports.encodePath = function encodePointer(a){\n  // ~ must be encoded explicitly because hacks\n  // the slash is encoded by encodeURIComponent\n  return a.map(pathEncoder).join('');\n};\n\n\n/**\n * Calculate the number of decimal places a number uses\n * We need this to get correct results out of multipleOf and divisibleBy\n * when either figure is has decimal places, due to IEEE-754 float issues.\n * @param number\n * @returns {number}\n */\nexports.getDecimalPlaces = function getDecimalPlaces(number) {\n\n  var decimalPlaces = 0;\n  if (isNaN(number)) return decimalPlaces;\n\n  if (typeof number !== 'number') {\n    number = Number(number);\n  }\n\n  var parts = number.toString().split('e');\n  if (parts.length === 2) {\n    if (parts[1][0] !== '-') {\n      return decimalPlaces;\n    } else {\n      decimalPlaces = Number(parts[1].slice(1));\n    }\n  }\n\n  var decimalParts = parts[0].split('.');\n  if (decimalParts.length === 2) {\n    decimalPlaces += decimalParts[1].length;\n  }\n\n  return decimalPlaces;\n};\n\nexports.isSchema = function isSchema(val){\n  return (typeof val === 'object' && val) || (typeof val === 'boolean');\n};\n\n","'use strict';\n\nvar Validator = module.exports.Validator = require('./validator');\n\nmodule.exports.ValidatorResult = require('./helpers').ValidatorResult;\nmodule.exports.ValidatorResultError = require('./helpers').ValidatorResultError;\nmodule.exports.ValidationError = require('./helpers').ValidationError;\nmodule.exports.SchemaError = require('./helpers').SchemaError;\nmodule.exports.SchemaScanResult = require('./scan').SchemaScanResult;\nmodule.exports.scan = require('./scan').scan;\n\nmodule.exports.validate = function (instance, schema, options) {\n  var v = new Validator();\n  return v.validate(instance, schema, options);\n};\n","\"use strict\";\n\nvar urilib = require('url');\nvar helpers = require('./helpers');\n\nmodule.exports.SchemaScanResult = SchemaScanResult;\nfunction SchemaScanResult(found, ref){\n  this.id = found;\n  this.ref = ref;\n}\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param string uri\n * @param object schema\n * @return {Object}\n */\nmodule.exports.scan = function scan(base, schema){\n  function scanSchema(baseuri, schema){\n    if(!schema || typeof schema!='object') return;\n    // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined\n    if(schema.$ref){\n      var resolvedUri = urilib.resolve(baseuri, schema.$ref);\n      ref[resolvedUri] = ref[resolvedUri] ? ref[resolvedUri]+1 : 0;\n      return;\n    }\n    var id = schema.$id || schema.id;\n    var ourBase = id ? urilib.resolve(baseuri, id) : baseuri;\n    if (ourBase) {\n      // If there's no fragment, append an empty one\n      if(ourBase.indexOf('#')<0) ourBase += '#';\n      if(found[ourBase]){\n        if(!helpers.deepCompareStrict(found[ourBase], schema)){\n          throw new Error('Schema <'+ourBase+'> already exists with different definition');\n        }\n        return found[ourBase];\n      }\n      found[ourBase] = schema;\n      // strip trailing fragment\n      if(ourBase[ourBase.length-1]=='#'){\n        found[ourBase.substring(0, ourBase.length-1)] = schema;\n      }\n    }\n    scanArray(ourBase+'/items', (Array.isArray(schema.items)?schema.items:[schema.items]));\n    scanArray(ourBase+'/extends', (Array.isArray(schema.extends)?schema.extends:[schema.extends]));\n    scanSchema(ourBase+'/additionalItems', schema.additionalItems);\n    scanObject(ourBase+'/properties', schema.properties);\n    scanSchema(ourBase+'/additionalProperties', schema.additionalProperties);\n    scanObject(ourBase+'/definitions', schema.definitions);\n    scanObject(ourBase+'/patternProperties', schema.patternProperties);\n    scanObject(ourBase+'/dependencies', schema.dependencies);\n    scanArray(ourBase+'/disallow', schema.disallow);\n    scanArray(ourBase+'/allOf', schema.allOf);\n    scanArray(ourBase+'/anyOf', schema.anyOf);\n    scanArray(ourBase+'/oneOf', schema.oneOf);\n    scanSchema(ourBase+'/not', schema.not);\n  }\n  function scanArray(baseuri, schemas){\n    if(!Array.isArray(schemas)) return;\n    for(var i=0; i<schemas.length; i++){\n      scanSchema(baseuri+'/'+i, schemas[i]);\n    }\n  }\n  function scanObject(baseuri, schemas){\n    if(!schemas || typeof schemas!='object') return;\n    for(var p in schemas){\n      scanSchema(baseuri+'/'+p, schemas[p]);\n    }\n  }\n\n  var found = {};\n  var ref = {};\n  scanSchema(base, schema);\n  return new SchemaScanResult(found, ref);\n};\n","'use strict';\n\nvar urilib = require('url');\n\nvar attribute = require('./attribute');\nvar helpers = require('./helpers');\nvar scanSchema = require('./scan').scan;\nvar ValidatorResult = helpers.ValidatorResult;\nvar ValidatorResultError = helpers.ValidatorResultError;\nvar SchemaError = helpers.SchemaError;\nvar SchemaContext = helpers.SchemaContext;\n//var anonymousBase = 'vnd.jsonschema:///';\nvar anonymousBase = '/';\n\n/**\n * Creates a new Validator object\n * @name Validator\n * @constructor\n */\nvar Validator = function Validator () {\n  // Allow a validator instance to override global custom formats or to have their\n  // own custom formats.\n  this.customFormats = Object.create(Validator.prototype.customFormats);\n  this.schemas = {};\n  this.unresolvedRefs = [];\n\n  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.\n  this.types = Object.create(types);\n  this.attributes = Object.create(attribute.validators);\n};\n\n// Allow formats to be registered globally.\nValidator.prototype.customFormats = {};\n\n// Hint at the presence of a property\nValidator.prototype.schemas = null;\nValidator.prototype.types = null;\nValidator.prototype.attributes = null;\nValidator.prototype.unresolvedRefs = null;\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param schema\n * @param urn\n * @return {Object}\n */\nValidator.prototype.addSchema = function addSchema (schema, base) {\n  var self = this;\n  if (!schema) {\n    return null;\n  }\n  var scan = scanSchema(base||anonymousBase, schema);\n  var ourUri = base || schema.$id || schema.id;\n  for(var uri in scan.id){\n    this.schemas[uri] = scan.id[uri];\n  }\n  for(var uri in scan.ref){\n    // If this schema is already defined, it will be filtered out by the next step\n    this.unresolvedRefs.push(uri);\n  }\n  // Remove newly defined schemas from unresolvedRefs\n  this.unresolvedRefs = this.unresolvedRefs.filter(function(uri){\n    return typeof self.schemas[uri]==='undefined';\n  });\n  return this.schemas[ourUri];\n};\n\nValidator.prototype.addSubSchemaArray = function addSubSchemaArray(baseuri, schemas) {\n  if(!Array.isArray(schemas)) return;\n  for(var i=0; i<schemas.length; i++){\n    this.addSubSchema(baseuri, schemas[i]);\n  }\n};\n\nValidator.prototype.addSubSchemaObject = function addSubSchemaArray(baseuri, schemas) {\n  if(!schemas || typeof schemas!='object') return;\n  for(var p in schemas){\n    this.addSubSchema(baseuri, schemas[p]);\n  }\n};\n\n\n\n/**\n * Sets all the schemas of the Validator instance.\n * @param schemas\n */\nValidator.prototype.setSchemas = function setSchemas (schemas) {\n  this.schemas = schemas;\n};\n\n/**\n * Returns the schema of a certain urn\n * @param urn\n */\nValidator.prototype.getSchema = function getSchema (urn) {\n  return this.schemas[urn];\n};\n\n/**\n * Validates instance against the provided schema\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {Array}\n */\nValidator.prototype.validate = function validate (instance, schema, options, ctx) {\n  if((typeof schema !== 'boolean' && typeof schema !== 'object') || schema === null){\n    throw new SchemaError('Expected `schema` to be an object or boolean');\n  }\n  if (!options) {\n    options = {};\n  }\n  // This section indexes subschemas in the provided schema, so they don't need to be added with Validator#addSchema\n  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI\n  var id = schema.$id || schema.id;\n  var base = urilib.resolve(options.base||anonymousBase, id||'');\n  if(!ctx){\n    ctx = new SchemaContext(schema, options, [], base, Object.create(this.schemas));\n    if (!ctx.schemas[base]) {\n      ctx.schemas[base] = schema;\n    }\n    var found = scanSchema(base, schema);\n    for(var n in found.id){\n      var sch = found.id[n];\n      ctx.schemas[n] = sch;\n    }\n  }\n  if(options.required && instance===undefined){\n    var result = new ValidatorResult(instance, schema, options, ctx);\n    result.addError('is required, but is undefined');\n    return result;\n  }\n  var result = this.validateSchema(instance, schema, options, ctx);\n  if (!result) {\n    throw new Error('Result undefined');\n  }else if(options.throwAll && result.errors.length){\n    throw new ValidatorResultError(result);\n  }\n  return result;\n};\n\n/**\n* @param Object schema\n* @return mixed schema uri or false\n*/\nfunction shouldResolve(schema) {\n  var ref = (typeof schema === 'string') ? schema : schema.$ref;\n  if (typeof ref=='string') return ref;\n  return false;\n}\n\n/**\n * Validates an instance against the schema (the actual work horse)\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @private\n * @return {ValidatorResult}\n */\nValidator.prototype.validateSchema = function validateSchema (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  // Support for the true/false schemas\n  if(typeof schema==='boolean') {\n    if(schema===true){\n      // `true` is always valid\n      schema = {};\n    }else if(schema===false){\n      // `false` is always invalid\n      schema = {type: []};\n    }\n  }else if(!schema){\n    // This might be a string\n    throw new Error(\"schema is undefined\");\n  }\n\n  if (schema['extends']) {\n    if (Array.isArray(schema['extends'])) {\n      var schemaobj = {schema: schema, ctx: ctx};\n      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));\n      schema = schemaobj.schema;\n      schemaobj.schema = null;\n      schemaobj.ctx = null;\n      schemaobj = null;\n    } else {\n      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));\n    }\n  }\n\n  // If passed a string argument, load that schema URI\n  var switchSchema = shouldResolve(schema);\n  if (switchSchema) {\n    var resolved = this.resolve(schema, switchSchema, ctx);\n    var subctx = new SchemaContext(resolved.subschema, options, ctx.path, resolved.switchSchema, ctx.schemas);\n    return this.validateSchema(instance, resolved.subschema, options, subctx);\n  }\n\n  var skipAttributes = options && options.skipAttributes || [];\n  // Validate each schema attribute against the instance\n  for (var key in schema) {\n    if (!attribute.ignoreProperties[key] && skipAttributes.indexOf(key) < 0) {\n      var validatorErr = null;\n      var validator = this.attributes[key];\n      if (validator) {\n        validatorErr = validator.call(this, instance, schema, options, ctx);\n      } else if (options.allowUnknownAttributes === false) {\n        // This represents an error with the schema itself, not an invalid instance\n        throw new SchemaError(\"Unsupported attribute: \" + key, schema);\n      }\n      if (validatorErr) {\n        result.importErrors(validatorErr);\n      }\n    }\n  }\n\n  if (typeof options.rewrite == 'function') {\n    var value = options.rewrite.call(this, instance, schema, options, ctx);\n    result.instance = value;\n  }\n  return result;\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.schemaTraverser = function schemaTraverser (schemaobj, s) {\n  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.superResolve = function superResolve (schema, ctx) {\n  var ref = shouldResolve(schema);\n  if(ref) {\n    return this.resolve(schema, ref, ctx).subschema;\n  }\n  return schema;\n};\n\n/**\n* @private\n* @param Object schema\n* @param Object switchSchema\n* @param SchemaContext ctx\n* @return Object resolved schemas {subschema:String, switchSchema: String}\n* @throws SchemaError\n*/\nValidator.prototype.resolve = function resolve (schema, switchSchema, ctx) {\n  switchSchema = ctx.resolve(switchSchema);\n  // First see if the schema exists under the provided URI\n  if (ctx.schemas[switchSchema]) {\n    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};\n  }\n  // Else try walking the property pointer\n  var parsed = urilib.parse(switchSchema);\n  var fragment = parsed && parsed.hash;\n  var document = fragment && fragment.length && switchSchema.substr(0, switchSchema.length - fragment.length);\n  if (!document || !ctx.schemas[document]) {\n    throw new SchemaError(\"no such schema <\" + switchSchema + \">\", schema);\n  }\n  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));\n  if(subschema===undefined){\n    throw new SchemaError(\"no such schema \" + fragment + \" located in <\" + document + \">\", schema);\n  }\n  return {subschema: subschema, switchSchema: switchSchema};\n};\n\n/**\n * Tests whether the instance if of a certain type.\n * @private\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @param type\n * @return {boolean}\n */\nValidator.prototype.testType = function validateType (instance, schema, options, ctx, type) {\n  if(type===undefined){\n    return;\n  }else if(type===null){\n    throw new SchemaError('Unexpected null in \"type\" keyword');\n  }\n  if (typeof this.types[type] == 'function') {\n    return this.types[type].call(this, instance);\n  }\n  if (type && typeof type == 'object') {\n    var res = this.validateSchema(instance, type, options, ctx);\n    return res === undefined || !(res && res.errors.length);\n  }\n  // Undefined or properties not on the list are acceptable, same as not being defined\n  return true;\n};\n\nvar types = Validator.prototype.types = {};\ntypes.string = function testString (instance) {\n  return typeof instance == 'string';\n};\ntypes.number = function testNumber (instance) {\n  // isFinite returns false for NaN, Infinity, and -Infinity\n  return typeof instance == 'number' && isFinite(instance);\n};\ntypes.integer = function testInteger (instance) {\n  return (typeof instance == 'number') && instance % 1 === 0;\n};\ntypes.boolean = function testBoolean (instance) {\n  return typeof instance == 'boolean';\n};\ntypes.array = function testArray (instance) {\n  return Array.isArray(instance);\n};\ntypes['null'] = function testNull (instance) {\n  return instance === null;\n};\ntypes.date = function testDate (instance) {\n  return instance instanceof Date;\n};\ntypes.any = function testAny (instance) {\n  return true;\n};\ntypes.object = function testObject (instance) {\n  // TODO: fix this - see #15\n  return instance && (typeof instance === 'object') && !(Array.isArray(instance)) && !(instance instanceof Date);\n};\n\nmodule.exports = Validator;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (obj === global) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","/*jshint node:true*/\n'use strict';\n\n/**\n * Replaces characters in strings that are illegal/unsafe for filenames.\n * Unsafe characters are either removed or replaced by a substitute set\n * in the optional `options` object.\n *\n * Illegal Characters on Various Operating Systems\n * / ? < > \\ : * | \"\n * https://kb.acronis.com/content/39790\n *\n * Unicode Control codes\n * C0 0x00-0x1f & C1 (0x80-0x9f)\n * http://en.wikipedia.org/wiki/C0_and_C1_control_codes\n *\n * Reserved filenames on Unix-based systems (\".\", \"..\")\n * Reserved filenames in Windows (\"CON\", \"PRN\", \"AUX\", \"NUL\", \"COM1\",\n * \"COM2\", \"COM3\", \"COM4\", \"COM5\", \"COM6\", \"COM7\", \"COM8\", \"COM9\",\n * \"LPT1\", \"LPT2\", \"LPT3\", \"LPT4\", \"LPT5\", \"LPT6\", \"LPT7\", \"LPT8\", and\n * \"LPT9\") case-insesitively and with or without filename extensions.\n *\n * Capped at 255 characters in length.\n * http://unix.stackexchange.com/questions/32795/what-is-the-maximum-allowed-filename-and-folder-size-with-ecryptfs\n *\n * @param  {String} input   Original filename\n * @param  {Object} options {replacement: String | Function }\n * @return {String}         Sanitized filename\n */\n\nvar truncate = require(\"truncate-utf8-bytes\");\n\nvar illegalRe = /[\\/\\?<>\\\\:\\*\\|\"]/g;\nvar controlRe = /[\\x00-\\x1f\\x80-\\x9f]/g;\nvar reservedRe = /^\\.+$/;\nvar windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\\..*)?$/i;\nvar windowsTrailingRe = /[\\. ]+$/;\n\nfunction sanitize(input, replacement) {\n  if (typeof input !== 'string') {\n    throw new Error('Input must be string');\n  }\n  var sanitized = input\n    .replace(illegalRe, replacement)\n    .replace(controlRe, replacement)\n    .replace(reservedRe, replacement)\n    .replace(windowsReservedRe, replacement)\n    .replace(windowsTrailingRe, replacement);\n  return truncate(sanitized, 255);\n}\n\nmodule.exports = function (input, options) {\n  var replacement = (options && options.replacement) || '';\n  var output = sanitize(input, replacement);\n  if (replacement === '') {\n    return output;\n  }\n  return sanitize(output, '');\n};\n","'use strict';\n\nvar truncate = require(\"./lib/truncate\");\nvar getLength = require(\"utf8-byte-length/browser\");\nmodule.exports = truncate.bind(null, getLength);\n","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function truncate(getLength, string, byteLength) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var curByteLength = 0;\n  var codePoint;\n  var segment;\n\n  for (var i = 0; i < charLength; i += 1) {\n    codePoint = string.charCodeAt(i);\n    segment = string[i];\n\n    if (isHighSurrogate(codePoint) && isLowSurrogate(string.charCodeAt(i + 1))) {\n      i += 1;\n      segment += string[i];\n    }\n\n    curByteLength += getLength(segment);\n\n    if (curByteLength === byteLength) {\n      return string.slice(0, i + 1);\n    }\n    else if (curByteLength > byteLength) {\n      return string.slice(0, i - segment.length + 1);\n    }\n  }\n\n  return string;\n};\n\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? prefix.replace(/\\./g, '%2E') : prefix;\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list. By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('.').listGetNode} */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\tfor (; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('.').listGet} */\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('.').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('.').ListNode<typeof value>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('.').listHas} */\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @type {WeakMap<object, unknown>} */ var $wm;\n\t/** @type {Map<object, unknown>} */ var $m;\n\t/** @type {import('.').RootNode<unknown>} */ var $o;\n\n\t/** @type {import('.').Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","/*\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nvar punycode = require('punycode/');\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n/*\n * define these here so at least they only have to be\n * compiled once on the first module load.\n */\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n  portPattern = /:[0-9]*$/,\n\n  // Special case for a simple path URL\n  simplePathPattern = /^(\\/\\/?(?!\\/)[^?\\s]*)(\\?[^\\s]*)?$/,\n\n  /*\n   * RFC 2396: characters reserved for delimiting URLs.\n   * We actually just auto-escape these.\n   */\n  delims = [\n    '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'\n  ],\n\n  // RFC 2396: characters not allowed for various reasons.\n  unwise = [\n    '{', '}', '|', '\\\\', '^', '`'\n  ].concat(delims),\n\n  // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n  autoEscape = ['\\''].concat(unwise),\n  /*\n   * Characters that are never ever allowed in a hostname.\n   * Note that any invalid chars are also handled, but these\n   * are the ones that are *expected* to be seen, so we fast-path\n   * them.\n   */\n  nonHostChars = [\n    '%', '/', '?', ';', '#'\n  ].concat(autoEscape),\n  hostEndingChars = [\n    '/', '?', '#'\n  ],\n  hostnameMaxLen = 255,\n  hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n  hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n  // protocols that can allow \"unsafe\" and \"unwise\" chars.\n  unsafeProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that never have a hostname.\n  hostlessProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that always contain a // bit.\n  slashedProtocol = {\n    http: true,\n    https: true,\n    ftp: true,\n    gopher: true,\n    file: true,\n    'http:': true,\n    'https:': true,\n    'ftp:': true,\n    'gopher:': true,\n    'file:': true\n  },\n  querystring = require('qs');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && typeof url === 'object' && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {\n  if (typeof url !== 'string') {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  /*\n   * Copy chrome, IE, opera backslash-handling behavior.\n   * Back slashes before the query string get converted to forward slashes\n   * See: https://code.google.com/p/chromium/issues/detail?id=25916\n   */\n  var queryIndex = url.indexOf('?'),\n    splitter = queryIndex !== -1 && queryIndex < url.indexOf('#') ? '?' : '#',\n    uSplit = url.split(splitter),\n    slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  /*\n   * trim before proceeding.\n   * This is to support parse stuff like \"  http://foo.com  \\n\"\n   */\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  /*\n   * figure out if it's got a host\n   * user@server is *always* interpreted as a hostname, and url\n   * resolution will treat //foo/bar as host=foo,path=bar because that's\n   * how the browser resolves relative URLs.\n   */\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@/]+@[^@/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] && (slashes || (proto && !slashedProtocol[proto]))) {\n\n    /*\n     * there's a hostname.\n     * the first instance of /, ?, ;, or # ends the host.\n     *\n     * If there is an @ in the hostname, then non-host chars *are* allowed\n     * to the left of the last @ sign, unless some host-ending character\n     * comes *before* the @-sign.\n     * URLs are obnoxious.\n     *\n     * ex:\n     * http://a@b@c/ => user:a@b host:c\n     * http://a@b?@c => user:a host:c path:/?@c\n     */\n\n    /*\n     * v0.12 TODO(isaacs): This is not quite how Chrome does things.\n     * Review our test case against browsers more comprehensively.\n     */\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n\n    /*\n     * at this point, either we have an explicit point where the\n     * auth portion cannot go past, or the last @ char is the decider.\n     */\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      /*\n       * atSign must be in auth portion.\n       * http://a@b/c@d => host:b auth:a path:/c@d\n       */\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    /*\n     * Now we have a portion which is definitely the auth.\n     * Pull that off.\n     */\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) { hostEnd = rest.length; }\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    /*\n     * we've indicated that there is a hostname,\n     * so even if it's empty, it has to be present.\n     */\n    this.hostname = this.hostname || '';\n\n    /*\n     * if hostname begins with [ and ends with ]\n     * assume that it's an IPv6 address.\n     */\n    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              /*\n               * we replace non-ASCII char with a temporary placeholder\n               * we need this to make sure size of hostname is not\n               * broken by replacing non-ASCII by nothing\n               */\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      /*\n       * IDNA Support: Returns a punycoded representation of \"domain\".\n       * It only converts parts of the domain name that\n       * have non-ASCII characters, i.e. it doesn't matter if\n       * you call it with a domain that already is ASCII-only.\n       */\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    /*\n     * strip [ and ] from the hostname\n     * the host field still retains them, though\n     */\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  /*\n   * now rest is set to the post-host stuff.\n   * chop off any delim chars.\n   */\n  if (!unsafeProtocol[lowerProto]) {\n\n    /*\n     * First, make 100% sure that any \"autoEscape\" chars get\n     * escaped, even if encodeURIComponent doesn't think they\n     * need to be.\n     */\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1) { continue; }\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  // to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  /*\n   * ensure it's an object, and not a string url.\n   * If it's an obj, this is a no-op.\n   * this way, you can call url_format() on strings\n   * to clean up potentially wonky urls.\n   */\n  if (typeof obj === 'string') { obj = urlParse(obj); }\n  if (!(obj instanceof Url)) { return Url.prototype.format.call(obj); }\n  return obj.format();\n}\n\nUrl.prototype.format = function () {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n    pathname = this.pathname || '',\n    hash = this.hash || '',\n    host = false,\n    query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query && typeof this.query === 'object' && Object.keys(this.query).length) {\n    query = querystring.stringify(this.query, {\n      arrayFormat: 'repeat',\n      addQueryPrefix: false\n    });\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') { protocol += ':'; }\n\n  /*\n   * only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n   * unless they had them to begin with.\n   */\n  if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') { pathname = '/' + pathname; }\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') { hash = '#' + hash; }\n  if (search && search.charAt(0) !== '?') { search = '?' + search; }\n\n  pathname = pathname.replace(/[?#]/g, function (match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function (relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) { return relative; }\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function (relative) {\n  if (typeof relative === 'string') {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  /*\n   * hash is always overridden, no matter what.\n   * even href=\"\" will remove it.\n   */\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol') { result[rkey] = relative[rkey]; }\n    }\n\n    // urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {\n      result.pathname = '/';\n      result.path = result.pathname;\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    /*\n     * if it's a known url protocol, then changing\n     * the protocol does weird things\n     * first, if it's not file:, then we MUST have a host,\n     * and if there was a path\n     * to begin with, then we MUST have a path.\n     * if it is file:, then the host is dropped,\n     * because that's known to be hostless.\n     * anything else is assumed to be absolute.\n     */\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift())) { }\n      if (!relative.host) { relative.host = ''; }\n      if (!relative.hostname) { relative.hostname = ''; }\n      if (relPath[0] !== '') { relPath.unshift(''); }\n      if (relPath.length < 2) { relPath.unshift(''); }\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = result.pathname && result.pathname.charAt(0) === '/',\n    isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === '/',\n    mustEndAbs = isRelAbs || isSourceAbs || (result.host && relative.pathname),\n    removeAllDots = mustEndAbs,\n    srcPath = result.pathname && result.pathname.split('/') || [],\n    relPath = relative.pathname && relative.pathname.split('/') || [],\n    psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  /*\n   * if the url is a non-slashed url, then relative\n   * links like ../.. should be able\n   * to crawl up to the hostname, as well.  This is strange.\n   * result.protocol has already been set by now.\n   * Later on, put the first path part into the host field.\n   */\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') { srcPath[0] = result.host; } else { srcPath.unshift(result.host); }\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') { relPath[0] = relative.host; } else { relPath.unshift(relative.host); }\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = relative.host || relative.host === '' ? relative.host : result.host;\n    result.hostname = relative.hostname || relative.hostname === '' ? relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    /*\n     * it's relative\n     * throw away the existing file, and take the new path instead.\n     */\n    if (!srcPath) { srcPath = []; }\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (relative.search != null) {\n    /*\n     * just pull out the search.\n     * like href='?foo'.\n     * Put this after the other two cases because it simplifies the booleans\n     */\n    if (psychotic) {\n      result.host = srcPath.shift();\n      result.hostname = result.host;\n      /*\n       * occationaly the auth can get stuck only in host\n       * this especially happens in cases like\n       * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n       */\n      var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.hostname = authInHost.shift();\n        result.host = result.hostname;\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    // to support http.request\n    if (result.pathname !== null || result.search !== null) {\n      result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    /*\n     * no path at all.  easy.\n     * we've already handled the other stuff above.\n     */\n    result.pathname = null;\n    // to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  /*\n   * if a url ENDs in . or .., then it must get a trailing slash.\n   * however, if it ends in anything else non-slashy,\n   * then it must NOT get a trailing slash.\n   */\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '';\n\n  /*\n   * strip single dots, resolve double dots to parent dir\n   * if the path tries to go above the root, `up` ends up > 0\n   */\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' || (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';\n    result.host = result.hostname;\n    /*\n     * occationaly the auth can get stuck only in host\n     * this especially happens in cases like\n     * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n     */\n    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.hostname = authInHost.shift();\n      result.host = result.hostname;\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (srcPath.length > 0) {\n    result.pathname = srcPath.join('/');\n  } else {\n    result.pathname = null;\n    result.path = null;\n  }\n\n  // to support request.http\n  if (result.pathname !== null || result.search !== null) {\n    result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function () {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function getByteLength(string) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var byteLength = 0;\n  var codePoint = null;\n  var prevCodePoint = null;\n  for (var i = 0; i < charLength; i++) {\n    codePoint = string.charCodeAt(i);\n    // handle 4-byte non-BMP chars\n    // low surrogate\n    if (isLowSurrogate(codePoint)) {\n      // when parsing previous hi-surrogate, 3 is added to byteLength\n      if (prevCodePoint != null && isHighSurrogate(prevCodePoint)) {\n        byteLength += 1;\n      }\n      else {\n        byteLength += 3;\n      }\n    }\n    else if (codePoint <= 0x7f ) {\n      byteLength += 1;\n    }\n    else if (codePoint >= 0x80 && codePoint <= 0x7ff) {\n      byteLength += 2;\n    }\n    else if (codePoint >= 0x800 && codePoint <= 0xffff) {\n      byteLength += 3;\n    }\n    prevCodePoint = codePoint;\n  }\n\n  return byteLength;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","export var PauseOnHoverMode;\n(function (PauseOnHoverMode) {\n    PauseOnHoverMode[PauseOnHoverMode[\"disabled\"] = 0] = \"disabled\";\n    PauseOnHoverMode[PauseOnHoverMode[\"inAndOut\"] = 1] = \"inAndOut\";\n    PauseOnHoverMode[PauseOnHoverMode[\"inNotOut\"] = 2] = \"inNotOut\";\n})(PauseOnHoverMode || (PauseOnHoverMode = {}));\nconst ankiSettingsKeysObject = {\n    ankiConnectUrl: true,\n    deck: true,\n    noteType: true,\n    sentenceField: true,\n    definitionField: true,\n    audioField: true,\n    imageField: true,\n    wordField: true,\n    sourceField: true,\n    urlField: true,\n    track1Field: true,\n    track2Field: true,\n    track3Field: true,\n    customAnkiFields: true,\n    tags: true,\n    recordWithAudioPlayback: true,\n    preferMp3: true,\n    audioPaddingStart: true,\n    audioPaddingEnd: true,\n    maxImageWidth: true,\n    maxImageHeight: true,\n    surroundingSubtitlesCountRadius: true,\n    surroundingSubtitlesTimeRadius: true,\n    ankiFieldSettings: true,\n    customAnkiFieldSettings: true,\n};\nexport const ankiSettingsKeys = Object.keys(ankiSettingsKeysObject);\nconst textSubtitleSettingsKeysObject = {\n    subtitleColor: true,\n    subtitleSize: true,\n    subtitleThickness: true,\n    subtitleOutlineThickness: true,\n    subtitleOutlineColor: true,\n    subtitleShadowThickness: true,\n    subtitleShadowColor: true,\n    subtitleBackgroundOpacity: true,\n    subtitleBackgroundColor: true,\n    subtitleFontFamily: true,\n    subtitleCustomStyles: true,\n    subtitleBlur: true,\n    subtitleAlignment: true,\n};\nexport const textSubtitleSettingsKeys = Object.keys(textSubtitleSettingsKeysObject);\nconst subtitleSettingsKeysObject = {\n    subtitleColor: true,\n    subtitleSize: true,\n    subtitleThickness: true,\n    subtitleOutlineThickness: true,\n    subtitleOutlineColor: true,\n    subtitleShadowThickness: true,\n    subtitleShadowColor: true,\n    subtitleBackgroundOpacity: true,\n    subtitleBackgroundColor: true,\n    subtitleFontFamily: true,\n    subtitleCustomStyles: true,\n    subtitleBlur: true,\n    imageBasedSubtitleScaleFactor: true,\n    subtitlePositionOffset: true,\n    topSubtitlePositionOffset: true,\n    subtitleAlignment: true,\n    subtitleTracksV2: true,\n    subtitlesWidth: true,\n};\nexport const subtitleSettingsKeys = Object.keys(subtitleSettingsKeysObject);\nexport const extractAnkiSettings = (settings) => {\n    return Object.fromEntries(ankiSettingsKeys.map((k) => [k, settings[k]]));\n};\nexport var SubtitleListPreference;\n(function (SubtitleListPreference) {\n    SubtitleListPreference[\"noSubtitleList\"] = \"noSubtitleList\";\n    SubtitleListPreference[\"app\"] = \"app\";\n})(SubtitleListPreference || (SubtitleListPreference = {}));\nconst keyBindNameMap = {\n    'copy-subtitle': 'copySubtitle',\n    'copy-subtitle-with-dialog': 'ankiExport',\n    'update-last-card': 'updateLastCard',\n    'take-screenshot': 'takeScreenshot',\n    'toggle-recording': 'toggleRecording',\n    'toggle-video-select': 'selectSubtitleTrack',\n};\nexport function chromeCommandBindsToKeyBinds(chromeCommands) {\n    const keyBinds = {};\n    for (const commandName of Object.keys(chromeCommands)) {\n        keyBinds[keyBindNameMap[commandName]] = chromeCommands[commandName];\n    }\n    return keyBinds;\n}\n","export var ImageErrorCode;\n(function (ImageErrorCode) {\n    ImageErrorCode[ImageErrorCode[\"captureFailed\"] = 1] = \"captureFailed\";\n    ImageErrorCode[ImageErrorCode[\"fileLinkLost\"] = 2] = \"fileLinkLost\";\n})(ImageErrorCode || (ImageErrorCode = {}));\nexport var AudioErrorCode;\n(function (AudioErrorCode) {\n    AudioErrorCode[AudioErrorCode[\"drmProtected\"] = 1] = \"drmProtected\";\n    AudioErrorCode[AudioErrorCode[\"fileLinkLost\"] = 2] = \"fileLinkLost\";\n})(AudioErrorCode || (AudioErrorCode = {}));\nexport var VideoDataUiOpenReason;\n(function (VideoDataUiOpenReason) {\n    VideoDataUiOpenReason[VideoDataUiOpenReason[\"miningCommand\"] = 1] = \"miningCommand\";\n    VideoDataUiOpenReason[VideoDataUiOpenReason[\"failedToAutoLoadPreferredTrack\"] = 2] = \"failedToAutoLoadPreferredTrack\";\n    VideoDataUiOpenReason[VideoDataUiOpenReason[\"userRequested\"] = 3] = \"userRequested\";\n})(VideoDataUiOpenReason || (VideoDataUiOpenReason = {}));\nexport var PostMineAction;\n(function (PostMineAction) {\n    PostMineAction[PostMineAction[\"none\"] = 0] = \"none\";\n    PostMineAction[PostMineAction[\"showAnkiDialog\"] = 1] = \"showAnkiDialog\";\n    PostMineAction[PostMineAction[\"updateLastCard\"] = 2] = \"updateLastCard\";\n    PostMineAction[PostMineAction[\"exportCard\"] = 3] = \"exportCard\";\n})(PostMineAction || (PostMineAction = {}));\nexport var PostMinePlayback;\n(function (PostMinePlayback) {\n    PostMinePlayback[PostMinePlayback[\"remember\"] = 0] = \"remember\";\n    PostMinePlayback[PostMinePlayback[\"play\"] = 1] = \"play\";\n    PostMinePlayback[PostMinePlayback[\"pause\"] = 2] = \"pause\";\n})(PostMinePlayback || (PostMinePlayback = {}));\nexport var AutoPausePreference;\n(function (AutoPausePreference) {\n    AutoPausePreference[AutoPausePreference[\"atStart\"] = 1] = \"atStart\";\n    AutoPausePreference[AutoPausePreference[\"atEnd\"] = 2] = \"atEnd\";\n})(AutoPausePreference || (AutoPausePreference = {}));\nexport var PlayMode;\n(function (PlayMode) {\n    PlayMode[PlayMode[\"normal\"] = 1] = \"normal\";\n    PlayMode[PlayMode[\"condensed\"] = 2] = \"condensed\";\n    PlayMode[PlayMode[\"autoPause\"] = 3] = \"autoPause\";\n    PlayMode[PlayMode[\"fastForward\"] = 4] = \"fastForward\";\n    PlayMode[PlayMode[\"repeat\"] = 5] = \"repeat\";\n})(PlayMode || (PlayMode = {}));\nexport var ControlType;\n(function (ControlType) {\n    ControlType[ControlType[\"timeDisplay\"] = 0] = \"timeDisplay\";\n    ControlType[ControlType[\"subtitleOffset\"] = 1] = \"subtitleOffset\";\n    ControlType[ControlType[\"playbackRate\"] = 2] = \"playbackRate\";\n})(ControlType || (ControlType = {}));\n","import sanitize from 'sanitize-filename';\nexport function humanReadableTime(timestamp, nearestTenth = false) {\n    const totalSeconds = Math.floor(timestamp / 1000);\n    let seconds;\n    if (nearestTenth) {\n        seconds = Math.round(((timestamp / 1000) % 60) * 10) / 10;\n    }\n    else {\n        seconds = totalSeconds % 60;\n    }\n    const minutes = Math.floor(totalSeconds / 60) % 60;\n    const hours = Math.floor(totalSeconds / 3600);\n    if (hours > 0) {\n        return hours + 'h' + String(minutes).padStart(2, '0') + 'm' + String(seconds).padStart(2, '0') + 's';\n    }\n    return minutes + 'm' + String(seconds).padStart(2, '0') + 's';\n}\nexport function surroundingSubtitles(subtitles, index, countRadius, timeRadius) {\n    let startIndex = index;\n    for (let i = index; i >= 0; --i) {\n        startIndex = i;\n        if (atBoundary(subtitles, startIndex, index, countRadius, timeRadius, Direction.backward)) {\n            break;\n        }\n    }\n    let endIndex = startIndex;\n    for (let i = index; i <= subtitles.length - 1; ++i) {\n        endIndex = i;\n        if (atBoundary(subtitles, endIndex, index, countRadius, timeRadius, Direction.forward)) {\n            break;\n        }\n    }\n    return subtitles.slice(startIndex, endIndex + 1);\n}\nfunction indexNearTimestamp(subtitles, timestamp, direction) {\n    if (direction === Direction.forward) {\n        for (let i = 0; i < subtitles.length; ++i) {\n            if (subtitles[i].start >= timestamp) {\n                return i;\n            }\n        }\n    }\n    else {\n        for (let i = subtitles.length - 1; i >= 0; --i) {\n            if (subtitles[i].start <= timestamp) {\n                return i;\n            }\n        }\n    }\n    return undefined;\n}\nexport function surroundingSubtitlesAroundInterval(subtitles, startTimestamp, endTimestamp, countRadius, timeRadius) {\n    if (subtitles.length === 0) {\n        return {};\n    }\n    let startBoundaryIndex = 0;\n    const indexAfterStartTimestamp = indexNearTimestamp(subtitles, startTimestamp, Direction.forward) ?? subtitles.length - 1;\n    for (let i = 0; i < subtitles.length; ++i) {\n        startBoundaryIndex = i;\n        if (withinBoundaryAroundInterval(subtitles, i, countRadius, timeRadius, startTimestamp, indexAfterStartTimestamp)) {\n            break;\n        }\n    }\n    let endBoundaryIndex = subtitles.length - 1;\n    const indexBeforeEndTimestamp = indexNearTimestamp(subtitles, endTimestamp, Direction.backward) ?? 0;\n    for (let i = subtitles.length - 1; i >= 0; --i) {\n        endBoundaryIndex = i;\n        if (withinBoundaryAroundInterval(subtitles, i, countRadius, timeRadius, endTimestamp, indexBeforeEndTimestamp)) {\n            break;\n        }\n    }\n    if (endBoundaryIndex <= startBoundaryIndex) {\n        return {};\n    }\n    return {\n        surroundingSubtitles: subtitles.slice(startBoundaryIndex, endBoundaryIndex + 1),\n        subtitle: subtitles[indexAfterStartTimestamp],\n    };\n}\nexport function mockSurroundingSubtitles(middleSubtitle, maxTimestamp, timeRadius) {\n    const subtitles = [middleSubtitle];\n    const offset = middleSubtitle.start - middleSubtitle.originalStart;\n    if (middleSubtitle.end < maxTimestamp) {\n        const afterTimestamp = Math.min(maxTimestamp, middleSubtitle.end + timeRadius);\n        subtitles.push({\n            text: '',\n            start: middleSubtitle.end,\n            end: afterTimestamp,\n            originalStart: middleSubtitle.end - offset,\n            originalEnd: afterTimestamp - offset,\n            track: middleSubtitle.track,\n        });\n    }\n    if (middleSubtitle.start > 0) {\n        const beforeTimestamp = Math.max(0, middleSubtitle.start - timeRadius);\n        subtitles.unshift({\n            text: '',\n            start: beforeTimestamp,\n            end: middleSubtitle.start,\n            originalStart: beforeTimestamp - offset,\n            originalEnd: middleSubtitle.start - offset,\n            track: middleSubtitle.track,\n        });\n    }\n    return subtitles;\n}\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"forward\"] = 0] = \"forward\";\n    Direction[Direction[\"backward\"] = 1] = \"backward\";\n})(Direction || (Direction = {}));\nfunction atBoundary(subtitles, index, initialIndex, countRadius, timeRadius, direction) {\n    let next;\n    if (direction == Direction.forward) {\n        next = index + 1 < subtitles.length ? subtitles[index + 1] : null;\n    }\n    else {\n        next = index - 1 >= 0 ? subtitles[index - 1] : null;\n    }\n    if (Math.abs(initialIndex - index) >= countRadius &&\n        (next === null || Math.abs(next.start - subtitles[initialIndex].start) >= timeRadius)) {\n        return true;\n    }\n    return false;\n}\nfunction withinBoundaryAroundInterval(subtitles, index, countRadius, timeRadius, timestamp, indexNearTimestamp) {\n    const current = subtitles[index];\n    if (Math.abs(indexNearTimestamp - index) <= countRadius || Math.abs(current.start - timestamp) <= timeRadius) {\n        return true;\n    }\n    return false;\n}\nexport function subtitleIntersectsTimeInterval(subtitle, interval) {\n    const length = Math.max(0, subtitle.end - subtitle.start);\n    if (length === 0) {\n        return false;\n    }\n    const overlapStart = Math.max(subtitle.start, interval[0]);\n    const overlapEnd = Math.min(subtitle.end, interval[1]);\n    return overlapEnd - overlapStart >= length / 2;\n}\nexport function joinSubtitles(subtitles) {\n    return subtitles\n        .filter((s) => s.text.trim() !== '')\n        .map((s) => s.text)\n        .join('\\n');\n}\nexport function extractText(subtitle, surroundingSubtitles, track) {\n    if (surroundingSubtitles.length === 0) {\n        return subtitle.text;\n    }\n    const interval = [subtitle.start, subtitle.end];\n    return joinSubtitles(surroundingSubtitles\n        .filter((s) => subtitleIntersectsTimeInterval(s, interval))\n        .filter((s) => track === undefined || s.track === track));\n}\nexport function download(blob, name) {\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    document.body.appendChild(a);\n    a.style.display = 'none';\n    a.href = url;\n    a.download = sanitize(name);\n    a.click();\n    URL.revokeObjectURL(url);\n    a.remove();\n}\nexport function computeStyles({ subtitleColor, subtitleSize, subtitleThickness, subtitleOutlineThickness, subtitleOutlineColor, subtitleShadowThickness, subtitleShadowColor, subtitleBackgroundOpacity, subtitleBackgroundColor, subtitleFontFamily, subtitleCustomStyles, }) {\n    const styles = {\n        color: subtitleColor,\n        fontSize: `${subtitleSize}px`,\n        fontWeight: String(subtitleThickness),\n    };\n    if (subtitleOutlineThickness > 0) {\n        const thickness = subtitleOutlineThickness;\n        const color = subtitleOutlineColor;\n        styles['WebkitTextStroke'] = `${color} ${thickness}px`;\n    }\n    if (subtitleShadowThickness > 0) {\n        styles['textShadow'] = `0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}, 0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}, 0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}, 0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}`;\n    }\n    if (subtitleBackgroundOpacity > 0) {\n        const opacity = subtitleBackgroundOpacity;\n        const color = subtitleBackgroundColor;\n        const { r, g, b } = hexToRgb(color);\n        styles['backgroundColor'] = `rgba(${r}, ${g}, ${b}, ${opacity})`;\n    }\n    if (subtitleFontFamily && subtitleFontFamily.length > 0) {\n        styles['fontFamily'] = `'${subtitleFontFamily}'`;\n    }\n    for (const customStyle of subtitleCustomStyles) {\n        let key;\n        if (customStyle.key.startsWith('webkit') ||\n            customStyle.key.startsWith('moz') ||\n            customStyle.key.startsWith('ms') ||\n            /^o[A-Z].*/.test(customStyle.key)) {\n            key = customStyle.key.charAt(0).toUpperCase() + customStyle.key.slice(1);\n        }\n        else {\n            key = customStyle.key;\n        }\n        if (!isNumeric(key)) {\n            // A bug has allowed style keys that look like '0', '1',... to make it into some users' settings\n            // Using such a style key with react crashes the app, so filter them out here\n            styles[key] = customStyle.value;\n        }\n    }\n    return styles;\n}\nexport function isNumeric(str) {\n    return !isNaN(Number(str));\n}\n// https://stackoverflow.com/questions/63116039/camelcase-to-kebab-case\nfunction kebabize(str) {\n    const kebabized = str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\n    if (kebabized.startsWith('webkit-') ||\n        kebabized.startsWith('moz-') ||\n        kebabized.startsWith('ms-') ||\n        kebabized.startsWith('o-')) {\n        return `-${kebabized}`;\n    }\n    return kebabized;\n}\nexport function computeStyleString(styleSettings) {\n    const stylesMap = computeStyles(styleSettings);\n    const styleList = [];\n    for (const [key, value] of Object.entries(stylesMap)) {\n        styleList.push(`${kebabize(key)}: ${value} !important`);\n    }\n    return styleList.join(';');\n}\n// https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\nexport function hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    if (!result) {\n        return { r: 255, g: 255, b: 255 };\n    }\n    return {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n    };\n}\nexport function sourceString(subtitleFileName, timestamp) {\n    return timestamp === 0 ? subtitleFileName : `${subtitleFileName} (${humanReadableTime(timestamp)})`;\n}\nexport function seekWithNudge(media, timestampSeconds) {\n    media.currentTime = timestampSeconds;\n    if (media.currentTime < timestampSeconds) {\n        // Seeking is imprecise and may not land on the desired timestamp\n        // Favor seeking slightly ahead to avoid getting stuck when seeking between subtitles\n        media.currentTime = Math.min(media.duration, media.currentTime + 0.01);\n    }\n    return media.currentTime;\n}\n","export var StartRecordingErrorCode;\n(function (StartRecordingErrorCode) {\n    StartRecordingErrorCode[StartRecordingErrorCode[\"noActiveTabPermission\"] = 1] = \"noActiveTabPermission\";\n    StartRecordingErrorCode[StartRecordingErrorCode[\"drmProtected\"] = 2] = \"drmProtected\";\n    StartRecordingErrorCode[StartRecordingErrorCode[\"other\"] = 3] = \"other\";\n})(StartRecordingErrorCode || (StartRecordingErrorCode = {}));\nexport var StopRecordingErrorCode;\n(function (StopRecordingErrorCode) {\n    StopRecordingErrorCode[StopRecordingErrorCode[\"timedAudioRecordingInProgress\"] = 1] = \"timedAudioRecordingInProgress\";\n    StopRecordingErrorCode[StopRecordingErrorCode[\"other\"] = 2] = \"other\";\n})(StopRecordingErrorCode || (StopRecordingErrorCode = {}));\n","import { SubtitleListPreference, textSubtitleSettingsKeys, } from '.';\nimport { AutoPausePreference, PostMineAction, PostMinePlayback } from '..';\n// @ts-ignore\nconst isMacOs = (navigator.userAgentData?.platform ?? navigator.platform)?.toUpperCase()?.indexOf('MAC') > -1;\nconst defaultSubtitleTextSettings = {\n    subtitleSize: 36,\n    subtitleColor: '#ffffff',\n    subtitleThickness: 700,\n    subtitleOutlineThickness: 0,\n    subtitleOutlineColor: '#000000',\n    subtitleShadowThickness: 3,\n    subtitleShadowColor: '#000000',\n    subtitleBackgroundColor: '#000000',\n    subtitleBackgroundOpacity: 0,\n    subtitleFontFamily: '',\n    subtitlePreview: 'Aa',\n    subtitleCustomStyles: [],\n    subtitleBlur: false,\n};\nexport const defaultSettings = {\n    ankiConnectUrl: 'http://127.0.0.1:8765',\n    deck: '',\n    noteType: '',\n    sentenceField: '',\n    definitionField: '',\n    audioField: '',\n    imageField: '',\n    wordField: '',\n    sourceField: '',\n    urlField: '',\n    track1Field: '',\n    track2Field: '',\n    track3Field: '',\n    ankiFieldSettings: {\n        sentence: { order: 1, display: true },\n        definition: { order: 2, display: true },\n        word: { order: 3, display: true },\n        audio: { order: 4, display: true },\n        image: { order: 5, display: true },\n        source: { order: 6, display: true },\n        url: { order: 7, display: true },\n        track1: { order: 8, display: false },\n        track2: { order: 9, display: false },\n        track3: { order: 10, display: false },\n    },\n    customAnkiFieldSettings: {},\n    ...defaultSubtitleTextSettings,\n    subtitlePositionOffset: 75,\n    topSubtitlePositionOffset: 75,\n    subtitleAlignment: 'bottom',\n    subtitleTracksV2: [],\n    subtitlesWidth: -1,\n    audioPaddingStart: 0,\n    audioPaddingEnd: 500,\n    maxImageWidth: 0,\n    maxImageHeight: 0,\n    surroundingSubtitlesCountRadius: 2,\n    surroundingSubtitlesTimeRadius: 10000,\n    autoPausePreference: AutoPausePreference.atEnd,\n    speedChangeStep: 0.1,\n    fastForwardModePlaybackRate: 2.7,\n    keyBindSet: {\n        togglePlay: { keys: 'space' },\n        toggleAutoPause: { keys: isMacOs ? '+P' : 'shift+P' },\n        toggleCondensedPlayback: { keys: isMacOs ? '+O' : 'shift+O' },\n        toggleFastForwardPlayback: { keys: isMacOs ? '+F' : 'shift+F' },\n        toggleSubtitles: { keys: 'down' },\n        toggleVideoSubtitleTrack1: { keys: '1' },\n        toggleVideoSubtitleTrack2: { keys: '2' },\n        toggleVideoSubtitleTrack3: { keys: '3' },\n        toggleAsbplayerSubtitleTrack1: { keys: 'W+1' },\n        toggleAsbplayerSubtitleTrack2: { keys: 'W+2' },\n        toggleAsbplayerSubtitleTrack3: { keys: 'W+3' },\n        unblurAsbplayerTrack1: { keys: 'B+1' },\n        unblurAsbplayerTrack2: { keys: 'B+2' },\n        unblurAsbplayerTrack3: { keys: 'B+3' },\n        seekBackward: { keys: 'A' },\n        seekForward: { keys: 'D' },\n        seekToPreviousSubtitle: { keys: 'left' },\n        seekToNextSubtitle: { keys: 'right' },\n        seekToBeginningOfCurrentSubtitle: { keys: 'up' },\n        adjustOffsetToPreviousSubtitle: { keys: isMacOs ? '+left' : 'ctrl+left' },\n        adjustOffsetToNextSubtitle: { keys: isMacOs ? '+right' : 'ctrl+right' },\n        decreaseOffset: { keys: isMacOs ? '++right' : 'ctrl+shift+right' },\n        increaseOffset: { keys: isMacOs ? '++left' : 'ctrl+shift+left' },\n        resetOffset: { keys: isMacOs ? '++down' : 'ctrl+shift+down' },\n        copySubtitle: { keys: isMacOs ? '++Z' : 'ctrl+shift+Z' },\n        ankiExport: { keys: isMacOs ? '++X' : 'ctrl+shift+X' },\n        updateLastCard: { keys: isMacOs ? '++U' : 'ctrl+shift+U' },\n        takeScreenshot: { keys: isMacOs ? '++V' : 'ctrl+shift+V' },\n        toggleRecording: { keys: isMacOs ? '++R' : 'ctrl+shift+R' },\n        decreasePlaybackRate: { keys: isMacOs ? '++[' : 'ctrl+shift+[' },\n        increasePlaybackRate: { keys: isMacOs ? '++]' : 'ctrl+shift+]' },\n        toggleSidePanel: { keys: '`' },\n        toggleRepeat: { keys: isMacOs ? '+R' : 'shift+R' },\n    },\n    recordWithAudioPlayback: true,\n    preferMp3: true,\n    tabName: 'asbplayer',\n    miningHistoryStorageLimit: 25,\n    preCacheSubtitleDom: true,\n    clickToMineDefaultAction: PostMineAction.showAnkiDialog,\n    postMiningPlaybackState: PostMinePlayback.remember,\n    themeType: 'dark',\n    copyToClipboardOnMine: false,\n    rememberSubtitleOffset: true,\n    lastSubtitleOffset: 0,\n    autoCopyCurrentSubtitle: false,\n    alwaysPlayOnSubtitleRepeat: true,\n    subtitleRegexFilter: '',\n    subtitleRegexFilterTextReplacement: '',\n    language: 'en',\n    customAnkiFields: {},\n    tags: [],\n    imageBasedSubtitleScaleFactor: 1,\n    streamingAppUrl: 'https://killergerbah.github.io/asbplayer',\n    streamingDisplaySubtitles: true,\n    streamingRecordMedia: true,\n    streamingTakeScreenshot: true,\n    streamingCleanScreenshot: true,\n    streamingCropScreenshot: true,\n    streamingSubsDragAndDrop: true,\n    streamingAutoSync: false,\n    streamingLastLanguagesSynced: {},\n    streamingCondensedPlaybackMinimumSkipIntervalMs: 1000,\n    streamingScreenshotDelay: 1000,\n    streamingSubtitleListPreference: SubtitleListPreference.noSubtitleList,\n    streamingEnableOverlay: true,\n    webSocketClientEnabled: false,\n    webSocketServerUrl: 'ws://127.0.0.1:8766/ws',\n    pauseOnHoverMode: 0,\n    lastSelectedAnkiExportMode: 'default',\n};\nconst ankiFieldEntries = (fieldsMap, custom) => {\n    return Object.entries(fieldsMap).map(([key, value]) => ({\n        key,\n        field: value,\n        custom,\n    }));\n};\nconst sortedAnkiFields = (models) => {\n    return models.sort((a, b) => {\n        const left = a.field;\n        const right = b.field;\n        if (left.order < right.order) {\n            return -1;\n        }\n        if (left.order > right.order) {\n            return 1;\n        }\n        return 0;\n    });\n};\nexport const sortedAnkiFieldModels = (settings) => {\n    let last = Math.max(...Object.values({ ...settings.ankiFieldSettings, ...settings.customAnkiFieldSettings }).map((f) => f.order));\n    return sortedAnkiFields([\n        ...ankiFieldEntries(settings.ankiFieldSettings, false),\n        ...ankiFieldEntries(Object.fromEntries(Object.keys(settings.customAnkiFields).map((name) => [\n            name,\n            settings.customAnkiFieldSettings[name] ?? { order: ++last, display: true },\n        ])), true),\n    ]);\n};\nexport const allTextSubtitleSettings = (subtitleSettings) => {\n    const textSettings = [];\n    for (let i = 0; i <= subtitleSettings.subtitleTracksV2.length; ++i) {\n        textSettings.push(textSubtitleSettingsForTrack(subtitleSettings, i));\n    }\n    return textSettings;\n};\nexport const textSubtitleSettingsForTrack = (subtitleSettings, track) => {\n    if (track === undefined) {\n        const valuesAllSame = (k) => {\n            const val = subtitleSettings[k];\n            for (const track of subtitleSettings.subtitleTracksV2) {\n                if (!deepEquals(track[k], val)) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        let mergedSettings = {};\n        for (const key of textSubtitleSettingsKeys) {\n            if (valuesAllSame(key)) {\n                mergedSettings[key] = subtitleSettings[key];\n            }\n            else {\n                mergedSettings[key] = undefined;\n            }\n        }\n        return mergedSettings;\n    }\n    if (track === 0 || track > subtitleSettings.subtitleTracksV2.length) {\n        return Object.fromEntries(textSubtitleSettingsKeys.map((k) => [k, subtitleSettings[k]]));\n    }\n    return subtitleSettings.subtitleTracksV2[track - 1];\n};\nexport const changeForTextSubtitleSetting = (updates, subtitleSettings, track) => {\n    if (track === undefined) {\n        // Change settings for all tracks\n        const newSubtitleTracks = [];\n        for (let i = 0; i < subtitleSettings.subtitleTracksV2.length; ++i) {\n            newSubtitleTracks.push({ ...subtitleSettings.subtitleTracksV2[i], ...updates });\n        }\n        return {\n            ...updates,\n            subtitleTracksV2: newSubtitleTracks,\n        };\n    }\n    if (track === 0) {\n        // Change setting for track 0 (top-level settings object)\n        return { ...updates };\n    }\n    // Change setting for track >= 1 (nested subtitleTracks setting)\n    const newSubtitleTracks = [...subtitleSettings.subtitleTracksV2];\n    const firstTrack = textSubtitleSettingsForTrack(subtitleSettings, 0);\n    while (newSubtitleTracks.length < track) {\n        newSubtitleTracks.push(firstTrack);\n    }\n    newSubtitleTracks[track - 1] = {\n        ...newSubtitleTracks[track - 1],\n        ...updates,\n    };\n    let removeFromEnd = 0;\n    for (let i = newSubtitleTracks.length - 1; i >= 0; --i) {\n        if (!deepEquals(firstTrack, newSubtitleTracks[i])) {\n            break;\n        }\n        ++removeFromEnd;\n    }\n    if (removeFromEnd > 0) {\n        newSubtitleTracks.splice(newSubtitleTracks.length - removeFromEnd);\n    }\n    return { subtitleTracksV2: newSubtitleTracks };\n};\nexport const textSubtitleSettingsAreDirty = (settings, track) => {\n    return (track !== 0 &&\n        !deepEquals(textSubtitleSettingsForTrack(settings, 0), textSubtitleSettingsForTrack(settings, track)));\n};\nexport const settingsDeserializers = Object.fromEntries(Object.entries(defaultSettings).map(([key, value]) => {\n    if (typeof value === 'string') {\n        return [key, (s) => s];\n    }\n    if (typeof value === 'boolean') {\n        return [key, (s) => s === 'true'];\n    }\n    if (typeof value === 'number') {\n        return [key, (s) => Number(s)];\n    }\n    if (typeof value === 'object') {\n        return [key, (s) => JSON.parse(s)];\n    }\n    throw new Error('Could not determine deserializer for setting');\n}));\nconst deepEquals = (a, b) => {\n    if (typeof a !== typeof b) {\n        return false;\n    }\n    if (typeof a !== 'object') {\n        return a === b;\n    }\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (const k of aKeys) {\n        if (!deepEquals(a[k], b[k])) {\n            return false;\n        }\n    }\n    for (const k of bKeys) {\n        if (!deepEquals(a[k], b[k])) {\n            return false;\n        }\n    }\n    return true;\n};\nconst complexValuedKeys = Object.fromEntries(Object.keys(defaultSettings)\n    .filter((k) => typeof defaultSettings[k] === 'object')\n    .map((k) => [k, true]));\nexport class SettingsProvider {\n    constructor(storage) {\n        this._complexValues = {};\n        this._storage = storage;\n    }\n    async getAll() {\n        return this.get(Object.keys(defaultSettings));\n    }\n    async getSingle(key) {\n        const vals = (await this.get([key]));\n        const val = vals[key];\n        return val;\n    }\n    async get(keys) {\n        let parameters = {};\n        for (const key of keys) {\n            parameters[key] = defaultSettings[key];\n        }\n        const data = await this._storage.get(parameters);\n        const result = {};\n        for (const key in parameters) {\n            const value = data[key] ?? defaultSettings[key];\n            if (complexValuedKeys[key]) {\n                const lastValue = this._complexValues[key];\n                if (lastValue !== undefined && deepEquals(lastValue, value)) {\n                    result[key] = lastValue;\n                }\n                else {\n                    this._complexValues[key] = value;\n                    result[key] = value;\n                }\n            }\n            else {\n                result[key] = value;\n            }\n        }\n        return this._ensureConsistencyOnRead(result);\n    }\n    _ensureConsistencyOnRead(settings) {\n        let keyBindSetModified = false;\n        let newKeyBindSet = {};\n        let ankiFieldSettingsModified = false;\n        let newAnkiFieldSettings = {};\n        if (settings.keyBindSet !== undefined) {\n            const keyBindSet = settings.keyBindSet;\n            for (const key of Object.keys(defaultSettings.keyBindSet)) {\n                const keyBindName = key;\n                if (keyBindSet[keyBindName] === undefined) {\n                    newKeyBindSet[keyBindName] = defaultSettings.keyBindSet[keyBindName];\n                    keyBindSetModified = true;\n                }\n                else {\n                    newKeyBindSet[keyBindName] = keyBindSet[keyBindName];\n                }\n            }\n        }\n        if (settings.ankiFieldSettings !== undefined) {\n            const ankiFieldSettings = settings.ankiFieldSettings;\n            for (const key of Object.keys(defaultSettings.ankiFieldSettings)) {\n                const fieldName = key;\n                if (ankiFieldSettings[fieldName] === undefined) {\n                    newAnkiFieldSettings[fieldName] = defaultSettings.ankiFieldSettings[fieldName];\n                    ankiFieldSettingsModified = true;\n                }\n                else {\n                    newAnkiFieldSettings[fieldName] = ankiFieldSettings[fieldName];\n                }\n            }\n        }\n        if (!ankiFieldSettingsModified && !keyBindSetModified) {\n            return settings;\n        }\n        return { ...settings, ...{ ankiFieldSettings: newAnkiFieldSettings }, ...{ keyBindSet: newKeyBindSet } };\n    }\n    async set(settings) {\n        await this._storage.set(await this._ensureConsistencyOnWrite(settings));\n    }\n    async _ensureConsistencyOnWrite(settings) {\n        if (settings.customAnkiFields === undefined) {\n            return settings;\n        }\n        const customAnkiFieldSettings = settings.customAnkiFieldSettings ??\n            (await this._storage.get({\n                customAnkiFieldSettings: defaultSettings.customAnkiFieldSettings,\n            })).customAnkiFieldSettings;\n        let modifyCustomAnkiFieldSettings = false;\n        for (const key of Object.keys(customAnkiFieldSettings)) {\n            if (!(key in settings.customAnkiFields)) {\n                delete customAnkiFieldSettings[key];\n                modifyCustomAnkiFieldSettings = true;\n            }\n        }\n        if (modifyCustomAnkiFieldSettings) {\n            return { ...settings, customAnkiFieldSettings };\n        }\n        return settings;\n    }\n    async activeProfile() {\n        return await this._storage.activeProfile();\n    }\n    async setActiveProfile(name) {\n        await this._storage.setActiveProfile(name);\n    }\n    async profiles() {\n        return await this._storage.profiles();\n    }\n    async addProfile(name) {\n        await this._storage.addProfile(name);\n    }\n    async removeProfile(name) {\n        await this._storage.removeProfile(name);\n    }\n}\nconst keyPrefix = (profile) => {\n    return `_prof_${profile}_`;\n};\nexport const prefixKey = (key, profile) => {\n    return `${keyPrefix(profile)}${key}`;\n};\nexport const unprefixKey = (key, profile) => {\n    return key.substring(profile.length + 7);\n};\nexport const prefixedSettings = (settings, profile) => {\n    const prefixed = {};\n    for (const key of Object.keys(settings)) {\n        prefixed[prefixKey(key, profile)] = settings[key];\n    }\n    return prefixed;\n};\nexport const unprefixedSettings = (settings, profile) => {\n    const unprefixed = {};\n    for (const key of Object.keys(settings)) {\n        const unprefixedKey = unprefixKey(key, profile);\n        unprefixed[unprefixedKey] = settings[key];\n    }\n    return unprefixed;\n};\n","import { Validator } from 'jsonschema';\nconst keyBindSchema = {\n    id: '/KeyBind',\n    type: 'object',\n    properties: {\n        keys: {\n            type: 'string',\n        },\n    },\n    required: ['keys'],\n};\nconst ankiFieldSchema = {\n    id: '/AnkiField',\n    type: 'object',\n    properties: {\n        order: {\n            type: 'number',\n        },\n        display: {\n            type: 'boolean',\n        },\n    },\n    required: ['order', 'display'],\n};\nconst textSubtitleSettingsSchema = {\n    id: '/TextSubtitleSettings',\n    type: 'object',\n    properties: {\n        subtitleColor: {\n            type: 'string',\n        },\n        subtitleSize: {\n            type: 'number',\n        },\n        subtitleThickness: {\n            type: 'number',\n        },\n        subtitleOutlineThickness: {\n            type: 'number',\n        },\n        subtitleShadowColor: {\n            type: 'string',\n        },\n        subtitleBackgroundOpacity: {\n            type: 'number',\n        },\n        subtitleBackgroundColor: {\n            type: 'string',\n        },\n        subtitleFontFamily: {\n            type: 'string',\n        },\n        subtitleCustomStyles: {\n            type: 'array',\n            items: {\n                type: 'object',\n                properties: {\n                    key: {\n                        type: 'string',\n                    },\n                    value: {\n                        type: 'string',\n                    },\n                },\n            },\n        },\n        subtitleBlur: {\n            type: 'boolean',\n        },\n    },\n    required: [\n        'subtitleColor',\n        'subtitleSize',\n        'subtitleThickness',\n        'subtitleOutlineThickness',\n        'subtitleShadowColor',\n        'subtitleBackgroundOpacity',\n        'subtitleBackgroundColor',\n        'subtitleFontFamily',\n        'subtitleCustomStyles',\n        'subtitleBlur',\n    ],\n};\nconst settingsSchema = {\n    id: '/Settings',\n    type: 'object',\n    properties: {\n        ankiConnectUrl: {\n            type: 'string',\n        },\n        deck: {\n            type: 'string',\n        },\n        noteType: {\n            type: 'string',\n        },\n        sentenceField: {\n            type: 'string',\n        },\n        definitionField: {\n            type: 'string',\n        },\n        audioField: {\n            type: 'string',\n        },\n        imageField: {\n            type: 'string',\n        },\n        wordField: {\n            type: 'string',\n        },\n        sourceField: {\n            type: 'string',\n        },\n        urlField: {\n            type: 'string',\n        },\n        track1Field: {\n            type: 'string',\n        },\n        track2Field: {\n            type: 'string',\n        },\n        track3Field: {\n            type: 'string',\n        },\n        ankiFieldSettings: {\n            type: 'object',\n            properties: {\n                sentence: { $ref: '/AnkiField' },\n                definition: { $ref: '/AnkiField' },\n                audio: { $ref: '/AnkiField' },\n                image: { $ref: '/AnkiField' },\n                word: { $ref: '/AnkiField' },\n                source: { $ref: '/AnkiField' },\n                url: { $ref: '/AnkiField' },\n                track1: { $ref: '/AnkiField' },\n                track2: { $ref: '/AnkiField' },\n                track3: { $ref: '/AnkiField' },\n            },\n        },\n        customAnkiFieldSettings: {\n            type: 'object',\n            additionalProperties: {\n                type: '/AnkiField',\n            },\n        },\n        subtitleSize: {\n            type: 'number',\n        },\n        subtitleColor: {\n            type: 'string',\n        },\n        subtitleThickness: {\n            type: 'number',\n        },\n        subtitleOutlineThickness: {\n            type: 'number',\n        },\n        subtitleShadowThickness: {\n            type: 'number',\n        },\n        subtitleShadowColor: {\n            type: 'string',\n        },\n        subtitleOutlineColor: {\n            type: 'string',\n        },\n        subtitleBackgroundColor: {\n            type: 'string',\n        },\n        subtitleBackgroundOpacity: {\n            type: 'number',\n        },\n        subtitleFontFamily: {\n            type: 'string',\n        },\n        subtitleBlur: {\n            type: 'boolean',\n        },\n        subtitlePreview: {\n            type: 'string',\n        },\n        subtitlePositionOffset: {\n            type: 'number',\n        },\n        topSubtitlePositionOffset: {\n            type: 'number',\n        },\n        subtitleAlignment: {\n            type: 'string',\n        },\n        subtitleTracksV2: {\n            type: 'array',\n            items: {\n                $ref: '/TextSubtitleSettings',\n            },\n        },\n        audioPaddingStart: {\n            type: 'number',\n        },\n        audioPaddingEnd: {\n            type: 'number',\n        },\n        maxImageWidth: {\n            type: 'number',\n        },\n        maxImageHeight: {\n            type: 'number',\n        },\n        surroundingSubtitlesCountRadius: {\n            type: 'number',\n        },\n        surroundingSubtitlesTimeRadius: {\n            type: 'number',\n        },\n        autoPausePreference: {\n            type: 'number',\n        },\n        speedChangeStep: {\n            type: 'number',\n        },\n        fastForwardModePlaybackRate: {\n            type: 'number',\n        },\n        keyBindSet: {\n            type: 'object',\n            properties: {\n                togglePlay: { $ref: '/KeyBind' },\n                toggleAutoPause: { $ref: '/KeyBind' },\n                toggleCondensedPlayback: { $ref: '/KeyBind' },\n                toggleFastForwardPlayback: { $ref: '/KeyBind' },\n                toggleSubtitles: { $ref: '/KeyBind' },\n                toggleVideoSubtitleTrack1: { $ref: '/KeyBind' },\n                toggleVideoSubtitleTrack2: { $ref: '/KeyBind' },\n                toggleVideoSubtitleTrack3: { $ref: '/KeyBind' },\n                toggleAsbplayerSubtitleTrack1: { $ref: '/KeyBind' },\n                toggleAsbplayerSubtitleTrack2: { $ref: '/KeyBind' },\n                toggleAsbplayerSubtitleTrack3: { $ref: '/KeyBind' },\n                unblurAsbplayerTrack1: { $ref: '/KeyBind' },\n                unblurAsbplayerTrack2: { $ref: '/KeyBind' },\n                unblurAsbplayerTrack3: { $ref: '/KeyBind' },\n                seekBackward: { $ref: '/KeyBind' },\n                seekForward: { $ref: '/KeyBind' },\n                seekToPreviousSubtitle: { $ref: '/KeyBind' },\n                seekToNextSubtitle: { $ref: '/KeyBind' },\n                seekToBeginningOfCurrentSubtitle: { $ref: '/KeyBind' },\n                adjustOffsetToPreviousSubtitle: { $ref: '/KeyBind' },\n                adjustOffsetToNextSubtitle: { $ref: '/KeyBind' },\n                decreaseOffset: { $ref: '/KeyBind' },\n                increaseOffset: { $ref: '/KeyBind' },\n                resetOffset: { $ref: '/KeyBind' },\n                copySubtitle: { $ref: '/KeyBind' },\n                ankiExport: { $ref: '/KeyBind' },\n                updateLastCard: { $ref: '/KeyBind' },\n                takeScreenshot: { $ref: '/KeyBind' },\n                toggleRecording: { $ref: '/KeyBind' },\n                decreasePlaybackRate: { $ref: '/KeyBind' },\n                increasePlaybackRate: { $ref: '/KeyBind' },\n                toggleSidePanel: { $ref: '/KeyBind' },\n                toggleRepeat: { $ref: '/KeyBind' },\n            },\n        },\n        recordWithAudioPlayback: {\n            type: 'boolean',\n        },\n        preferMp3: {\n            type: 'boolean',\n        },\n        tabName: {\n            type: 'string',\n        },\n        miningHistoryStorageLimit: {\n            type: 'number',\n        },\n        preCacheSubtitleDom: {\n            type: 'boolean',\n        },\n        clickToMineDefaultAction: {\n            type: 'number',\n        },\n        postMiningPlaybackState: {\n            type: 'number',\n        },\n        themeType: {\n            type: 'string',\n        },\n        copyToClipboardOnMine: {\n            type: 'boolean',\n        },\n        rememberSubtitleOffset: {\n            type: 'boolean',\n        },\n        lastSubtitleOffset: {\n            type: 'number',\n        },\n        autoCopyCurrentSubtitle: {\n            type: 'boolean',\n        },\n        alwaysPlayOnSubtitleRepeat: {\n            type: 'boolean',\n        },\n        subtitleRegexFilter: {\n            type: 'string',\n        },\n        subtitleRegexFilterTextReplacement: {\n            type: 'string',\n        },\n        language: {\n            type: 'string',\n        },\n        customAnkiFields: {\n            type: 'object',\n            additionalProperties: {\n                type: 'string',\n            },\n        },\n        tags: {\n            type: 'array',\n            items: {\n                type: 'string',\n            },\n        },\n        imageBasedSubtitleScaleFactor: {\n            type: 'number',\n        },\n        subtitleCustomStyles: {\n            type: 'array',\n            items: {\n                type: 'object',\n                properties: {\n                    key: {\n                        type: 'string',\n                    },\n                    value: {\n                        type: 'string',\n                    },\n                },\n            },\n        },\n        subtitlesWidth: {\n            type: 'number',\n        },\n        streamingAppUrl: {\n            type: 'string',\n        },\n        streamingDisplaySubtitles: {\n            type: 'boolean',\n        },\n        streamingRecordMedia: {\n            type: 'boolean',\n        },\n        streamingTakeScreenshot: {\n            type: 'boolean',\n        },\n        streamingCleanScreenshot: {\n            type: 'boolean',\n        },\n        streamingCropScreenshot: {\n            type: 'boolean',\n        },\n        streamingSubsDragAndDrop: {\n            type: 'boolean',\n        },\n        streamingAutoSync: {\n            type: 'boolean',\n        },\n        streamingLastLanguagesSynced: {\n            type: 'object',\n            additionalProperties: {\n                type: 'array',\n                items: {\n                    type: 'string',\n                },\n            },\n        },\n        streamingCondensedPlaybackMinimumSkipIntervalMs: {\n            type: 'number',\n        },\n        streamingScreenshotDelay: {\n            type: 'number',\n        },\n        streamingSubtitleListPreference: {\n            type: 'string',\n        },\n        streamingEnableOverlay: {\n            type: 'boolean',\n        },\n        webSocketClientEnabled: {\n            type: 'boolean',\n        },\n        webSocketServerUrl: {\n            type: 'string',\n        },\n        pauseOnHoverMode: {\n            type: 'number',\n        },\n        lastSelectedAnkiExportMode: {\n            type: 'string',\n        },\n        _schema: {\n            type: 'number',\n        },\n    },\n};\nexport const validateSettings = (settings) => {\n    const validator = new Validator();\n    validator.addSchema(keyBindSchema);\n    validator.addSchema(ankiFieldSchema);\n    validator.addSchema(textSubtitleSettingsSchema);\n    const result = validator.validate(settings, settingsSchema);\n    validateAllKnownKeys(settings, []);\n    if (!result.valid) {\n        throw new Error('Settings validation failed: ' + JSON.stringify(result.errors));\n    }\n};\nconst validateAllKnownKeys = (object, path) => {\n    for (const key of Object.keys(object)) {\n        const schema = schemaAtPath(settingsSchema, path);\n        // Empty string is sentinel value for 'additional properties' which can have any key\n        if (schema === undefined || (schema !== '' && !(key in schema))) {\n            throw new Error(`Unknown key '${[...path, key].join('.')}'`);\n        }\n        const value = object[key];\n        if (typeof value === 'object' && !Array.isArray(value)) {\n            validateAllKnownKeys(value, [...path, key]);\n        }\n    }\n};\nconst schemaAtPath = (schema, path) => {\n    let value = schema['properties'];\n    for (const key of path) {\n        if (typeof value[key] === 'object' && 'additionalProperties' in value[key]) {\n            return '';\n        }\n        value = value[key]?.['properties'] ?? schemaForRef(value[key]?.['$ref'])?.['properties'];\n        if (value === undefined) {\n            return undefined;\n        }\n    }\n    return value;\n};\nconst schemaForRef = (ref) => {\n    if (ref === '/KeyBind') {\n        return keyBindSchema;\n    }\n    if (ref === '/AnkiField') {\n        return ankiFieldSchema;\n    }\n    if (ref === '/TextSubtitleSettings') {\n        return textSubtitleSettingsSchema;\n    }\n    return undefined;\n};\n","import { unprefixedSettings, prefixedSettings, defaultSettings, } from '@project/common/settings';\nconst activeProfileKey = 'activeSettingsProfile';\nconst profilesKey = 'settingsProfiles';\nexport class ExtensionSettingsStorage {\n    constructor(storage) {\n        this._storage = storage ?? chrome.storage.local;\n    }\n    async get(keysAndDefaults) {\n        const activeProfile = await this.activeProfile();\n        if (activeProfile === undefined) {\n            return await this._storage.get(keysAndDefaults);\n        }\n        return unprefixedSettings(await this._storage.get(prefixedSettings(keysAndDefaults, activeProfile.name)), activeProfile.name);\n    }\n    async set(settings) {\n        const activeProfile = await this.activeProfile();\n        if (activeProfile === undefined) {\n            await this._storage.set(settings);\n        }\n        else {\n            await this._storage.set(prefixedSettings(settings, activeProfile.name));\n        }\n    }\n    async activeProfile() {\n        const name = (await this._storage.get(activeProfileKey))[activeProfileKey];\n        if (name === undefined) {\n            return undefined;\n        }\n        const profiles = await this.profiles();\n        return profiles.find((p) => p.name === name);\n    }\n    async setActiveProfile(name) {\n        if (name === undefined) {\n            await this._storage.remove(activeProfileKey);\n        }\n        else {\n            const profiles = await this.profiles();\n            const profileExists = profiles.find((p) => p.name === name) !== undefined;\n            if (!profileExists) {\n                throw new Error(`Cannot set active profile to non-existant profile ${name}`);\n            }\n            await this._storage.set({ [activeProfileKey]: name });\n        }\n    }\n    async profiles() {\n        return (await this._storage.get({ [profilesKey]: [] }))[profilesKey] ?? [];\n    }\n    async addProfile(name) {\n        const profiles = await this.profiles();\n        const existing = profiles.find((p) => p.name === name);\n        if (existing === undefined) {\n            profiles.push({ name });\n        }\n        await this._storage.set({ [profilesKey]: profiles });\n        const initialValues = await this._storage.get(Object.keys(defaultSettings));\n        await this._storage.set(prefixedSettings(initialValues, name));\n    }\n    async removeProfile(name) {\n        const profiles = await this.profiles();\n        const activeProfile = await this.activeProfile();\n        if (name === activeProfile?.name) {\n            throw new Error('Cannot remove active profile');\n        }\n        const newProfiles = profiles.filter((p) => p.name !== name);\n        const prefixedKeys = Object.keys(prefixedSettings(defaultSettings, name));\n        await this._storage.remove(prefixedKeys);\n        await this._storage.set({ [profilesKey]: newProfiles });\n    }\n    async clear() {\n        await this._storage.clear();\n    }\n}\n","// The app and extension currently share settings via extension storage.\n// However, each setting can have different values per profile.\n// \"Global state\" exists for other kinds of key/value pairs that should\n// not be affected by settings profiles. For example: FTUE state.\nexport const initialGlobalState = {\n    ftueHasSeenAnkiDialogQuickSelect: false,\n};\n","import { ExtensionSettingsStorage } from './services/extension-settings-storage';\nimport { ExtensionGlobalStateProvider } from './services/extension-global-state-provider';\nconst sendMessageToPlayer = (message) => {\n    window.postMessage({\n        sender: 'asbplayer-extension-to-player',\n        message,\n    });\n};\nconst settingsStorage = new ExtensionSettingsStorage();\nconst globalStateProvider = new ExtensionGlobalStateProvider();\nwindow.addEventListener('message', async (event) => {\n    if (event.source !== window) {\n        return;\n    }\n    const command = event.data;\n    if (command.sender === 'asbplayer' || command.sender === 'asbplayerv2') {\n        switch (command.message.command) {\n            case 'get-settings':\n                const getSettingsMessage = command.message;\n                sendMessageToPlayer({\n                    response: await settingsStorage.get(getSettingsMessage.keysAndDefaults),\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'set-settings':\n                const setSettingsMessage = command.message;\n                await settingsStorage.set(setSettingsMessage.settings);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'get-active-profile':\n                sendMessageToPlayer({\n                    response: await settingsStorage.activeProfile(),\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'set-active-profile':\n                const setActiveProfileMessage = command.message;\n                await settingsStorage.setActiveProfile(setActiveProfileMessage.name);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'get-profiles':\n                sendMessageToPlayer({\n                    response: await settingsStorage.profiles(),\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'add-profile':\n                const addProfileMessage = command.message;\n                await settingsStorage.addProfile(addProfileMessage.name);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'remove-profile':\n                const removeProfileMessage = command.message;\n                await settingsStorage.removeProfile(removeProfileMessage.name);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'request-subtitles':\n                sendMessageToPlayer({\n                    response: (await chrome.runtime.sendMessage(command)),\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'request-copy-history':\n                const requestCopyHistoryRequest = command.message;\n                sendMessageToPlayer({\n                    response: (await chrome.runtime.sendMessage(command)),\n                    messageId: requestCopyHistoryRequest.messageId,\n                    count: requestCopyHistoryRequest.count,\n                });\n                break;\n            case 'save-copy-history':\n                await chrome.runtime.sendMessage(command);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'delete-copy-history':\n                await chrome.runtime.sendMessage(command);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'clear-copy-history':\n                await chrome.runtime.sendMessage(command);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'get-global-state':\n                const getGlobalStateMessage = command.message;\n                const { keys } = getGlobalStateMessage;\n                sendMessageToPlayer({\n                    response: keys === undefined ? await globalStateProvider.getAll() : await globalStateProvider.get(keys),\n                    messageId: command.message.messageId,\n                });\n                break;\n            case 'set-global-state':\n                const setGlobalStateMessage = command.message;\n                await globalStateProvider.set(setGlobalStateMessage.state);\n                sendMessageToPlayer({\n                    messageId: command.message.messageId,\n                });\n                break;\n            default:\n                chrome.runtime.sendMessage(command);\n                break;\n        }\n    }\n});\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n    if (request.sender === 'asbplayer-extension-to-player') {\n        window.postMessage(request);\n    }\n});\nconst manifest = chrome.runtime.getManifest();\nwindow.addEventListener('DOMContentLoaded', async (e) => {\n    const extensionCommands = await chrome.runtime.sendMessage({\n        sender: 'asbplayerv2',\n        message: {\n            command: 'extension-commands',\n        },\n    });\n    sendMessageToPlayer({\n        command: 'version',\n        version: manifest.version,\n        extensionCommands,\n    });\n});\n","import { initialGlobalState } from '@project/common/global-state';\nexport class ExtensionGlobalStateProvider {\n    constructor(storage) {\n        this._storage = storage ?? chrome.storage.local;\n    }\n    async getAll() {\n        return (await this._storage.get(initialGlobalState));\n    }\n    async get(keys) {\n        const partialInitialGlobalState = {};\n        for (const key of keys) {\n            partialInitialGlobalState[key] = initialGlobalState[key];\n        }\n        return (await this._storage.get(partialInitialGlobalState));\n    }\n    async set(state) {\n        await this._storage.set(state);\n    }\n}\n"],"names":["$defineProperty","GetIntrinsic","value","e","module","exports","undefined","$Error","$EvalError","$RangeError","$ReferenceError","$SyntaxError","$TypeError","$URIError","$Function","Function","getEvalledConstructor","expressionSyntax","$gOPD","Object","getOwnPropertyDescriptor","throwTypeError","ThrowTypeError","calleeThrows","arguments","get","gOPDthrows","hasSymbols","hasProto","getProto","getPrototypeOf","x","__proto__","needsEval","TypedArray","Uint8Array","INTRINSICS","AggregateError","Array","ArrayBuffer","Symbol","iterator","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","Map","Math","Number","parseFloat","parseInt","Promise","Proxy","Reflect","RegExp","Set","SharedArrayBuffer","String","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","WeakRef","WeakSet","error","errorProto","doEval","name","fn","prototype","gen","LEGACY_ALIASES","bind","hasOwn","$concat","call","concat","$spliceApply","apply","splice","$replace","replace","$strSlice","slice","$exec","exec","rePropName","reEscapeChar","getBaseIntrinsic","allowMissing","alias","intrinsicName","length","parts","string","first","last","result","match","number","quote","subString","stringToPath","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","i","isOwn","part","desc","EvalError","Error","RangeError","ReferenceError","SyntaxError","TypeError","URIError","toStr","toString","max","concatty","a","b","arr","j","that","target","this","bound","args","arrLike","offset","slicy","boundLength","boundArgs","joiner","str","joiny","Empty","implementation","test","foo","$Object","origSymbol","hasSymbolSham","getOwnPropertySymbols","obj","sym","symObj","keys","getOwnPropertyNames","syms","propertyIsEnumerable","descriptor","enumerable","$hasOwn","hasOwnProperty","helpers","ValidatorResult","SchemaError","attribute","validators","testSchemaNoThrow","instance","options","ctx","callback","schema","throwError","throwAll","res","validateSchema","valid","getEnumerableProperty","object","key","testAdditionalProperty","property","types","properties","additionalProperties","addError","argument","message","stringify","preValidateProperty","makeChild","importErrors","type","isArray","some","testType","list","map","v","id","$id","anyOf","inner","title","nestedErrors","join","allOf","self","forEach","msg","errors","oneOf","count","filter","if","isSchema","ifValid","then","else","propertyNames","subschema","prop","patternProperties","pattern","regexp","_e","minProperties","maxProperties","items","array","every","additionalItems","contains","minimum","exclusiveMinimum","maximum","exclusiveMaximum","validateMultipleOfOrDivisbleBy","validationType","errorMessage","validationArgument","instanceDecimals","getDecimalPlaces","divisorDecimals","maxDecimals","multiplier","pow","round","testArrays","len","deepCompareStrict","multipleOf","divisibleBy","required","n","format","disableFormat","isFormat","minLength","hsp","maxLength","minItems","maxItems","uniqueItems","dependencies","dep","childContext","propertyPath","not","disallow","notTypes","schemaId","uri","ValidationError","path","reduce","sum","item","makeSuffix","stack","throwFirst","stringizer","ValidatorResultError","captureStackTrace","detail","err","push","validatorType","defineProperty","constructor","create","SchemaContext","base","schemas","resolve","propertyName","FORMAT_REGEXPS","input","regex","ipv4","validator","customFormats","deepMerger","dst","deepMerge","indexOf","copyist","src","copyistWithDeepMerge","pathEncoder","aKeys","bKeys","objectGetPath","o","s","k","split","shift","encodePath","decimalPlaces","decimalParts","val","urilib","SchemaScanResult","found","ref","scanSchema","baseuri","$ref","resolvedUri","ourBase","substring","scanArray","extends","scanObject","definitions","p","Validator","unresolvedRefs","attributes","shouldResolve","addSchema","scan","ourUri","addSubSchemaArray","addSubSchema","addSubSchemaObject","setSchemas","getSchema","urn","validate","sch","schemaobj","schemaTraverser","superResolve","switchSchema","resolved","subctx","skipAttributes","ignoreProperties","validatorErr","allowUnknownAttributes","rewrite","parsed","parse","fragment","hash","document","substr","integer","boolean","date","any","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","has","weakSetHas","weakRefDeref","deref","booleanValueOf","valueOf","objectToString","functionToString","$match","$slice","$toUpperCase","toUpperCase","$toLowerCase","toLowerCase","$test","$join","$arrSlice","$floor","floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","toStringTag","isEnumerable","gPO","O","addNumericSeparator","num","Infinity","sepRegex","int","intStr","dec","utilInspect","inspectCustom","custom","inspectSymbol","isSymbol","wrapQuotes","defaultStyle","opts","quoteChar","quoteStyle","isRegExp","inspect_","depth","seen","maxStringLength","customInspect","indent","numericSeparator","inspectString","bigIntStr","maxDepth","baseIndent","prev","getIndent","inspect","from","noIndent","newOpts","f","m","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","nodeName","getAttribute","attrs","childNodes","xs","singleLineValues","indentedJoin","isError","cause","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","window","g","isDate","ys","isPlainObject","protoTag","stringTag","tag","l","remaining","trailer","lowbyte","c","charCodeAt","size","entries","lineJoiner","isArr","symMap","truncate","illegalRe","controlRe","reservedRe","windowsReservedRe","windowsTrailingRe","sanitize","replacement","sanitized","output","getLength","isHighSurrogate","codePoint","isLowSurrogate","byteLength","segment","charLength","curByteLength","callBind","$indexOf","setFunctionLength","$apply","$call","$reflectApply","$max","originalFunction","func","applyBind","gopd","nonEnumerable","nonWritable","nonConfigurable","loose","configurable","writable","hasPropertyDescriptors","hasArrayLengthDefineBug","root","nodeType","freeGlobal","global","punycode","maxInt","tMax","skew","damp","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","fromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","out","basic","index","oldi","w","t","baseMinusT","inputLength","bias","lastIndexOf","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","percentTwenties","Format","formatters","RFC1738","RFC3986","formats","utils","defaults","allowDots","allowEmptyArrays","allowPrototypes","allowSparse","arrayLimit","charset","charsetSentinel","comma","decodeDotInKeys","decoder","delimiter","duplicates","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictDepth","strictNullHandling","$0","numberStr","parseArrayValue","parseKeys","givenKey","valuesParsed","child","parent","chain","leaf","cleanRoot","charAt","decodedRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","limit","skipIndex","bracketEqualsPos","pos","maybeMap","encodedVal","existing","combine","parseValues","newObj","merge","compact","getSideChannel","arrayPrefixGenerators","brackets","prefix","indices","repeat","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","arrayFormat","encodeDotInKeys","encoder","encodeValuesOnly","formatter","serializeDate","skipNulls","sentinel","generateArrayPrefix","commaRoundTrip","sort","sideChannel","tmpSc","step","findFlag","isBuffer","objKeys","values","encodedPrefix","adjustedPrefix","encodedKey","keyPrefix","set","valueSideChannel","normalizeStringifyOptions","joined","hexTable","arrayToObject","source","assign","acc","queue","refs","pop","compacted","compactQueue","strWithoutPlus","unescape","defaultEncoder","kind","escape","mapped","mergeTarget","targetItem","define","hasDescriptors","gOPD","functionLengthIsConfigurable","functionLengthIsWritable","callBound","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","curr","next","$wm","$m","$o","channel","assert","objects","node","listGet","listHas","listSet","Url","protocol","slashes","auth","host","port","hostname","search","query","pathname","href","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","hostlessProtocol","slashedProtocol","http","https","ftp","gopher","file","querystring","urlParse","url","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","rest","trim","simplePath","proto","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","unshift","toASCII","h","ae","esc","qm","relative","resolveObject","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","hasTrailingSlash","up","isAbsolute","prevCodePoint","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","globalThis","nmd","paths","children","PauseOnHoverMode","SubtitleListPreference","AudioErrorCode","VideoDataUiOpenReason","PostMineAction","PostMinePlayback","AutoPausePreference","PlayMode","ControlType","ImageErrorCode","Direction","StartRecordingErrorCode","StopRecordingErrorCode","ankiConnectUrl","deck","noteType","sentenceField","definitionField","audioField","imageField","wordField","sourceField","urlField","track1Field","track2Field","track3Field","customAnkiFields","tags","recordWithAudioPlayback","preferMp3","audioPaddingStart","audioPaddingEnd","maxImageWidth","maxImageHeight","surroundingSubtitlesCountRadius","surroundingSubtitlesTimeRadius","ankiFieldSettings","customAnkiFieldSettings","subtitleColor","subtitleSize","subtitleThickness","subtitleOutlineThickness","subtitleOutlineColor","subtitleShadowThickness","subtitleShadowColor","subtitleBackgroundOpacity","subtitleBackgroundColor","subtitleFontFamily","subtitleCustomStyles","subtitleBlur","subtitleAlignment","imageBasedSubtitleScaleFactor","subtitlePositionOffset","topSubtitlePositionOffset","subtitleTracksV2","subtitlesWidth","isMacOs","navigator","userAgentData","platform","defaultSettings","sentence","order","display","definition","word","audio","image","track1","track2","track3","subtitlePreview","autoPausePreference","atEnd","speedChangeStep","fastForwardModePlaybackRate","keyBindSet","togglePlay","toggleAutoPause","toggleCondensedPlayback","toggleFastForwardPlayback","toggleSubtitles","toggleVideoSubtitleTrack1","toggleVideoSubtitleTrack2","toggleVideoSubtitleTrack3","toggleAsbplayerSubtitleTrack1","toggleAsbplayerSubtitleTrack2","toggleAsbplayerSubtitleTrack3","unblurAsbplayerTrack1","unblurAsbplayerTrack2","unblurAsbplayerTrack3","seekBackward","seekForward","seekToPreviousSubtitle","seekToNextSubtitle","seekToBeginningOfCurrentSubtitle","adjustOffsetToPreviousSubtitle","adjustOffsetToNextSubtitle","decreaseOffset","increaseOffset","resetOffset","copySubtitle","ankiExport","updateLastCard","takeScreenshot","toggleRecording","decreasePlaybackRate","increasePlaybackRate","toggleSidePanel","toggleRepeat","tabName","miningHistoryStorageLimit","preCacheSubtitleDom","clickToMineDefaultAction","showAnkiDialog","postMiningPlaybackState","remember","themeType","copyToClipboardOnMine","rememberSubtitleOffset","lastSubtitleOffset","autoCopyCurrentSubtitle","alwaysPlayOnSubtitleRepeat","subtitleRegexFilter","subtitleRegexFilterTextReplacement","language","streamingAppUrl","streamingDisplaySubtitles","streamingRecordMedia","streamingTakeScreenshot","streamingCleanScreenshot","streamingCropScreenshot","streamingSubsDragAndDrop","streamingAutoSync","streamingLastLanguagesSynced","streamingCondensedPlaybackMinimumSkipIntervalMs","streamingScreenshotDelay","streamingSubtitleListPreference","noSubtitleList","streamingEnableOverlay","webSocketClientEnabled","webSocketServerUrl","pauseOnHoverMode","lastSelectedAnkiExportMode","fromEntries","prefixKey","profile","unprefixKey","prefixedSettings","settings","prefixed","activeProfileKey","profilesKey","initialGlobalState","ftueHasSeenAnkiDialogQuickSelect","sendMessageToPlayer","postMessage","sender","settingsStorage","storage","_storage","chrome","local","keysAndDefaults","activeProfile","unprefixed","unprefixedSettings","profiles","find","setActiveProfile","remove","addProfile","initialValues","removeProfile","newProfiles","prefixedKeys","clear","globalStateProvider","getAll","partialInitialGlobalState","state","addEventListener","async","event","command","data","getSettingsMessage","response","messageId","setSettingsMessage","setActiveProfileMessage","addProfileMessage","removeProfileMessage","runtime","sendMessage","requestCopyHistoryRequest","getGlobalStateMessage","setGlobalStateMessage","onMessage","addListener","request","sendResponse","manifest","getManifest","extensionCommands","version"],"sourceRoot":""}