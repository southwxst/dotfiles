{"version":3,"file":"background.js","mappings":"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","sources":["webpack://@project/extension/../node_modules/es-define-property/index.js","webpack://@project/extension/../node_modules/es-define-property/node_modules/get-intrinsic/index.js","webpack://@project/extension/../node_modules/es-errors/eval.js","webpack://@project/extension/../node_modules/es-errors/index.js","webpack://@project/extension/../node_modules/es-errors/range.js","webpack://@project/extension/../node_modules/es-errors/ref.js","webpack://@project/extension/../node_modules/es-errors/syntax.js","webpack://@project/extension/../node_modules/es-errors/type.js","webpack://@project/extension/../node_modules/es-errors/uri.js","webpack://@project/extension/../node_modules/function-bind/implementation.js","webpack://@project/extension/../node_modules/function-bind/index.js","webpack://@project/extension/../node_modules/get-intrinsic/index.js","webpack://@project/extension/../node_modules/gopd/index.js","webpack://@project/extension/../node_modules/has-proto/index.js","webpack://@project/extension/../node_modules/has-symbols/index.js","webpack://@project/extension/../node_modules/has-symbols/shams.js","webpack://@project/extension/../node_modules/hasown/index.js","webpack://@project/extension/../node_modules/jsonschema/lib/attribute.js","webpack://@project/extension/../node_modules/jsonschema/lib/helpers.js","webpack://@project/extension/../node_modules/jsonschema/lib/index.js","webpack://@project/extension/../node_modules/jsonschema/lib/scan.js","webpack://@project/extension/../node_modules/jsonschema/lib/validator.js","webpack://@project/extension/../node_modules/object-inspect/index.js","webpack://@project/extension/../node_modules/sanitize-filename/index.js","webpack://@project/extension/../node_modules/truncate-utf8-bytes/browser.js","webpack://@project/extension/../node_modules/truncate-utf8-bytes/lib/truncate.js","webpack://@project/extension/../node_modules/url/node_modules/call-bind/callBound.js","webpack://@project/extension/../node_modules/url/node_modules/call-bind/index.js","webpack://@project/extension/../node_modules/url/node_modules/define-data-property/index.js","webpack://@project/extension/../node_modules/url/node_modules/get-intrinsic/index.js","webpack://@project/extension/../node_modules/url/node_modules/has-property-descriptors/index.js","webpack://@project/extension/../node_modules/url/node_modules/punycode/punycode.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/formats.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/index.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/parse.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/stringify.js","webpack://@project/extension/../node_modules/url/node_modules/qs/lib/utils.js","webpack://@project/extension/../node_modules/url/node_modules/set-function-length/index.js","webpack://@project/extension/../node_modules/url/node_modules/side-channel/index.js","webpack://@project/extension/../node_modules/url/url.js","webpack://@project/extension/../node_modules/utf8-byte-length/browser.js","webpack://@project/extension/webpack/bootstrap","webpack://@project/extension/webpack/runtime/compat get default export","webpack://@project/extension/webpack/runtime/define property getters","webpack://@project/extension/webpack/runtime/global","webpack://@project/extension/webpack/runtime/hasOwnProperty shorthand","webpack://@project/extension/webpack/runtime/node module decorator","webpack://@project/extension/./src/services/capture-visible-tab.ts","webpack://@project/extension/../common/src/model.ts","webpack://@project/extension/../common/util/util.ts","webpack://@project/extension/../common/blob-url/blob-url.ts","webpack://@project/extension/../common/src/image.ts","webpack://@project/extension/../common/src/image-transformer.ts","webpack://@project/extension/../common/src/message.ts","webpack://@project/extension/../node_modules/uuid/dist/esm-browser/rng.js","webpack://@project/extension/../common/src/fetcher.ts","webpack://@project/extension/../node_modules/uuid/dist/esm-browser/regex.js","webpack://@project/extension/../node_modules/uuid/dist/esm-browser/stringify.js","webpack://@project/extension/../node_modules/uuid/dist/esm-browser/validate.js","webpack://@project/extension/../node_modules/uuid/dist/esm-browser/v4.js","webpack://@project/extension/./src/services/audio-recorder-service.ts","webpack://@project/extension/./src/handlers/video/http-post-handler.ts","webpack://@project/extension/../common/settings/settings.ts","webpack://@project/extension/../common/settings/settings-provider.ts","webpack://@project/extension/../common/settings/settings-import-export.ts","webpack://@project/extension/../common/settings/index.ts","webpack://@project/extension/./src/services/extension-settings-storage.ts","webpack://@project/extension/./src/services/build-flags.ts","webpack://@project/extension/./src/services/extension-config.ts","webpack://@project/extension/./src/services/localization-fetcher.ts","webpack://@project/extension/../common/web-socket-client/web-socket-client.ts","webpack://@project/extension/./src/services/web-socket-client-binding.ts","webpack://@project/extension/./src/services/active-tab-permission-request.ts","webpack://@project/extension/../common/audio-clip/mp3-encoder.ts","webpack://@project/extension/../common/base64/index.ts","webpack://@project/extension/../common/browser-detection/index.ts","webpack://@project/extension/../common/audio-clip/audio-clip.ts","webpack://@project/extension/../common/anki/anki.ts","webpack://@project/extension/../node_modules/dexie/dist/modern/dexie.min.mjs","webpack://@project/extension/../common/copy-history/copy-history-repository.ts","webpack://@project/extension/../common/device-detection/mobile.ts","webpack://@project/extension/./src/services/update-alert.ts","webpack://@project/extension/./src/background.ts","webpack://@project/extension/./src/services/tab-registry.ts","webpack://@project/extension/./src/services/audio-recorder-delegate.ts","webpack://@project/extension/./src/services/image-capturer.ts","webpack://@project/extension/./src/services/card-publisher.ts","webpack://@project/extension/./src/handlers/video/video-heartbeat-handler.ts","webpack://@project/extension/./src/handlers/video/record-media-handler.ts","webpack://@project/extension/./src/handlers/video/rerecord-media-handler.ts","webpack://@project/extension/./src/handlers/video/start-recording-media-handler.ts","webpack://@project/extension/./src/handlers/video/stop-recording-media-handler.ts","webpack://@project/extension/./src/handlers/video/take-screenshot-handler.ts","webpack://@project/extension/./src/handlers/video/toggle-subtitles-handler.ts","webpack://@project/extension/./src/handlers/video/sync-handler.ts","webpack://@project/extension/./src/handlers/video/toggle-side-panel-handler.ts","webpack://@project/extension/./src/handlers/video/open-asbplayer-settings-handler.ts","webpack://@project/extension/./src/handlers/video/copy-to-clipboard-handler.ts","webpack://@project/extension/./src/handlers/video/video-disappeared-handler.ts","webpack://@project/extension/./src/handlers/video/requesting-active-tab-permission.ts","webpack://@project/extension/./src/handlers/asbplayerv2/copy-subtitle-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/load-subtitles-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/request-subtitles-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/request-copy-history-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/save-copy-history-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/delete-copy-history-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/clear-copy-history-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/publish-card-handler.ts","webpack://@project/extension/./src/handlers/video/ack-message-handler.ts","webpack://@project/extension/./src/handlers/offscreen-document/audio-base-64-handler.ts","webpack://@project/extension/./src/handlers/video/update-mobile-overlay-model-handler.ts","webpack://@project/extension/./src/handlers/popup/refresh-settings-handler.ts","webpack://@project/extension/./src/handlers/video/video-to-asbplayer-command-forwarding-handler.ts","webpack://@project/extension/./src/handlers/asbplayer/asbplayer-to-video-command-forwarding-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/asbplayer-heartbeat-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/ack-tabs-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/settings-updated-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/open-extension-shortcuts-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/extension-commands-handler.ts","webpack://@project/extension/./src/handlers/asbplayerv2/asbplayer-v2-to-video-command-forwarding-handler.ts","webpack://@project/extension/./src/handlers/foreground/capture-visible-tab-handler.ts","webpack://@project/extension/./src/handlers/mobile-overlay/request-model-handler.ts","webpack://@project/extension/./src/handlers/mobile-overlay/current-tab-handler.ts","webpack://@project/extension/./src/handlers/mobile-overlay/mobile-overlay-forwarder-handler.ts"],"sourcesContent":["'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\n/** @type {import('.')} */\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true) || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n","'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n","'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n","'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n","'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n","'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar test = {\n\tfoo: {}\n};\n\nvar $Object = Object;\n\nmodule.exports = function hasProto() {\n\treturn { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {(o: {}, p: PropertyKey) => p is keyof o} */\nmodule.exports = bind.call(call, $hasOwn);\n","'use strict';\n\nvar helpers = require('./helpers');\n\n/** @type ValidatorResult */\nvar ValidatorResult = helpers.ValidatorResult;\n/** @type SchemaError */\nvar SchemaError = helpers.SchemaError;\n\nvar attribute = {};\n\nattribute.ignoreProperties = {\n  // informative properties\n  'id': true,\n  'default': true,\n  'description': true,\n  'title': true,\n  // arguments to other properties\n  'additionalItems': true,\n  'then': true,\n  'else': true,\n  // special-handled properties\n  '$schema': true,\n  '$ref': true,\n  'extends': true,\n};\n\n/**\n * @name validators\n */\nvar validators = attribute.validators = {};\n\n/**\n * Validates whether the instance if of a certain type\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.type = function validateType (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var types = Array.isArray(schema.type) ? schema.type : [schema.type];\n  if (!types.some(this.testType.bind(this, instance, schema, options, ctx))) {\n    var list = types.map(function (v) {\n      if(!v) return;\n      var id = v.$id || v.id;\n      return id ? ('<' + id + '>') : (v+'');\n    });\n    result.addError({\n      name: 'type',\n      argument: list,\n      message: \"is not of a type(s) \" + list,\n    });\n  }\n  return result;\n};\n\nfunction testSchemaNoThrow(instance, options, ctx, callback, schema){\n  var throwError = options.throwError;\n  var throwAll = options.throwAll;\n  options.throwError = false;\n  options.throwAll = false;\n  var res = this.validateSchema(instance, schema, options, ctx);\n  options.throwError = throwError;\n  options.throwAll = throwAll;\n\n  if (!res.valid && callback instanceof Function) {\n    callback(res);\n  }\n  return res.valid;\n}\n\n/**\n * Validates whether the instance matches some of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {ValidatorResult|null}\n */\nvalidators.anyOf = function validateAnyOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  if (!Array.isArray(schema.anyOf)){\n    throw new SchemaError(\"anyOf must be an array\");\n  }\n  if (!schema.anyOf.some(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res){inner.importErrors(res);}\n    ))) {\n    var list = schema.anyOf.map(function (v, i) {\n      var id = v.$id || v.id;\n      if(id) return '<' + id + '>';\n      return(v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n    });\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'anyOf',\n      argument: list,\n      message: \"is not any of \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance matches every given schema\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.allOf = function validateAllOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.allOf)){\n    throw new SchemaError(\"allOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var self = this;\n  schema.allOf.forEach(function(v, i){\n    var valid = self.validateSchema(instance, v, options, ctx);\n    if(!valid.valid){\n      var id = v.$id || v.id;\n      var msg = id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n      result.addError({\n        name: 'allOf',\n        argument: { id: msg, length: valid.errors.length, valid: valid },\n        message: 'does not match allOf schema ' + msg + ' with ' + valid.errors.length + ' error[s]:',\n      });\n      result.importErrors(valid);\n    }\n  });\n  return result;\n};\n\n/**\n * Validates whether the instance matches exactly one of the given schemas\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.oneOf = function validateOneOf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema.oneOf)){\n    throw new SchemaError(\"oneOf must be an array\");\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var inner = new ValidatorResult(instance, schema, options, ctx);\n  var count = schema.oneOf.filter(\n    testSchemaNoThrow.bind(\n      this, instance, options, ctx, function(res) {inner.importErrors(res);}\n    ) ).length;\n  var list = schema.oneOf.map(function (v, i) {\n    var id = v.$id || v.id;\n    return id || (v.title && JSON.stringify(v.title)) || (v['$ref'] && ('<' + v['$ref'] + '>')) || '[subschema '+i+']';\n  });\n  if (count!==1) {\n    if (options.nestedErrors) {\n      result.importErrors(inner);\n    }\n    result.addError({\n      name: 'oneOf',\n      argument: list,\n      message: \"is not exactly one from \" + list.join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates \"then\" or \"else\" depending on the result of validating \"if\"\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null}\n */\nvalidators.if = function validateIf (instance, schema, options, ctx) {\n  // Ignore undefined instances\n  if (instance === undefined) return null;\n  if (!helpers.isSchema(schema.if)) throw new Error('Expected \"if\" keyword to be a schema');\n  var ifValid = testSchemaNoThrow.call(this, instance, options, ctx, null, schema.if);\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var res;\n  if(ifValid){\n    if (schema.then === undefined) return;\n    if (!helpers.isSchema(schema.then)) throw new Error('Expected \"then\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.then, options, ctx.makeChild(schema.then));\n    result.importErrors(res);\n  }else{\n    if (schema.else === undefined) return;\n    if (!helpers.isSchema(schema.else)) throw new Error('Expected \"else\" keyword to be a schema');\n    res = this.validateSchema(instance, schema.else, options, ctx.makeChild(schema.else));\n    result.importErrors(res);\n  }\n  return result;\n};\n\nfunction getEnumerableProperty(object, key){\n  // Determine if `key` shows up in `for(var key in object)`\n  // First test Object.hasOwnProperty.call as an optimization: that guarantees it does\n  if(Object.hasOwnProperty.call(object, key)) return object[key];\n  // Test `key in object` as an optimization; false means it won't\n  if(!(key in object)) return;\n  while( (object = Object.getPrototypeOf(object)) ){\n    if(Object.propertyIsEnumerable.call(object, key)) return object[key];\n  }\n}\n\n/**\n * Validates propertyNames\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.propertyNames = function validatePropertyNames (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var subschema = schema.propertyNames!==undefined ? schema.propertyNames : {};\n  if(!helpers.isSchema(subschema)) throw new SchemaError('Expected \"propertyNames\" to be a schema (object or boolean)');\n\n  for (var property in instance) {\n    if(getEnumerableProperty(instance, property) !== undefined){\n      var res = this.validateSchema(property, subschema, options, ctx.makeChild(subschema));\n      result.importErrors(res);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates properties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.properties = function validateProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var properties = schema.properties || {};\n  for (var property in properties) {\n    var subschema = properties[property];\n    if(subschema===undefined){\n      continue;\n    }else if(subschema===null){\n      throw new SchemaError('Unexpected null, expected schema in \"properties\"');\n    }\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, subschema, options, ctx);\n    }\n    var prop = getEnumerableProperty(instance, property);\n    var res = this.validateSchema(prop, subschema, options, ctx.makeChild(subschema, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n  return result;\n};\n\n/**\n * Test a specific property within in instance against the additionalProperties schema attribute\n * This ignores properties with definitions in the properties schema attribute, but no other attributes.\n * If too many more types of property-existence tests pop up they may need their own class of tests (like `type` has)\n * @private\n * @return {boolean}\n */\nfunction testAdditionalProperty (instance, schema, options, ctx, property, result) {\n  if(!this.types.object(instance)) return;\n  if (schema.properties && schema.properties[property] !== undefined) {\n    return;\n  }\n  if (schema.additionalProperties === false) {\n    result.addError({\n      name: 'additionalProperties',\n      argument: property,\n      message: \"is not allowed to have the additional property \" + JSON.stringify(property),\n    });\n  } else {\n    var additionalProperties = schema.additionalProperties || {};\n\n    if (typeof options.preValidateProperty == 'function') {\n      options.preValidateProperty(instance, property, additionalProperties, options, ctx);\n    }\n\n    var res = this.validateSchema(instance[property], additionalProperties, options, ctx.makeChild(additionalProperties, property));\n    if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n    result.importErrors(res);\n  }\n}\n\n/**\n * Validates patternProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.patternProperties = function validatePatternProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var patternProperties = schema.patternProperties || {};\n\n  for (var property in instance) {\n    var test = true;\n    for (var pattern in patternProperties) {\n      var subschema = patternProperties[pattern];\n      if(subschema===undefined){\n        continue;\n      }else if(subschema===null){\n        throw new SchemaError('Unexpected null, expected schema in \"patternProperties\"');\n      }\n      try {\n        var regexp = new RegExp(pattern, 'u');\n      } catch(_e) {\n        // In the event the stricter handling causes an error, fall back on the forgiving handling\n        // DEPRECATED\n        regexp = new RegExp(pattern);\n      }\n      if (!regexp.test(property)) {\n        continue;\n      }\n      test = false;\n\n      if (typeof options.preValidateProperty == 'function') {\n        options.preValidateProperty(instance, property, subschema, options, ctx);\n      }\n\n      var res = this.validateSchema(instance[property], subschema, options, ctx.makeChild(subschema, property));\n      if(res.instance !== result.instance[property]) result.instance[property] = res.instance;\n      result.importErrors(res);\n    }\n    if (test) {\n      testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n    }\n  }\n\n  return result;\n};\n\n/**\n * Validates additionalProperties\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.additionalProperties = function validateAdditionalProperties (instance, schema, options, ctx) {\n  if(!this.types.object(instance)) return;\n  // if patternProperties is defined then we'll test when that one is called instead\n  if (schema.patternProperties) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in instance) {\n    testAdditionalProperty.call(this, instance, schema, options, ctx, property, result);\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minProperties = function validateMinProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length >= schema.minProperties)) {\n    result.addError({\n      name: 'minProperties',\n      argument: schema.minProperties,\n      message: \"does not meet minimum property length of \" + schema.minProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxProperties = function validateMaxProperties (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var keys = Object.keys(instance);\n  if (!(keys.length <= schema.maxProperties)) {\n    result.addError({\n      name: 'maxProperties',\n      argument: schema.maxProperties,\n      message: \"does not meet maximum property length of \" + schema.maxProperties,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates items when instance is an array\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.items = function validateItems (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.items===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  instance.every(function (value, i) {\n    if(Array.isArray(schema.items)){\n      var items =  schema.items[i]===undefined ? schema.additionalItems : schema.items[i];\n    }else{\n      var items = schema.items;\n    }\n    if (items === undefined) {\n      return true;\n    }\n    if (items === false) {\n      result.addError({\n        name: 'items',\n        message: \"additionalItems not permitted\",\n      });\n      return false;\n    }\n    var res = self.validateSchema(value, items, options, ctx.makeChild(items, i));\n    if(res.instance !== result.instance[i]) result.instance[i] = res.instance;\n    result.importErrors(res);\n    return true;\n  });\n  return result;\n};\n\n/**\n * Validates the \"contains\" keyword\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {String|null|ValidatorResult}\n */\nvalidators.contains = function validateContains (instance, schema, options, ctx) {\n  var self = this;\n  if (!this.types.array(instance)) return;\n  if (schema.contains===undefined) return;\n  if (!helpers.isSchema(schema.contains)) throw new Error('Expected \"contains\" keyword to be a schema');\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var count = instance.some(function (value, i) {\n    var res = self.validateSchema(value, schema.contains, options, ctx.makeChild(schema.contains, i));\n    return res.errors.length===0;\n  });\n  if(count===false){\n    result.addError({\n      name: 'contains',\n      argument: schema.contains,\n      message: \"must contain an item matching given schema\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates minimum and exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minimum = function validateMinimum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMinimum && schema.exclusiveMinimum === true) {\n    if(!(instance > schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than \" + schema.minimum,\n      });\n    }\n  } else {\n    if(!(instance >= schema.minimum)){\n      result.addError({\n        name: 'minimum',\n        argument: schema.minimum,\n        message: \"must be greater than or equal to \" + schema.minimum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates maximum and exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maximum = function validateMaximum (instance, schema, options, ctx) {\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (schema.exclusiveMaximum && schema.exclusiveMaximum === true) {\n    if(!(instance < schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than \" + schema.maximum,\n      });\n    }\n  } else {\n    if(!(instance <= schema.maximum)){\n      result.addError({\n        name: 'maximum',\n        argument: schema.maximum,\n        message: \"must be less than or equal to \" + schema.maximum,\n      });\n    }\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMinimum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMinimum = function validateExclusiveMinimum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMinimum, which is handled by the \"minimum\" keyword.\n  if(typeof schema.exclusiveMinimum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance > schema.exclusiveMinimum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMinimum',\n      argument: schema.exclusiveMinimum,\n      message: \"must be strictly greater than \" + schema.exclusiveMinimum,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates the number form of exclusiveMaximum when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.exclusiveMaximum = function validateExclusiveMaximum (instance, schema, options, ctx) {\n  // Support the boolean form of exclusiveMaximum, which is handled by the \"maximum\" keyword.\n  if(typeof schema.exclusiveMaximum === 'boolean') return;\n  if (!this.types.number(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var valid = instance < schema.exclusiveMaximum;\n  if (!valid) {\n    result.addError({\n      name: 'exclusiveMaximum',\n      argument: schema.exclusiveMaximum,\n      message: \"must be strictly less than \" + schema.exclusiveMaximum,\n    });\n  }\n  return result;\n};\n\n/**\n * Perform validation for multipleOf and divisibleBy, which are essentially the same.\n * @param instance\n * @param schema\n * @param validationType\n * @param errorMessage\n * @returns {String|null}\n */\nvar validateMultipleOfOrDivisbleBy = function validateMultipleOfOrDivisbleBy (instance, schema, options, ctx, validationType, errorMessage) {\n  if (!this.types.number(instance)) return;\n\n  var validationArgument = schema[validationType];\n  if (validationArgument == 0) {\n    throw new SchemaError(validationType + \" cannot be zero\");\n  }\n\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  var instanceDecimals = helpers.getDecimalPlaces(instance);\n  var divisorDecimals = helpers.getDecimalPlaces(validationArgument);\n\n  var maxDecimals = Math.max(instanceDecimals , divisorDecimals);\n  var multiplier = Math.pow(10, maxDecimals);\n\n  if (Math.round(instance * multiplier) % Math.round(validationArgument * multiplier) !== 0) {\n    result.addError({\n      name: validationType,\n      argument:  validationArgument,\n      message: errorMessage + JSON.stringify(validationArgument),\n    });\n  }\n\n  return result;\n};\n\n/**\n * Validates divisibleBy when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.multipleOf = function validateMultipleOf (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"multipleOf\", \"is not a multiple of (divisible by) \");\n};\n\n/**\n * Validates multipleOf when the type of the instance value is a number.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.divisibleBy = function validateDivisibleBy (instance, schema, options, ctx) {\n  return validateMultipleOfOrDivisbleBy.call(this, instance, schema, options, ctx, \"divisibleBy\", \"is not divisible by (multiple of) \");\n};\n\n/**\n * Validates whether the instance value is present.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.required = function validateRequired (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (instance === undefined && schema.required === true) {\n    // A boolean form is implemented for reverse-compatibility with schemas written against older drafts\n    result.addError({\n      name: 'required',\n      message: \"is required\",\n    });\n  } else if (this.types.object(instance) && Array.isArray(schema.required)) {\n    schema.required.forEach(function(n){\n      if(getEnumerableProperty(instance, n)===undefined){\n        result.addError({\n          name: 'required',\n          argument: n,\n          message: \"requires property \" + JSON.stringify(n),\n        });\n      }\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value matches the regular expression, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.pattern = function validatePattern (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var pattern = schema.pattern;\n  try {\n    var regexp = new RegExp(pattern, 'u');\n  } catch(_e) {\n    // In the event the stricter handling causes an error, fall back on the forgiving handling\n    // DEPRECATED\n    regexp = new RegExp(pattern);\n  }\n  if (!instance.match(regexp)) {\n    result.addError({\n      name: 'pattern',\n      argument: schema.pattern,\n      message: \"does not match pattern \" + JSON.stringify(schema.pattern.toString()),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is of a certain defined format or a custom\n * format.\n * The following formats are supported for string types:\n *   - date-time\n *   - date\n *   - time\n *   - ip-address\n *   - ipv6\n *   - uri\n *   - color\n *   - host-name\n *   - alpha\n *   - alpha-numeric\n *   - utc-millisec\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {String|null}\n */\nvalidators.format = function validateFormat (instance, schema, options, ctx) {\n  if (instance===undefined) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!result.disableFormat && !helpers.isFormat(instance, schema.format, this)) {\n    result.addError({\n      name: 'format',\n      argument: schema.format,\n      message: \"does not conform to the \" + JSON.stringify(schema.format) + \" format\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at least of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minLength = function validateMinLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length >= schema.minLength)) {\n    result.addError({\n      name: 'minLength',\n      argument: schema.minLength,\n      message: \"does not meet minimum length of \" + schema.minLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is at most of a certain length, when the instance value is a string.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxLength = function validateMaxLength (instance, schema, options, ctx) {\n  if (!this.types.string(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  // TODO if this was already computed in \"minLength\", use that value instead of re-computing\n  var hsp = instance.match(/[\\uDC00-\\uDFFF]/g);\n  var length = instance.length - (hsp ? hsp.length : 0);\n  if (!(length <= schema.maxLength)) {\n    result.addError({\n      name: 'maxLength',\n      argument: schema.maxLength,\n      message: \"does not meet maximum length of \" + schema.maxLength,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains at least a minimum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.minItems = function validateMinItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length >= schema.minItems)) {\n    result.addError({\n      name: 'minItems',\n      argument: schema.minItems,\n      message: \"does not meet minimum length of \" + schema.minItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether instance contains no more than a maximum number of items, when the instance is an Array.\n * @param instance\n * @param schema\n * @return {String|null}\n */\nvalidators.maxItems = function validateMaxItems (instance, schema, options, ctx) {\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!(instance.length <= schema.maxItems)) {\n    result.addError({\n      name: 'maxItems',\n      argument: schema.maxItems,\n      message: \"does not meet maximum length of \" + schema.maxItems,\n    });\n  }\n  return result;\n};\n\n/**\n * Deep compares arrays for duplicates\n * @param v\n * @param i\n * @param a\n * @private\n * @return {boolean}\n */\nfunction testArrays (v, i, a) {\n  var j, len = a.length;\n  for (j = i + 1, len; j < len; j++) {\n    if (helpers.deepCompareStrict(v, a[j])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Validates whether there are no duplicates, when the instance is an Array.\n * @param instance\n * @return {String|null}\n */\nvalidators.uniqueItems = function validateUniqueItems (instance, schema, options, ctx) {\n  if (schema.uniqueItems!==true) return;\n  if (!this.types.array(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!instance.every(testArrays)) {\n    result.addError({\n      name: 'uniqueItems',\n      message: \"contains duplicate item\",\n    });\n  }\n  return result;\n};\n\n/**\n * Validate for the presence of dependency properties, if the instance is an object.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.dependencies = function validateDependencies (instance, schema, options, ctx) {\n  if (!this.types.object(instance)) return;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  for (var property in schema.dependencies) {\n    if (instance[property] === undefined) {\n      continue;\n    }\n    var dep = schema.dependencies[property];\n    var childContext = ctx.makeChild(dep, property);\n    if (typeof dep == 'string') {\n      dep = [dep];\n    }\n    if (Array.isArray(dep)) {\n      dep.forEach(function (prop) {\n        if (instance[prop] === undefined) {\n          result.addError({\n            // FIXME there's two different \"dependencies\" errors here with slightly different outputs\n            // Can we make these the same? Or should we create different error types?\n            name: 'dependencies',\n            argument: childContext.propertyPath,\n            message: \"property \" + prop + \" not found, required by \" + childContext.propertyPath,\n          });\n        }\n      });\n    } else {\n      var res = this.validateSchema(instance, dep, options, childContext);\n      if(result.instance !== res.instance) result.instance = res.instance;\n      if (res && res.errors.length) {\n        result.addError({\n          name: 'dependencies',\n          argument: childContext.propertyPath,\n          message: \"does not meet dependency required by \" + childContext.propertyPath,\n        });\n        result.importErrors(res);\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance value is one of the enumerated values.\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['enum'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  if (!Array.isArray(schema['enum'])) {\n    throw new SchemaError(\"enum expects an array\", schema);\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!schema['enum'].some(helpers.deepCompareStrict.bind(null, instance))) {\n    result.addError({\n      name: 'enum',\n      argument: schema['enum'],\n      message: \"is not one of enum values: \" + schema['enum'].map(String).join(','),\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance exactly matches a given value\n *\n * @param instance\n * @param schema\n * @return {ValidatorResult|null}\n */\nvalidators['const'] = function validateEnum (instance, schema, options, ctx) {\n  if (instance === undefined) {\n    return null;\n  }\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  if (!helpers.deepCompareStrict(schema['const'], instance)) {\n    result.addError({\n      name: 'const',\n      argument: schema['const'],\n      message: \"does not exactly match expected constant: \" + schema['const'],\n    });\n  }\n  return result;\n};\n\n/**\n * Validates whether the instance if of a prohibited type.\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @return {null|ValidatorResult}\n */\nvalidators.not = validators.disallow = function validateNot (instance, schema, options, ctx) {\n  var self = this;\n  if(instance===undefined) return null;\n  var result = new ValidatorResult(instance, schema, options, ctx);\n  var notTypes = schema.not || schema.disallow;\n  if(!notTypes) return null;\n  if(!Array.isArray(notTypes)) notTypes=[notTypes];\n  notTypes.forEach(function (type) {\n    if (self.testType(instance, schema, options, ctx, type)) {\n      var id = type && (type.$id || type.id);\n      var schemaId = id || type;\n      result.addError({\n        name: 'not',\n        argument: schemaId,\n        message: \"is of prohibited type \" + schemaId,\n      });\n    }\n  });\n  return result;\n};\n\nmodule.exports = attribute;\n","'use strict';\n\nvar uri = require('url');\n\nvar ValidationError = exports.ValidationError = function ValidationError (message, instance, schema, path, name, argument) {\n  if(Array.isArray(path)){\n    this.path = path;\n    this.property = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else if(path !== undefined){\n    this.property = path;\n  }\n  if (message) {\n    this.message = message;\n  }\n  if (schema) {\n    var id = schema.$id || schema.id;\n    this.schema = id || schema;\n  }\n  if (instance !== undefined) {\n    this.instance = instance;\n  }\n  this.name = name;\n  this.argument = argument;\n  this.stack = this.toString();\n};\n\nValidationError.prototype.toString = function toString() {\n  return this.property + ' ' + this.message;\n};\n\nvar ValidatorResult = exports.ValidatorResult = function ValidatorResult(instance, schema, options, ctx) {\n  this.instance = instance;\n  this.schema = schema;\n  this.options = options;\n  this.path = ctx.path;\n  this.propertyPath = ctx.propertyPath;\n  this.errors = [];\n  this.throwError = options && options.throwError;\n  this.throwFirst = options && options.throwFirst;\n  this.throwAll = options && options.throwAll;\n  this.disableFormat = options && options.disableFormat === true;\n};\n\nValidatorResult.prototype.addError = function addError(detail) {\n  var err;\n  if (typeof detail == 'string') {\n    err = new ValidationError(detail, this.instance, this.schema, this.path);\n  } else {\n    if (!detail) throw new Error('Missing error detail');\n    if (!detail.message) throw new Error('Missing error message');\n    if (!detail.name) throw new Error('Missing validator type');\n    err = new ValidationError(detail.message, this.instance, this.schema, this.path, detail.name, detail.argument);\n  }\n\n  this.errors.push(err);\n  if (this.throwFirst) {\n    throw new ValidatorResultError(this);\n  }else if(this.throwError){\n    throw err;\n  }\n  return err;\n};\n\nValidatorResult.prototype.importErrors = function importErrors(res) {\n  if (typeof res == 'string' || (res && res.validatorType)) {\n    this.addError(res);\n  } else if (res && res.errors) {\n    this.errors = this.errors.concat(res.errors);\n  }\n};\n\nfunction stringizer (v,i){\n  return i+': '+v.toString()+'\\n';\n}\nValidatorResult.prototype.toString = function toString(res) {\n  return this.errors.map(stringizer).join('');\n};\n\nObject.defineProperty(ValidatorResult.prototype, \"valid\", { get: function() {\n  return !this.errors.length;\n} });\n\nmodule.exports.ValidatorResultError = ValidatorResultError;\nfunction ValidatorResultError(result) {\n  if(Error.captureStackTrace){\n    Error.captureStackTrace(this, ValidatorResultError);\n  }\n  this.instance = result.instance;\n  this.schema = result.schema;\n  this.options = result.options;\n  this.errors = result.errors;\n}\nValidatorResultError.prototype = new Error();\nValidatorResultError.prototype.constructor = ValidatorResultError;\nValidatorResultError.prototype.name = \"Validation Error\";\n\n/**\n * Describes a problem with a Schema which prevents validation of an instance\n * @name SchemaError\n * @constructor\n */\nvar SchemaError = exports.SchemaError = function SchemaError (msg, schema) {\n  this.message = msg;\n  this.schema = schema;\n  Error.call(this, msg);\n  Error.captureStackTrace(this, SchemaError);\n};\nSchemaError.prototype = Object.create(Error.prototype,\n  {\n    constructor: {value: SchemaError, enumerable: false},\n    name: {value: 'SchemaError', enumerable: false},\n  });\n\nvar SchemaContext = exports.SchemaContext = function SchemaContext (schema, options, path, base, schemas) {\n  this.schema = schema;\n  this.options = options;\n  if(Array.isArray(path)){\n    this.path = path;\n    this.propertyPath = path.reduce(function(sum, item){\n      return sum + makeSuffix(item);\n    }, 'instance');\n  }else{\n    this.propertyPath = path;\n  }\n  this.base = base;\n  this.schemas = schemas;\n};\n\nSchemaContext.prototype.resolve = function resolve (target) {\n  return uri.resolve(this.base, target);\n};\n\nSchemaContext.prototype.makeChild = function makeChild(schema, propertyName){\n  var path = (propertyName===undefined) ? this.path : this.path.concat([propertyName]);\n  var id = schema.$id || schema.id;\n  var base = uri.resolve(this.base, id||'');\n  var ctx = new SchemaContext(schema, this.options, path, base, Object.create(this.schemas));\n  if(id && !ctx.schemas[base]){\n    ctx.schemas[base] = schema;\n  }\n  return ctx;\n};\n\nvar FORMAT_REGEXPS = exports.FORMAT_REGEXPS = {\n  // 7.3.1. Dates, Times, and Duration\n  'date-time': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\\.\\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,\n  'date': /^\\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,\n  'time': /^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,\n  'duration': /P(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S)|\\d+(D|M(\\d+D)?|Y(\\d+M(\\d+D)?)?)(T\\d+(H(\\d+M(\\d+S)?)?|M(\\d+S)?|S))?|\\d+W)/i,\n\n  // 7.3.2. Email Addresses\n  // TODO: fix the email production\n  'email': /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/,\n  'idn-email': /^(\"(?:[!#-\\[\\]-\\u{10FFFF}]|\\\\[\\t -\\u{10FFFF}])*\"|[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*)@([!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}](?:\\.?[!#-'*+\\-/-9=?A-Z\\^-\\u{10FFFF}])*|\\[[!-Z\\^-\\u{10FFFF}]*\\])$/u,\n\n  // 7.3.3. Hostnames\n\n  // 7.3.4. IP Addresses\n  'ip-address': /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,\n  // FIXME whitespace is invalid\n  'ipv6': /^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/,\n\n  // 7.3.5. Resource Identifiers\n  // TODO: A more accurate regular expression for \"uri\" goes:\n  // [A-Za-z][+\\-.0-9A-Za-z]*:((/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?)?#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])|/?%[0-9A-Fa-f]{2}|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*(#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|/(/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?)?\n  'uri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'uri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/,\n  'iri': /^[a-zA-Z][a-zA-Z0-9+.-]*:[^\\s]*$/,\n  'iri-reference': /^(((([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|(([A-Za-z][+\\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\\u{10FFFF}]|[A-Za-z][+\\-.0-9A-Za-z]*[!$&-*,;=@_~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*)?|([A-Za-z][+\\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}]|[/?])|\\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|([A-Za-z][+\\-.0-9A-Za-z]*:)?\\/((%[0-9A-Fa-f]{2}|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)(:\\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\\u{10FFFF}])*|\\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\\u{10FFFF}])+(:\\d*)?|(\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?:\\d*|\\[(([Vv][0-9A-Fa-f]+\\.[!$&-.0-;=A-Z_a-z~-\\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\\])?)?|[A-Za-z][+\\-.0-9A-Za-z]*:?)?$/u,\n  'uuid': /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n\n  // 7.3.6. uri-template\n  'uri-template': /(%[0-9a-f]{2}|[!#$&(-;=?@\\[\\]_a-z~]|\\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\\d{0,3}|\\*)?)*\\})*/iu,\n\n  // 7.3.7. JSON Pointers\n  'json-pointer': /^(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*$/iu,\n  'relative-json-pointer': /^\\d+(#|(\\/([\\x00-\\x2e0-@\\[-}\\x7f]|~[01])*)*)$/iu,\n\n  // hostname regex from: http://stackoverflow.com/a/1420225/5628\n  'hostname': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n  'host-name': /^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\\.?$/,\n\n  'utc-millisec': function (input) {\n    return (typeof input === 'string') && parseFloat(input) === parseInt(input, 10) && !isNaN(input);\n  },\n\n  // 7.3.8. regex\n  'regex': function (input) {\n    var result = true;\n    try {\n      new RegExp(input);\n    } catch (e) {\n      result = false;\n    }\n    return result;\n  },\n\n  // Other definitions\n  // \"style\" was removed from JSON Schema in draft-4 and is deprecated\n  'style': /[\\r\\n\\t ]*[^\\r\\n\\t ][^:]*:[\\r\\n\\t ]*[^\\r\\n\\t ;]*[\\r\\n\\t ]*;?/,\n  // \"color\" was removed from JSON Schema in draft-4 and is deprecated\n  'color': /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/,\n  'phone': /^\\+(?:[0-9] ?){6,14}[0-9]$/,\n  'alpha': /^[a-zA-Z]+$/,\n  'alphanumeric': /^[a-zA-Z0-9]+$/,\n};\n\nFORMAT_REGEXPS.regexp = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.pattern = FORMAT_REGEXPS.regex;\nFORMAT_REGEXPS.ipv4 = FORMAT_REGEXPS['ip-address'];\n\nexports.isFormat = function isFormat (input, format, validator) {\n  if (typeof input === 'string' && FORMAT_REGEXPS[format] !== undefined) {\n    if (FORMAT_REGEXPS[format] instanceof RegExp) {\n      return FORMAT_REGEXPS[format].test(input);\n    }\n    if (typeof FORMAT_REGEXPS[format] === 'function') {\n      return FORMAT_REGEXPS[format](input);\n    }\n  } else if (validator && validator.customFormats &&\n      typeof validator.customFormats[format] === 'function') {\n    return validator.customFormats[format](input);\n  }\n  return true;\n};\n\nvar makeSuffix = exports.makeSuffix = function makeSuffix (key) {\n  key = key.toString();\n  // This function could be capable of outputting valid a ECMAScript string, but the\n  // resulting code for testing which form to use would be tens of thousands of characters long\n  // That means this will use the name form for some illegal forms\n  if (!key.match(/[.\\s\\[\\]]/) && !key.match(/^[\\d]/)) {\n    return '.' + key;\n  }\n  if (key.match(/^\\d+$/)) {\n    return '[' + key + ']';\n  }\n  return '[' + JSON.stringify(key) + ']';\n};\n\nexports.deepCompareStrict = function deepCompareStrict (a, b) {\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (v, i) {\n      return deepCompareStrict(a[i], b[i]);\n    });\n  }\n  if (typeof a === 'object') {\n    if (!a || !b) {\n      return a === b;\n    }\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    return aKeys.every(function (v) {\n      return deepCompareStrict(a[v], b[v]);\n    });\n  }\n  return a === b;\n};\n\nfunction deepMerger (target, dst, e, i) {\n  if (typeof e === 'object') {\n    dst[i] = deepMerge(target[i], e);\n  } else {\n    if (target.indexOf(e) === -1) {\n      dst.push(e);\n    }\n  }\n}\n\nfunction copyist (src, dst, key) {\n  dst[key] = src[key];\n}\n\nfunction copyistWithDeepMerge (target, src, dst, key) {\n  if (typeof src[key] !== 'object' || !src[key]) {\n    dst[key] = src[key];\n  }\n  else {\n    if (!target[key]) {\n      dst[key] = src[key];\n    } else {\n      dst[key] = deepMerge(target[key], src[key]);\n    }\n  }\n}\n\nfunction deepMerge (target, src) {\n  var array = Array.isArray(src);\n  var dst = array && [] || {};\n\n  if (array) {\n    target = target || [];\n    dst = dst.concat(target);\n    src.forEach(deepMerger.bind(null, target, dst));\n  } else {\n    if (target && typeof target === 'object') {\n      Object.keys(target).forEach(copyist.bind(null, target, dst));\n    }\n    Object.keys(src).forEach(copyistWithDeepMerge.bind(null, target, src, dst));\n  }\n\n  return dst;\n}\n\nmodule.exports.deepMerge = deepMerge;\n\n/**\n * Validates instance against the provided schema\n * Implements URI+JSON Pointer encoding, e.g. \"%7e\"=\"~0\"=>\"~\", \"~1\"=\"%2f\"=>\"/\"\n * @param o\n * @param s The path to walk o along\n * @return any\n */\nexports.objectGetPath = function objectGetPath(o, s) {\n  var parts = s.split('/').slice(1);\n  var k;\n  while (typeof (k=parts.shift()) == 'string') {\n    var n = decodeURIComponent(k.replace(/~0/,'~').replace(/~1/g,'/'));\n    if (!(n in o)) return;\n    o = o[n];\n  }\n  return o;\n};\n\nfunction pathEncoder (v) {\n  return '/'+encodeURIComponent(v).replace(/~/g,'%7E');\n}\n/**\n * Accept an Array of property names and return a JSON Pointer URI fragment\n * @param Array a\n * @return {String}\n */\nexports.encodePath = function encodePointer(a){\n  // ~ must be encoded explicitly because hacks\n  // the slash is encoded by encodeURIComponent\n  return a.map(pathEncoder).join('');\n};\n\n\n/**\n * Calculate the number of decimal places a number uses\n * We need this to get correct results out of multipleOf and divisibleBy\n * when either figure is has decimal places, due to IEEE-754 float issues.\n * @param number\n * @returns {number}\n */\nexports.getDecimalPlaces = function getDecimalPlaces(number) {\n\n  var decimalPlaces = 0;\n  if (isNaN(number)) return decimalPlaces;\n\n  if (typeof number !== 'number') {\n    number = Number(number);\n  }\n\n  var parts = number.toString().split('e');\n  if (parts.length === 2) {\n    if (parts[1][0] !== '-') {\n      return decimalPlaces;\n    } else {\n      decimalPlaces = Number(parts[1].slice(1));\n    }\n  }\n\n  var decimalParts = parts[0].split('.');\n  if (decimalParts.length === 2) {\n    decimalPlaces += decimalParts[1].length;\n  }\n\n  return decimalPlaces;\n};\n\nexports.isSchema = function isSchema(val){\n  return (typeof val === 'object' && val) || (typeof val === 'boolean');\n};\n\n","'use strict';\n\nvar Validator = module.exports.Validator = require('./validator');\n\nmodule.exports.ValidatorResult = require('./helpers').ValidatorResult;\nmodule.exports.ValidatorResultError = require('./helpers').ValidatorResultError;\nmodule.exports.ValidationError = require('./helpers').ValidationError;\nmodule.exports.SchemaError = require('./helpers').SchemaError;\nmodule.exports.SchemaScanResult = require('./scan').SchemaScanResult;\nmodule.exports.scan = require('./scan').scan;\n\nmodule.exports.validate = function (instance, schema, options) {\n  var v = new Validator();\n  return v.validate(instance, schema, options);\n};\n","\"use strict\";\n\nvar urilib = require('url');\nvar helpers = require('./helpers');\n\nmodule.exports.SchemaScanResult = SchemaScanResult;\nfunction SchemaScanResult(found, ref){\n  this.id = found;\n  this.ref = ref;\n}\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param string uri\n * @param object schema\n * @return {Object}\n */\nmodule.exports.scan = function scan(base, schema){\n  function scanSchema(baseuri, schema){\n    if(!schema || typeof schema!='object') return;\n    // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined\n    if(schema.$ref){\n      var resolvedUri = urilib.resolve(baseuri, schema.$ref);\n      ref[resolvedUri] = ref[resolvedUri] ? ref[resolvedUri]+1 : 0;\n      return;\n    }\n    var id = schema.$id || schema.id;\n    var ourBase = id ? urilib.resolve(baseuri, id) : baseuri;\n    if (ourBase) {\n      // If there's no fragment, append an empty one\n      if(ourBase.indexOf('#')<0) ourBase += '#';\n      if(found[ourBase]){\n        if(!helpers.deepCompareStrict(found[ourBase], schema)){\n          throw new Error('Schema <'+ourBase+'> already exists with different definition');\n        }\n        return found[ourBase];\n      }\n      found[ourBase] = schema;\n      // strip trailing fragment\n      if(ourBase[ourBase.length-1]=='#'){\n        found[ourBase.substring(0, ourBase.length-1)] = schema;\n      }\n    }\n    scanArray(ourBase+'/items', (Array.isArray(schema.items)?schema.items:[schema.items]));\n    scanArray(ourBase+'/extends', (Array.isArray(schema.extends)?schema.extends:[schema.extends]));\n    scanSchema(ourBase+'/additionalItems', schema.additionalItems);\n    scanObject(ourBase+'/properties', schema.properties);\n    scanSchema(ourBase+'/additionalProperties', schema.additionalProperties);\n    scanObject(ourBase+'/definitions', schema.definitions);\n    scanObject(ourBase+'/patternProperties', schema.patternProperties);\n    scanObject(ourBase+'/dependencies', schema.dependencies);\n    scanArray(ourBase+'/disallow', schema.disallow);\n    scanArray(ourBase+'/allOf', schema.allOf);\n    scanArray(ourBase+'/anyOf', schema.anyOf);\n    scanArray(ourBase+'/oneOf', schema.oneOf);\n    scanSchema(ourBase+'/not', schema.not);\n  }\n  function scanArray(baseuri, schemas){\n    if(!Array.isArray(schemas)) return;\n    for(var i=0; i<schemas.length; i++){\n      scanSchema(baseuri+'/'+i, schemas[i]);\n    }\n  }\n  function scanObject(baseuri, schemas){\n    if(!schemas || typeof schemas!='object') return;\n    for(var p in schemas){\n      scanSchema(baseuri+'/'+p, schemas[p]);\n    }\n  }\n\n  var found = {};\n  var ref = {};\n  scanSchema(base, schema);\n  return new SchemaScanResult(found, ref);\n};\n","'use strict';\n\nvar urilib = require('url');\n\nvar attribute = require('./attribute');\nvar helpers = require('./helpers');\nvar scanSchema = require('./scan').scan;\nvar ValidatorResult = helpers.ValidatorResult;\nvar ValidatorResultError = helpers.ValidatorResultError;\nvar SchemaError = helpers.SchemaError;\nvar SchemaContext = helpers.SchemaContext;\n//var anonymousBase = 'vnd.jsonschema:///';\nvar anonymousBase = '/';\n\n/**\n * Creates a new Validator object\n * @name Validator\n * @constructor\n */\nvar Validator = function Validator () {\n  // Allow a validator instance to override global custom formats or to have their\n  // own custom formats.\n  this.customFormats = Object.create(Validator.prototype.customFormats);\n  this.schemas = {};\n  this.unresolvedRefs = [];\n\n  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.\n  this.types = Object.create(types);\n  this.attributes = Object.create(attribute.validators);\n};\n\n// Allow formats to be registered globally.\nValidator.prototype.customFormats = {};\n\n// Hint at the presence of a property\nValidator.prototype.schemas = null;\nValidator.prototype.types = null;\nValidator.prototype.attributes = null;\nValidator.prototype.unresolvedRefs = null;\n\n/**\n * Adds a schema with a certain urn to the Validator instance.\n * @param schema\n * @param urn\n * @return {Object}\n */\nValidator.prototype.addSchema = function addSchema (schema, base) {\n  var self = this;\n  if (!schema) {\n    return null;\n  }\n  var scan = scanSchema(base||anonymousBase, schema);\n  var ourUri = base || schema.$id || schema.id;\n  for(var uri in scan.id){\n    this.schemas[uri] = scan.id[uri];\n  }\n  for(var uri in scan.ref){\n    // If this schema is already defined, it will be filtered out by the next step\n    this.unresolvedRefs.push(uri);\n  }\n  // Remove newly defined schemas from unresolvedRefs\n  this.unresolvedRefs = this.unresolvedRefs.filter(function(uri){\n    return typeof self.schemas[uri]==='undefined';\n  });\n  return this.schemas[ourUri];\n};\n\nValidator.prototype.addSubSchemaArray = function addSubSchemaArray(baseuri, schemas) {\n  if(!Array.isArray(schemas)) return;\n  for(var i=0; i<schemas.length; i++){\n    this.addSubSchema(baseuri, schemas[i]);\n  }\n};\n\nValidator.prototype.addSubSchemaObject = function addSubSchemaArray(baseuri, schemas) {\n  if(!schemas || typeof schemas!='object') return;\n  for(var p in schemas){\n    this.addSubSchema(baseuri, schemas[p]);\n  }\n};\n\n\n\n/**\n * Sets all the schemas of the Validator instance.\n * @param schemas\n */\nValidator.prototype.setSchemas = function setSchemas (schemas) {\n  this.schemas = schemas;\n};\n\n/**\n * Returns the schema of a certain urn\n * @param urn\n */\nValidator.prototype.getSchema = function getSchema (urn) {\n  return this.schemas[urn];\n};\n\n/**\n * Validates instance against the provided schema\n * @param instance\n * @param schema\n * @param [options]\n * @param [ctx]\n * @return {Array}\n */\nValidator.prototype.validate = function validate (instance, schema, options, ctx) {\n  if((typeof schema !== 'boolean' && typeof schema !== 'object') || schema === null){\n    throw new SchemaError('Expected `schema` to be an object or boolean');\n  }\n  if (!options) {\n    options = {};\n  }\n  // This section indexes subschemas in the provided schema, so they don't need to be added with Validator#addSchema\n  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI\n  var id = schema.$id || schema.id;\n  var base = urilib.resolve(options.base||anonymousBase, id||'');\n  if(!ctx){\n    ctx = new SchemaContext(schema, options, [], base, Object.create(this.schemas));\n    if (!ctx.schemas[base]) {\n      ctx.schemas[base] = schema;\n    }\n    var found = scanSchema(base, schema);\n    for(var n in found.id){\n      var sch = found.id[n];\n      ctx.schemas[n] = sch;\n    }\n  }\n  if(options.required && instance===undefined){\n    var result = new ValidatorResult(instance, schema, options, ctx);\n    result.addError('is required, but is undefined');\n    return result;\n  }\n  var result = this.validateSchema(instance, schema, options, ctx);\n  if (!result) {\n    throw new Error('Result undefined');\n  }else if(options.throwAll && result.errors.length){\n    throw new ValidatorResultError(result);\n  }\n  return result;\n};\n\n/**\n* @param Object schema\n* @return mixed schema uri or false\n*/\nfunction shouldResolve(schema) {\n  var ref = (typeof schema === 'string') ? schema : schema.$ref;\n  if (typeof ref=='string') return ref;\n  return false;\n}\n\n/**\n * Validates an instance against the schema (the actual work horse)\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @private\n * @return {ValidatorResult}\n */\nValidator.prototype.validateSchema = function validateSchema (instance, schema, options, ctx) {\n  var result = new ValidatorResult(instance, schema, options, ctx);\n\n  // Support for the true/false schemas\n  if(typeof schema==='boolean') {\n    if(schema===true){\n      // `true` is always valid\n      schema = {};\n    }else if(schema===false){\n      // `false` is always invalid\n      schema = {type: []};\n    }\n  }else if(!schema){\n    // This might be a string\n    throw new Error(\"schema is undefined\");\n  }\n\n  if (schema['extends']) {\n    if (Array.isArray(schema['extends'])) {\n      var schemaobj = {schema: schema, ctx: ctx};\n      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));\n      schema = schemaobj.schema;\n      schemaobj.schema = null;\n      schemaobj.ctx = null;\n      schemaobj = null;\n    } else {\n      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));\n    }\n  }\n\n  // If passed a string argument, load that schema URI\n  var switchSchema = shouldResolve(schema);\n  if (switchSchema) {\n    var resolved = this.resolve(schema, switchSchema, ctx);\n    var subctx = new SchemaContext(resolved.subschema, options, ctx.path, resolved.switchSchema, ctx.schemas);\n    return this.validateSchema(instance, resolved.subschema, options, subctx);\n  }\n\n  var skipAttributes = options && options.skipAttributes || [];\n  // Validate each schema attribute against the instance\n  for (var key in schema) {\n    if (!attribute.ignoreProperties[key] && skipAttributes.indexOf(key) < 0) {\n      var validatorErr = null;\n      var validator = this.attributes[key];\n      if (validator) {\n        validatorErr = validator.call(this, instance, schema, options, ctx);\n      } else if (options.allowUnknownAttributes === false) {\n        // This represents an error with the schema itself, not an invalid instance\n        throw new SchemaError(\"Unsupported attribute: \" + key, schema);\n      }\n      if (validatorErr) {\n        result.importErrors(validatorErr);\n      }\n    }\n  }\n\n  if (typeof options.rewrite == 'function') {\n    var value = options.rewrite.call(this, instance, schema, options, ctx);\n    result.instance = value;\n  }\n  return result;\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.schemaTraverser = function schemaTraverser (schemaobj, s) {\n  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));\n};\n\n/**\n* @private\n* @param Object schema\n* @param SchemaContext ctx\n* @returns Object schema or resolved schema\n*/\nValidator.prototype.superResolve = function superResolve (schema, ctx) {\n  var ref = shouldResolve(schema);\n  if(ref) {\n    return this.resolve(schema, ref, ctx).subschema;\n  }\n  return schema;\n};\n\n/**\n* @private\n* @param Object schema\n* @param Object switchSchema\n* @param SchemaContext ctx\n* @return Object resolved schemas {subschema:String, switchSchema: String}\n* @throws SchemaError\n*/\nValidator.prototype.resolve = function resolve (schema, switchSchema, ctx) {\n  switchSchema = ctx.resolve(switchSchema);\n  // First see if the schema exists under the provided URI\n  if (ctx.schemas[switchSchema]) {\n    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};\n  }\n  // Else try walking the property pointer\n  var parsed = urilib.parse(switchSchema);\n  var fragment = parsed && parsed.hash;\n  var document = fragment && fragment.length && switchSchema.substr(0, switchSchema.length - fragment.length);\n  if (!document || !ctx.schemas[document]) {\n    throw new SchemaError(\"no such schema <\" + switchSchema + \">\", schema);\n  }\n  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));\n  if(subschema===undefined){\n    throw new SchemaError(\"no such schema \" + fragment + \" located in <\" + document + \">\", schema);\n  }\n  return {subschema: subschema, switchSchema: switchSchema};\n};\n\n/**\n * Tests whether the instance if of a certain type.\n * @private\n * @param instance\n * @param schema\n * @param options\n * @param ctx\n * @param type\n * @return {boolean}\n */\nValidator.prototype.testType = function validateType (instance, schema, options, ctx, type) {\n  if(type===undefined){\n    return;\n  }else if(type===null){\n    throw new SchemaError('Unexpected null in \"type\" keyword');\n  }\n  if (typeof this.types[type] == 'function') {\n    return this.types[type].call(this, instance);\n  }\n  if (type && typeof type == 'object') {\n    var res = this.validateSchema(instance, type, options, ctx);\n    return res === undefined || !(res && res.errors.length);\n  }\n  // Undefined or properties not on the list are acceptable, same as not being defined\n  return true;\n};\n\nvar types = Validator.prototype.types = {};\ntypes.string = function testString (instance) {\n  return typeof instance == 'string';\n};\ntypes.number = function testNumber (instance) {\n  // isFinite returns false for NaN, Infinity, and -Infinity\n  return typeof instance == 'number' && isFinite(instance);\n};\ntypes.integer = function testInteger (instance) {\n  return (typeof instance == 'number') && instance % 1 === 0;\n};\ntypes.boolean = function testBoolean (instance) {\n  return typeof instance == 'boolean';\n};\ntypes.array = function testArray (instance) {\n  return Array.isArray(instance);\n};\ntypes['null'] = function testNull (instance) {\n  return instance === null;\n};\ntypes.date = function testDate (instance) {\n  return instance instanceof Date;\n};\ntypes.any = function testAny (instance) {\n  return true;\n};\ntypes.object = function testObject (instance) {\n  // TODO: fix this - see #15\n  return instance && (typeof instance === 'object') && !(Array.isArray(instance)) && !(instance instanceof Date);\n};\n\nmodule.exports = Validator;\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (obj === global) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","/*jshint node:true*/\n'use strict';\n\n/**\n * Replaces characters in strings that are illegal/unsafe for filenames.\n * Unsafe characters are either removed or replaced by a substitute set\n * in the optional `options` object.\n *\n * Illegal Characters on Various Operating Systems\n * / ? < > \\ : * | \"\n * https://kb.acronis.com/content/39790\n *\n * Unicode Control codes\n * C0 0x00-0x1f & C1 (0x80-0x9f)\n * http://en.wikipedia.org/wiki/C0_and_C1_control_codes\n *\n * Reserved filenames on Unix-based systems (\".\", \"..\")\n * Reserved filenames in Windows (\"CON\", \"PRN\", \"AUX\", \"NUL\", \"COM1\",\n * \"COM2\", \"COM3\", \"COM4\", \"COM5\", \"COM6\", \"COM7\", \"COM8\", \"COM9\",\n * \"LPT1\", \"LPT2\", \"LPT3\", \"LPT4\", \"LPT5\", \"LPT6\", \"LPT7\", \"LPT8\", and\n * \"LPT9\") case-insesitively and with or without filename extensions.\n *\n * Capped at 255 characters in length.\n * http://unix.stackexchange.com/questions/32795/what-is-the-maximum-allowed-filename-and-folder-size-with-ecryptfs\n *\n * @param  {String} input   Original filename\n * @param  {Object} options {replacement: String | Function }\n * @return {String}         Sanitized filename\n */\n\nvar truncate = require(\"truncate-utf8-bytes\");\n\nvar illegalRe = /[\\/\\?<>\\\\:\\*\\|\"]/g;\nvar controlRe = /[\\x00-\\x1f\\x80-\\x9f]/g;\nvar reservedRe = /^\\.+$/;\nvar windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\\..*)?$/i;\nvar windowsTrailingRe = /[\\. ]+$/;\n\nfunction sanitize(input, replacement) {\n  if (typeof input !== 'string') {\n    throw new Error('Input must be string');\n  }\n  var sanitized = input\n    .replace(illegalRe, replacement)\n    .replace(controlRe, replacement)\n    .replace(reservedRe, replacement)\n    .replace(windowsReservedRe, replacement)\n    .replace(windowsTrailingRe, replacement);\n  return truncate(sanitized, 255);\n}\n\nmodule.exports = function (input, options) {\n  var replacement = (options && options.replacement) || '';\n  var output = sanitize(input, replacement);\n  if (replacement === '') {\n    return output;\n  }\n  return sanitize(output, '');\n};\n","'use strict';\n\nvar truncate = require(\"./lib/truncate\");\nvar getLength = require(\"utf8-byte-length/browser\");\nmodule.exports = truncate.bind(null, getLength);\n","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function truncate(getLength, string, byteLength) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var curByteLength = 0;\n  var codePoint;\n  var segment;\n\n  for (var i = 0; i < charLength; i += 1) {\n    codePoint = string.charCodeAt(i);\n    segment = string[i];\n\n    if (isHighSurrogate(codePoint) && isLowSurrogate(string.charCodeAt(i + 1))) {\n      i += 1;\n      segment += string[i];\n    }\n\n    curByteLength += getLength(segment);\n\n    if (curByteLength === byteLength) {\n      return string.slice(0, i + 1);\n    }\n    else if (curByteLength > byteLength) {\n      return string.slice(0, i - segment.length + 1);\n    }\n  }\n\n  return string;\n};\n\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictDepth: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    cleanStr = cleanStr.replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && (leaf === '' || (options.strictNullHandling && leaf === null))\n                ? []\n                : [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, check strictDepth option for throw, else just add whatever is left\n\n    if (segment) {\n        if (options.strictDepth === true) {\n            throw new RangeError('Input depth exceeded depth option of ' + options.depth + ' and strictDepth is true');\n        }\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictDepth: typeof opts.strictDepth === 'boolean' ? !!opts.strictDepth : defaults.strictDepth,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? prefix.replace(/\\./g, '%2E') : prefix;\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list. By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('.').listGetNode} */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\tfor (; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('.').listGet} */\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('.').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('.').ListNode<typeof value>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('.').listHas} */\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @type {WeakMap<object, unknown>} */ var $wm;\n\t/** @type {Map<object, unknown>} */ var $m;\n\t/** @type {import('.').RootNode<unknown>} */ var $o;\n\n\t/** @type {import('.').Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","/*\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nvar punycode = require('punycode/');\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n/*\n * define these here so at least they only have to be\n * compiled once on the first module load.\n */\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n  portPattern = /:[0-9]*$/,\n\n  // Special case for a simple path URL\n  simplePathPattern = /^(\\/\\/?(?!\\/)[^?\\s]*)(\\?[^\\s]*)?$/,\n\n  /*\n   * RFC 2396: characters reserved for delimiting URLs.\n   * We actually just auto-escape these.\n   */\n  delims = [\n    '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'\n  ],\n\n  // RFC 2396: characters not allowed for various reasons.\n  unwise = [\n    '{', '}', '|', '\\\\', '^', '`'\n  ].concat(delims),\n\n  // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n  autoEscape = ['\\''].concat(unwise),\n  /*\n   * Characters that are never ever allowed in a hostname.\n   * Note that any invalid chars are also handled, but these\n   * are the ones that are *expected* to be seen, so we fast-path\n   * them.\n   */\n  nonHostChars = [\n    '%', '/', '?', ';', '#'\n  ].concat(autoEscape),\n  hostEndingChars = [\n    '/', '?', '#'\n  ],\n  hostnameMaxLen = 255,\n  hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n  hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n  // protocols that can allow \"unsafe\" and \"unwise\" chars.\n  unsafeProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that never have a hostname.\n  hostlessProtocol = {\n    javascript: true,\n    'javascript:': true\n  },\n  // protocols that always contain a // bit.\n  slashedProtocol = {\n    http: true,\n    https: true,\n    ftp: true,\n    gopher: true,\n    file: true,\n    'http:': true,\n    'https:': true,\n    'ftp:': true,\n    'gopher:': true,\n    'file:': true\n  },\n  querystring = require('qs');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && typeof url === 'object' && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {\n  if (typeof url !== 'string') {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  /*\n   * Copy chrome, IE, opera backslash-handling behavior.\n   * Back slashes before the query string get converted to forward slashes\n   * See: https://code.google.com/p/chromium/issues/detail?id=25916\n   */\n  var queryIndex = url.indexOf('?'),\n    splitter = queryIndex !== -1 && queryIndex < url.indexOf('#') ? '?' : '#',\n    uSplit = url.split(splitter),\n    slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  /*\n   * trim before proceeding.\n   * This is to support parse stuff like \"  http://foo.com  \\n\"\n   */\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  /*\n   * figure out if it's got a host\n   * user@server is *always* interpreted as a hostname, and url\n   * resolution will treat //foo/bar as host=foo,path=bar because that's\n   * how the browser resolves relative URLs.\n   */\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@/]+@[^@/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] && (slashes || (proto && !slashedProtocol[proto]))) {\n\n    /*\n     * there's a hostname.\n     * the first instance of /, ?, ;, or # ends the host.\n     *\n     * If there is an @ in the hostname, then non-host chars *are* allowed\n     * to the left of the last @ sign, unless some host-ending character\n     * comes *before* the @-sign.\n     * URLs are obnoxious.\n     *\n     * ex:\n     * http://a@b@c/ => user:a@b host:c\n     * http://a@b?@c => user:a host:c path:/?@c\n     */\n\n    /*\n     * v0.12 TODO(isaacs): This is not quite how Chrome does things.\n     * Review our test case against browsers more comprehensively.\n     */\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n\n    /*\n     * at this point, either we have an explicit point where the\n     * auth portion cannot go past, or the last @ char is the decider.\n     */\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      /*\n       * atSign must be in auth portion.\n       * http://a@b/c@d => host:b auth:a path:/c@d\n       */\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    /*\n     * Now we have a portion which is definitely the auth.\n     * Pull that off.\n     */\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) { hostEnd = hec; }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) { hostEnd = rest.length; }\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    /*\n     * we've indicated that there is a hostname,\n     * so even if it's empty, it has to be present.\n     */\n    this.hostname = this.hostname || '';\n\n    /*\n     * if hostname begins with [ and ends with ]\n     * assume that it's an IPv6 address.\n     */\n    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              /*\n               * we replace non-ASCII char with a temporary placeholder\n               * we need this to make sure size of hostname is not\n               * broken by replacing non-ASCII by nothing\n               */\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      /*\n       * IDNA Support: Returns a punycoded representation of \"domain\".\n       * It only converts parts of the domain name that\n       * have non-ASCII characters, i.e. it doesn't matter if\n       * you call it with a domain that already is ASCII-only.\n       */\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    /*\n     * strip [ and ] from the hostname\n     * the host field still retains them, though\n     */\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  /*\n   * now rest is set to the post-host stuff.\n   * chop off any delim chars.\n   */\n  if (!unsafeProtocol[lowerProto]) {\n\n    /*\n     * First, make 100% sure that any \"autoEscape\" chars get\n     * escaped, even if encodeURIComponent doesn't think they\n     * need to be.\n     */\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1) { continue; }\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  // to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  /*\n   * ensure it's an object, and not a string url.\n   * If it's an obj, this is a no-op.\n   * this way, you can call url_format() on strings\n   * to clean up potentially wonky urls.\n   */\n  if (typeof obj === 'string') { obj = urlParse(obj); }\n  if (!(obj instanceof Url)) { return Url.prototype.format.call(obj); }\n  return obj.format();\n}\n\nUrl.prototype.format = function () {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n    pathname = this.pathname || '',\n    hash = this.hash || '',\n    host = false,\n    query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query && typeof this.query === 'object' && Object.keys(this.query).length) {\n    query = querystring.stringify(this.query, {\n      arrayFormat: 'repeat',\n      addQueryPrefix: false\n    });\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') { protocol += ':'; }\n\n  /*\n   * only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n   * unless they had them to begin with.\n   */\n  if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') { pathname = '/' + pathname; }\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') { hash = '#' + hash; }\n  if (search && search.charAt(0) !== '?') { search = '?' + search; }\n\n  pathname = pathname.replace(/[?#]/g, function (match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function (relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) { return relative; }\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function (relative) {\n  if (typeof relative === 'string') {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  /*\n   * hash is always overridden, no matter what.\n   * even href=\"\" will remove it.\n   */\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol') { result[rkey] = relative[rkey]; }\n    }\n\n    // urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {\n      result.pathname = '/';\n      result.path = result.pathname;\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    /*\n     * if it's a known url protocol, then changing\n     * the protocol does weird things\n     * first, if it's not file:, then we MUST have a host,\n     * and if there was a path\n     * to begin with, then we MUST have a path.\n     * if it is file:, then the host is dropped,\n     * because that's known to be hostless.\n     * anything else is assumed to be absolute.\n     */\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift())) { }\n      if (!relative.host) { relative.host = ''; }\n      if (!relative.hostname) { relative.hostname = ''; }\n      if (relPath[0] !== '') { relPath.unshift(''); }\n      if (relPath.length < 2) { relPath.unshift(''); }\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = result.pathname && result.pathname.charAt(0) === '/',\n    isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === '/',\n    mustEndAbs = isRelAbs || isSourceAbs || (result.host && relative.pathname),\n    removeAllDots = mustEndAbs,\n    srcPath = result.pathname && result.pathname.split('/') || [],\n    relPath = relative.pathname && relative.pathname.split('/') || [],\n    psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  /*\n   * if the url is a non-slashed url, then relative\n   * links like ../.. should be able\n   * to crawl up to the hostname, as well.  This is strange.\n   * result.protocol has already been set by now.\n   * Later on, put the first path part into the host field.\n   */\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') { srcPath[0] = result.host; } else { srcPath.unshift(result.host); }\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') { relPath[0] = relative.host; } else { relPath.unshift(relative.host); }\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = relative.host || relative.host === '' ? relative.host : result.host;\n    result.hostname = relative.hostname || relative.hostname === '' ? relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    /*\n     * it's relative\n     * throw away the existing file, and take the new path instead.\n     */\n    if (!srcPath) { srcPath = []; }\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (relative.search != null) {\n    /*\n     * just pull out the search.\n     * like href='?foo'.\n     * Put this after the other two cases because it simplifies the booleans\n     */\n    if (psychotic) {\n      result.host = srcPath.shift();\n      result.hostname = result.host;\n      /*\n       * occationaly the auth can get stuck only in host\n       * this especially happens in cases like\n       * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n       */\n      var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.hostname = authInHost.shift();\n        result.host = result.hostname;\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    // to support http.request\n    if (result.pathname !== null || result.search !== null) {\n      result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    /*\n     * no path at all.  easy.\n     * we've already handled the other stuff above.\n     */\n    result.pathname = null;\n    // to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  /*\n   * if a url ENDs in . or .., then it must get a trailing slash.\n   * however, if it ends in anything else non-slashy,\n   * then it must NOT get a trailing slash.\n   */\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '';\n\n  /*\n   * strip single dots, resolve double dots to parent dir\n   * if the path tries to go above the root, `up` ends up > 0\n   */\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' || (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';\n    result.host = result.hostname;\n    /*\n     * occationaly the auth can get stuck only in host\n     * this especially happens in cases like\n     * url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n     */\n    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.hostname = authInHost.shift();\n      result.host = result.hostname;\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (srcPath.length > 0) {\n    result.pathname = srcPath.join('/');\n  } else {\n    result.pathname = null;\n    result.path = null;\n  }\n\n  // to support request.http\n  if (result.pathname !== null || result.search !== null) {\n    result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function () {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n","'use strict';\n\nfunction isHighSurrogate(codePoint) {\n  return codePoint >= 0xd800 && codePoint <= 0xdbff;\n}\n\nfunction isLowSurrogate(codePoint) {\n  return codePoint >= 0xdc00 && codePoint <= 0xdfff;\n}\n\n// Truncate string by size in bytes\nmodule.exports = function getByteLength(string) {\n  if (typeof string !== \"string\") {\n    throw new Error(\"Input must be string\");\n  }\n\n  var charLength = string.length;\n  var byteLength = 0;\n  var codePoint = null;\n  var prevCodePoint = null;\n  for (var i = 0; i < charLength; i++) {\n    codePoint = string.charCodeAt(i);\n    // handle 4-byte non-BMP chars\n    // low surrogate\n    if (isLowSurrogate(codePoint)) {\n      // when parsing previous hi-surrogate, 3 is added to byteLength\n      if (prevCodePoint != null && isHighSurrogate(prevCodePoint)) {\n        byteLength += 1;\n      }\n      else {\n        byteLength += 3;\n      }\n    }\n    else if (codePoint <= 0x7f ) {\n      byteLength += 1;\n    }\n    else if (codePoint >= 0x80 && codePoint <= 0x7ff) {\n      byteLength += 2;\n    }\n    else if (codePoint >= 0x800 && codePoint <= 0xffff) {\n      byteLength += 3;\n    }\n    prevCodePoint = codePoint;\n  }\n\n  return byteLength;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","export const captureVisibleTab = async (tabId) => {\n    const tab = await chrome.tabs.get(tabId);\n    return await chrome.tabs.captureVisibleTab(tab.windowId, { format: 'jpeg', quality: 100 });\n};\n","export var ImageErrorCode;\n(function (ImageErrorCode) {\n    ImageErrorCode[ImageErrorCode[\"captureFailed\"] = 1] = \"captureFailed\";\n    ImageErrorCode[ImageErrorCode[\"fileLinkLost\"] = 2] = \"fileLinkLost\";\n})(ImageErrorCode || (ImageErrorCode = {}));\nexport var AudioErrorCode;\n(function (AudioErrorCode) {\n    AudioErrorCode[AudioErrorCode[\"drmProtected\"] = 1] = \"drmProtected\";\n    AudioErrorCode[AudioErrorCode[\"fileLinkLost\"] = 2] = \"fileLinkLost\";\n})(AudioErrorCode || (AudioErrorCode = {}));\nexport var VideoDataUiOpenReason;\n(function (VideoDataUiOpenReason) {\n    VideoDataUiOpenReason[VideoDataUiOpenReason[\"miningCommand\"] = 1] = \"miningCommand\";\n    VideoDataUiOpenReason[VideoDataUiOpenReason[\"failedToAutoLoadPreferredTrack\"] = 2] = \"failedToAutoLoadPreferredTrack\";\n    VideoDataUiOpenReason[VideoDataUiOpenReason[\"userRequested\"] = 3] = \"userRequested\";\n})(VideoDataUiOpenReason || (VideoDataUiOpenReason = {}));\nexport var PostMineAction;\n(function (PostMineAction) {\n    PostMineAction[PostMineAction[\"none\"] = 0] = \"none\";\n    PostMineAction[PostMineAction[\"showAnkiDialog\"] = 1] = \"showAnkiDialog\";\n    PostMineAction[PostMineAction[\"updateLastCard\"] = 2] = \"updateLastCard\";\n    PostMineAction[PostMineAction[\"exportCard\"] = 3] = \"exportCard\";\n})(PostMineAction || (PostMineAction = {}));\nexport var PostMinePlayback;\n(function (PostMinePlayback) {\n    PostMinePlayback[PostMinePlayback[\"remember\"] = 0] = \"remember\";\n    PostMinePlayback[PostMinePlayback[\"play\"] = 1] = \"play\";\n    PostMinePlayback[PostMinePlayback[\"pause\"] = 2] = \"pause\";\n})(PostMinePlayback || (PostMinePlayback = {}));\nexport var AutoPausePreference;\n(function (AutoPausePreference) {\n    AutoPausePreference[AutoPausePreference[\"atStart\"] = 1] = \"atStart\";\n    AutoPausePreference[AutoPausePreference[\"atEnd\"] = 2] = \"atEnd\";\n})(AutoPausePreference || (AutoPausePreference = {}));\nexport var PlayMode;\n(function (PlayMode) {\n    PlayMode[PlayMode[\"normal\"] = 1] = \"normal\";\n    PlayMode[PlayMode[\"condensed\"] = 2] = \"condensed\";\n    PlayMode[PlayMode[\"autoPause\"] = 3] = \"autoPause\";\n    PlayMode[PlayMode[\"fastForward\"] = 4] = \"fastForward\";\n    PlayMode[PlayMode[\"repeat\"] = 5] = \"repeat\";\n})(PlayMode || (PlayMode = {}));\nexport var ControlType;\n(function (ControlType) {\n    ControlType[ControlType[\"timeDisplay\"] = 0] = \"timeDisplay\";\n    ControlType[ControlType[\"subtitleOffset\"] = 1] = \"subtitleOffset\";\n    ControlType[ControlType[\"playbackRate\"] = 2] = \"playbackRate\";\n})(ControlType || (ControlType = {}));\n","import sanitize from 'sanitize-filename';\nexport function humanReadableTime(timestamp, nearestTenth = false) {\n    const totalSeconds = Math.floor(timestamp / 1000);\n    let seconds;\n    if (nearestTenth) {\n        seconds = Math.round(((timestamp / 1000) % 60) * 10) / 10;\n    }\n    else {\n        seconds = totalSeconds % 60;\n    }\n    const minutes = Math.floor(totalSeconds / 60) % 60;\n    const hours = Math.floor(totalSeconds / 3600);\n    if (hours > 0) {\n        return hours + 'h' + String(minutes).padStart(2, '0') + 'm' + String(seconds).padStart(2, '0') + 's';\n    }\n    return minutes + 'm' + String(seconds).padStart(2, '0') + 's';\n}\nexport function surroundingSubtitles(subtitles, index, countRadius, timeRadius) {\n    let startIndex = index;\n    for (let i = index; i >= 0; --i) {\n        startIndex = i;\n        if (atBoundary(subtitles, startIndex, index, countRadius, timeRadius, Direction.backward)) {\n            break;\n        }\n    }\n    let endIndex = startIndex;\n    for (let i = index; i <= subtitles.length - 1; ++i) {\n        endIndex = i;\n        if (atBoundary(subtitles, endIndex, index, countRadius, timeRadius, Direction.forward)) {\n            break;\n        }\n    }\n    return subtitles.slice(startIndex, endIndex + 1);\n}\nfunction indexNearTimestamp(subtitles, timestamp, direction) {\n    if (direction === Direction.forward) {\n        for (let i = 0; i < subtitles.length; ++i) {\n            if (subtitles[i].start >= timestamp) {\n                return i;\n            }\n        }\n    }\n    else {\n        for (let i = subtitles.length - 1; i >= 0; --i) {\n            if (subtitles[i].start <= timestamp) {\n                return i;\n            }\n        }\n    }\n    return undefined;\n}\nexport function surroundingSubtitlesAroundInterval(subtitles, startTimestamp, endTimestamp, countRadius, timeRadius) {\n    if (subtitles.length === 0) {\n        return {};\n    }\n    let startBoundaryIndex = 0;\n    const indexAfterStartTimestamp = indexNearTimestamp(subtitles, startTimestamp, Direction.forward) ?? subtitles.length - 1;\n    for (let i = 0; i < subtitles.length; ++i) {\n        startBoundaryIndex = i;\n        if (withinBoundaryAroundInterval(subtitles, i, countRadius, timeRadius, startTimestamp, indexAfterStartTimestamp)) {\n            break;\n        }\n    }\n    let endBoundaryIndex = subtitles.length - 1;\n    const indexBeforeEndTimestamp = indexNearTimestamp(subtitles, endTimestamp, Direction.backward) ?? 0;\n    for (let i = subtitles.length - 1; i >= 0; --i) {\n        endBoundaryIndex = i;\n        if (withinBoundaryAroundInterval(subtitles, i, countRadius, timeRadius, endTimestamp, indexBeforeEndTimestamp)) {\n            break;\n        }\n    }\n    if (endBoundaryIndex <= startBoundaryIndex) {\n        return {};\n    }\n    return {\n        surroundingSubtitles: subtitles.slice(startBoundaryIndex, endBoundaryIndex + 1),\n        subtitle: subtitles[indexAfterStartTimestamp],\n    };\n}\nexport function mockSurroundingSubtitles(middleSubtitle, maxTimestamp, timeRadius) {\n    const subtitles = [middleSubtitle];\n    const offset = middleSubtitle.start - middleSubtitle.originalStart;\n    if (middleSubtitle.end < maxTimestamp) {\n        const afterTimestamp = Math.min(maxTimestamp, middleSubtitle.end + timeRadius);\n        subtitles.push({\n            text: '',\n            start: middleSubtitle.end,\n            end: afterTimestamp,\n            originalStart: middleSubtitle.end - offset,\n            originalEnd: afterTimestamp - offset,\n            track: middleSubtitle.track,\n        });\n    }\n    if (middleSubtitle.start > 0) {\n        const beforeTimestamp = Math.max(0, middleSubtitle.start - timeRadius);\n        subtitles.unshift({\n            text: '',\n            start: beforeTimestamp,\n            end: middleSubtitle.start,\n            originalStart: beforeTimestamp - offset,\n            originalEnd: middleSubtitle.start - offset,\n            track: middleSubtitle.track,\n        });\n    }\n    return subtitles;\n}\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"forward\"] = 0] = \"forward\";\n    Direction[Direction[\"backward\"] = 1] = \"backward\";\n})(Direction || (Direction = {}));\nfunction atBoundary(subtitles, index, initialIndex, countRadius, timeRadius, direction) {\n    let next;\n    if (direction == Direction.forward) {\n        next = index + 1 < subtitles.length ? subtitles[index + 1] : null;\n    }\n    else {\n        next = index - 1 >= 0 ? subtitles[index - 1] : null;\n    }\n    if (Math.abs(initialIndex - index) >= countRadius &&\n        (next === null || Math.abs(next.start - subtitles[initialIndex].start) >= timeRadius)) {\n        return true;\n    }\n    return false;\n}\nfunction withinBoundaryAroundInterval(subtitles, index, countRadius, timeRadius, timestamp, indexNearTimestamp) {\n    const current = subtitles[index];\n    if (Math.abs(indexNearTimestamp - index) <= countRadius || Math.abs(current.start - timestamp) <= timeRadius) {\n        return true;\n    }\n    return false;\n}\nexport function subtitleIntersectsTimeInterval(subtitle, interval) {\n    const length = Math.max(0, subtitle.end - subtitle.start);\n    if (length === 0) {\n        return false;\n    }\n    const overlapStart = Math.max(subtitle.start, interval[0]);\n    const overlapEnd = Math.min(subtitle.end, interval[1]);\n    return overlapEnd - overlapStart >= length / 2;\n}\nexport function joinSubtitles(subtitles) {\n    return subtitles\n        .filter((s) => s.text.trim() !== '')\n        .map((s) => s.text)\n        .join('\\n');\n}\nexport function extractText(subtitle, surroundingSubtitles, track) {\n    if (surroundingSubtitles.length === 0) {\n        return subtitle.text;\n    }\n    const interval = [subtitle.start, subtitle.end];\n    return joinSubtitles(surroundingSubtitles\n        .filter((s) => subtitleIntersectsTimeInterval(s, interval))\n        .filter((s) => track === undefined || s.track === track));\n}\nexport function download(blob, name) {\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    document.body.appendChild(a);\n    a.style.display = 'none';\n    a.href = url;\n    a.download = sanitize(name);\n    a.click();\n    URL.revokeObjectURL(url);\n    a.remove();\n}\nexport function computeStyles({ subtitleColor, subtitleSize, subtitleThickness, subtitleOutlineThickness, subtitleOutlineColor, subtitleShadowThickness, subtitleShadowColor, subtitleBackgroundOpacity, subtitleBackgroundColor, subtitleFontFamily, subtitleCustomStyles, }) {\n    const styles = {\n        color: subtitleColor,\n        fontSize: `${subtitleSize}px`,\n        fontWeight: String(subtitleThickness),\n    };\n    if (subtitleOutlineThickness > 0) {\n        const thickness = subtitleOutlineThickness;\n        const color = subtitleOutlineColor;\n        styles['WebkitTextStroke'] = `${color} ${thickness}px`;\n    }\n    if (subtitleShadowThickness > 0) {\n        styles['textShadow'] = `0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}, 0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}, 0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}, 0 0 ${subtitleShadowThickness}px ${subtitleShadowColor}`;\n    }\n    if (subtitleBackgroundOpacity > 0) {\n        const opacity = subtitleBackgroundOpacity;\n        const color = subtitleBackgroundColor;\n        const { r, g, b } = hexToRgb(color);\n        styles['backgroundColor'] = `rgba(${r}, ${g}, ${b}, ${opacity})`;\n    }\n    if (subtitleFontFamily && subtitleFontFamily.length > 0) {\n        styles['fontFamily'] = `'${subtitleFontFamily}'`;\n    }\n    for (const customStyle of subtitleCustomStyles) {\n        let key;\n        if (customStyle.key.startsWith('webkit') ||\n            customStyle.key.startsWith('moz') ||\n            customStyle.key.startsWith('ms') ||\n            /^o[A-Z].*/.test(customStyle.key)) {\n            key = customStyle.key.charAt(0).toUpperCase() + customStyle.key.slice(1);\n        }\n        else {\n            key = customStyle.key;\n        }\n        if (!isNumeric(key)) {\n            // A bug has allowed style keys that look like '0', '1',... to make it into some users' settings\n            // Using such a style key with react crashes the app, so filter them out here\n            styles[key] = customStyle.value;\n        }\n    }\n    return styles;\n}\nexport function isNumeric(str) {\n    return !isNaN(Number(str));\n}\n// https://stackoverflow.com/questions/63116039/camelcase-to-kebab-case\nfunction kebabize(str) {\n    const kebabized = str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\n    if (kebabized.startsWith('webkit-') ||\n        kebabized.startsWith('moz-') ||\n        kebabized.startsWith('ms-') ||\n        kebabized.startsWith('o-')) {\n        return `-${kebabized}`;\n    }\n    return kebabized;\n}\nexport function computeStyleString(styleSettings) {\n    const stylesMap = computeStyles(styleSettings);\n    const styleList = [];\n    for (const [key, value] of Object.entries(stylesMap)) {\n        styleList.push(`${kebabize(key)}: ${value} !important`);\n    }\n    return styleList.join(';');\n}\n// https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\nexport function hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    if (!result) {\n        return { r: 255, g: 255, b: 255 };\n    }\n    return {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n    };\n}\nexport function sourceString(subtitleFileName, timestamp) {\n    return timestamp === 0 ? subtitleFileName : `${subtitleFileName} (${humanReadableTime(timestamp)})`;\n}\nexport function seekWithNudge(media, timestampSeconds) {\n    media.currentTime = timestampSeconds;\n    if (media.currentTime < timestampSeconds) {\n        // Seeking is imprecise and may not land on the desired timestamp\n        // Favor seeking slightly ahead to avoid getting stuck when seeking between subtitles\n        media.currentTime = Math.min(media.duration, media.currentTime + 0.01);\n    }\n    return media.currentTime;\n}\n","const blobUrls = {};\nexport const createBlobUrl = (file) => {\n    const blobUrl = URL.createObjectURL(file);\n    blobUrls[blobUrl] = true;\n    return blobUrl;\n};\nexport const addBlobUrl = (blobUrl) => {\n    blobUrls[blobUrl] = true;\n};\nexport const revokeBlobUrl = (blobUrl) => {\n    delete blobUrls[blobUrl];\n    URL.revokeObjectURL(blobUrl);\n};\nexport const isActiveBlobUrl = (blobUrl) => {\n    return blobUrl in blobUrls;\n};\n","import { resizeCanvas } from './image-transformer';\nimport { ImageErrorCode } from './model';\nimport { download } from '../util/util';\nimport { isActiveBlobUrl } from '../blob-url';\nconst maxPrefixLength = 24;\nconst makeFileName = (prefix, timestamp) => {\n    return `${prefix.replaceAll(' ', '_').substring(0, Math.min(prefix.length, maxPrefixLength))}_${Math.floor(timestamp)}`;\n};\nclass Base64ImageData {\n    constructor(name, timestamp, base64, extension, error) {\n        this._name = name;\n        this._timestamp = timestamp;\n        this._base64 = base64;\n        this._extension = extension;\n        this._error = error;\n    }\n    get name() {\n        return this._name;\n    }\n    get timestamp() {\n        return this._timestamp;\n    }\n    get extension() {\n        return this._extension;\n    }\n    get error() {\n        return this._error;\n    }\n    atTimestamp(timestamp) {\n        return this;\n    }\n    get canChangeTimestamp() {\n        return false;\n    }\n    async base64() {\n        return this._base64;\n    }\n    async blob() {\n        return await this._blob();\n    }\n    async _blob() {\n        if (!this.cachedBlob) {\n            this.cachedBlob = await (await fetch(this._dataUrl())).blob();\n        }\n        return this.cachedBlob;\n    }\n    async dataUrl() {\n        return this._dataUrl();\n    }\n    _dataUrl() {\n        return 'data:image/' + this.extension + ';base64,' + this._base64;\n    }\n    dispose() { }\n}\nexport class CancelledImageDataRenderingError extends Error {\n}\nclass FileImageData {\n    constructor(file, timestamp, maxWidth, maxHeight, video, canvas) {\n        this._file = file;\n        this._name = `${makeFileName(file.name, timestamp)}.jpeg`;\n        this._timestamp = timestamp;\n        this._maxWidth = maxWidth;\n        this._maxHeight = maxHeight;\n        this._video = video;\n        this._canvas = canvas;\n    }\n    get name() {\n        return this._name;\n    }\n    get timestamp() {\n        return this._timestamp;\n    }\n    get extension() {\n        return 'jpeg';\n    }\n    get error() {\n        if (this._file.blobUrl) {\n            return isActiveBlobUrl(this._file.blobUrl) ? undefined : ImageErrorCode.fileLinkLost;\n        }\n        return undefined;\n    }\n    atTimestamp(timestamp) {\n        if (timestamp === this._timestamp) {\n            return this;\n        }\n        this._canvasPromiseReject?.(new CancelledImageDataRenderingError());\n        return new FileImageData(this._file, timestamp, this._maxWidth, this._maxHeight, this._video, this._canvas);\n    }\n    get canChangeTimestamp() {\n        return true;\n    }\n    async base64() {\n        return new Promise((resolve, reject) => {\n            this._getCanvas()\n                .then((canvas) => {\n                const dataUrl = canvas.toDataURL('image/jpeg');\n                resolve(dataUrl.substring(dataUrl.indexOf(',') + 1));\n            })\n                .catch(reject);\n        });\n    }\n    async blob() {\n        return new Promise((resolve, reject) => {\n            this._getCanvas()\n                .then((canvas) => {\n                canvas.toBlob((blob) => {\n                    if (blob === null) {\n                        reject(new Error('Could not obtain blob'));\n                    }\n                    else {\n                        resolve(blob);\n                    }\n                }, 'image/jpeg');\n            })\n                .catch(reject);\n        });\n    }\n    async dataUrl() {\n        const canvas = await this._getCanvas();\n        return canvas.toDataURL();\n    }\n    async _getCanvas() {\n        if (this._canvasPromise) {\n            return this._canvasPromise;\n        }\n        this._canvasPromise = new Promise(async (resolve, reject) => {\n            this._canvasPromiseReject = reject;\n            const video = this._videoElement(this._file);\n            const calculateCurrentTime = () => Math.max(0, Math.min(video.duration, this._timestamp / 1000));\n            if (Number.isFinite(video.duration)) {\n                video.currentTime = calculateCurrentTime();\n            }\n            else {\n                video.onloadedmetadata = () => {\n                    video.currentTime = calculateCurrentTime();\n                    video.onloadedmetadata = null;\n                };\n            }\n            video.onseeked = async (e) => {\n                this._canvasPromiseReject = undefined;\n                if (!this._canvas) {\n                    this._canvas = document.createElement('canvas');\n                }\n                const canvas = this._canvas;\n                canvas.width = video.videoWidth;\n                canvas.height = video.videoHeight;\n                const ctx = canvas.getContext('2d');\n                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n                video.onseeked = null;\n                if (this._maxWidth > 0 || this._maxHeight > 0) {\n                    await resizeCanvas(canvas, ctx, this._maxWidth, this._maxHeight);\n                    resolve(canvas);\n                }\n                else {\n                    resolve(canvas);\n                }\n            };\n            video.onerror = () => {\n                reject(video.error?.message ?? 'Could not load video to obtain screenshot');\n            };\n        });\n        return this._canvasPromise;\n    }\n    _videoElement(file) {\n        if (this._video) {\n            return this._video;\n        }\n        const video = document.createElement('video');\n        video.src = file.blobUrl;\n        video.preload = 'metadata';\n        video.autoplay = false;\n        video.volume = 0;\n        video.controls = false;\n        video.pause();\n        this._video = video;\n        return video;\n    }\n    dispose() {\n        if (!this._video) {\n            return;\n        }\n        this._video.removeAttribute('src');\n        this._video.load();\n        this._video.remove();\n        this._video = undefined;\n        this._canvas?.remove();\n    }\n}\nexport default class Image {\n    constructor(data) {\n        this.data = data;\n    }\n    static fromCard(card, maxWidth, maxHeight) {\n        if (card.image) {\n            return Image.fromBase64(card.subtitleFileName, card.subtitle.start, card.image.base64, card.image.extension, card.image.error);\n        }\n        if (card.file) {\n            return Image.fromFile(card.file, card.mediaTimestamp ?? card.subtitle.start, maxWidth, maxHeight);\n        }\n        return undefined;\n    }\n    static fromBase64(subtitleFileName, timestamp, base64, extension, error) {\n        const prefix = subtitleFileName.substring(0, subtitleFileName.lastIndexOf('.'));\n        const imageName = `${makeFileName(prefix, timestamp)}.${extension}`;\n        return new Image(new Base64ImageData(imageName, timestamp, base64, extension, error));\n    }\n    static fromFile(file, timestamp, maxWidth, maxHeight) {\n        return new Image(new FileImageData(file, timestamp, maxWidth, maxHeight));\n    }\n    get name() {\n        return this.data.name;\n    }\n    get timestamp() {\n        return this.data.timestamp;\n    }\n    get extension() {\n        return this.data.extension;\n    }\n    get error() {\n        return this.data.error;\n    }\n    async base64() {\n        return await this.data.base64();\n    }\n    async dataUrl() {\n        return await this.data.dataUrl();\n    }\n    async blob() {\n        return await this.data.blob();\n    }\n    async pngBlob() {\n        return new Promise(async (resolve, reject) => {\n            try {\n                createImageBitmap(await this.blob()).then((bitMap) => {\n                    const canvas = document.createElement('canvas');\n                    canvas.width = bitMap.width;\n                    canvas.height = bitMap.height;\n                    canvas.getContext('2d').drawImage(bitMap, 0, 0);\n                    canvas.toBlob((blob) => {\n                        if (blob) {\n                            resolve(blob);\n                        }\n                        else {\n                            reject('Failed to convert to PNG');\n                        }\n                    }, 'image/png');\n                });\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n    atTimestamp(timestamp) {\n        return new Image(this.data.atTimestamp(timestamp));\n    }\n    get canChangeTimestamp() {\n        return this.data.canChangeTimestamp;\n    }\n    dispose() {\n        return this.data.dispose();\n    }\n    async download() {\n        const blob = await this.data.blob();\n        download(blob, this.data.name);\n    }\n}\n","export const resizeCanvas = (canvas, ctx, maxWidth, maxHeight) => {\n    return new Promise((resolve, reject) => {\n        const widthRatio = maxWidth <= 0 ? 1 : maxWidth / canvas.width;\n        const heightRatio = maxHeight <= 0 ? 1 : maxHeight / canvas.height;\n        const ratio = Math.min(1, Math.min(widthRatio, heightRatio));\n        if (ratio < 1) {\n            const newWidth = canvas.width * ratio;\n            const newHeight = canvas.height * ratio;\n            createImageBitmap(canvas, { resizeWidth: newWidth, resizeHeight: newHeight, resizeQuality: 'high' })\n                .then((sprite) => {\n                canvas.width = newWidth;\n                canvas.height = newHeight;\n                ctx.drawImage(sprite, 0, 0);\n                resolve(canvas);\n            })\n                .catch((e) => reject(e));\n        }\n        else {\n            resolve(canvas);\n        }\n    });\n};\nexport const cropAndResize = async (maxWidth, maxHeight, rect, imageDataUrl) => {\n    return new Promise((resolve, reject) => {\n        const image = new Image();\n        image.onload = async () => {\n            const canvas = document.createElement('canvas');\n            const r = window.devicePixelRatio;\n            const width = rect.width * r;\n            const height = rect.height * r;\n            canvas.width = width;\n            canvas.height = height;\n            const ctx = canvas.getContext('2d');\n            ctx.drawImage(image, rect.left * r, rect.top * r, width, height, 0, 0, width, height);\n            if (maxWidth > 0 || maxHeight > 0) {\n                try {\n                    await resizeCanvas(canvas, ctx, maxWidth, maxHeight);\n                    resolve(canvas.toDataURL('image/jpeg'));\n                }\n                catch (e) {\n                    console.error('Failed to crop and resize image: ' + e);\n                    reject(e);\n                }\n            }\n            else {\n                resolve(canvas.toDataURL('image/jpeg'));\n            }\n        };\n        image.src = imageDataUrl;\n    });\n};\n","export var StartRecordingErrorCode;\n(function (StartRecordingErrorCode) {\n    StartRecordingErrorCode[StartRecordingErrorCode[\"noActiveTabPermission\"] = 1] = \"noActiveTabPermission\";\n    StartRecordingErrorCode[StartRecordingErrorCode[\"drmProtected\"] = 2] = \"drmProtected\";\n    StartRecordingErrorCode[StartRecordingErrorCode[\"other\"] = 3] = \"other\";\n})(StartRecordingErrorCode || (StartRecordingErrorCode = {}));\nexport var StopRecordingErrorCode;\n(function (StopRecordingErrorCode) {\n    StopRecordingErrorCode[StopRecordingErrorCode[\"timedAudioRecordingInProgress\"] = 1] = \"timedAudioRecordingInProgress\";\n    StopRecordingErrorCode[StopRecordingErrorCode[\"other\"] = 2] = \"other\";\n})(StopRecordingErrorCode || (StopRecordingErrorCode = {}));\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export class HttpFetcher {\n    async fetch(url, body) {\n        const response = await fetch(url, {\n            method: 'POST',\n            body: JSON.stringify(body),\n        });\n        return await response.json();\n    }\n}\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { StartRecordingErrorCode, StopRecordingErrorCode, } from '@project/common';\nimport { v4 as uuidv4 } from 'uuid';\nexport class DrmProtectedStreamError extends Error {\n}\nexport class TimedRecordingInProgressError extends Error {\n}\nexport default class AudioRecorderService {\n    constructor(tabRegistry, delegate) {\n        this._tabRegistry = tabRegistry;\n        this._delegate = delegate;\n    }\n    onAudioBase64(base64, requestId) {\n        if (this.currentRecordRequestId === requestId) {\n            this.audioBase64Resolve?.(base64);\n            this.audioBase64Resolve = undefined;\n            this.audioBase64Promise = undefined;\n            this.audioBase64Reject = undefined;\n            this.currentRecordRequestId = undefined;\n        }\n    }\n    async startWithTimeout(time, encodeAsMp3, requester) {\n        const requestId = uuidv4();\n        try {\n            const response = await this._delegate.startWithTimeout(time, encodeAsMp3, requestId, requester);\n            if (response.started) {\n                this._notifyRecordingStarted(requester);\n                return await this._prepareForAudioDataResponse(requestId);\n            }\n            throw this._handleStartError(response, requester);\n        }\n        finally {\n            this._notifyRecordingFinished(requester);\n        }\n    }\n    async start(requester) {\n        try {\n            const requestId = uuidv4();\n            const response = await this._delegate.start(requestId, requester);\n            if (!response.started) {\n                throw this._handleStartError(response, requester);\n            }\n            this._prepareForAudioDataResponse(requestId);\n            this._notifyRecordingStarted(requester);\n        }\n        catch (e) {\n            this._notifyRecordingFinished(requester);\n            throw e;\n        }\n    }\n    _handleStartError(response, { tabId, src }) {\n        const errorCode = response.error.code;\n        const errorMessage = `Failed to start audio recording: \"${response.error.message}\"`;\n        switch (errorCode) {\n            case StartRecordingErrorCode.noActiveTabPermission:\n                if (tabId !== undefined) {\n                    this._requestActiveTab(tabId, src);\n                }\n                return new Error(errorMessage);\n            case StartRecordingErrorCode.other:\n                this._notifyError(errorMessage, { tabId, src });\n                return new Error(errorMessage);\n            case StartRecordingErrorCode.drmProtected:\n                return new DrmProtectedStreamError();\n        }\n    }\n    _requestActiveTab(tabId, src) {\n        const command = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'request-active-tab-permission',\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, command);\n    }\n    async stop(encodeAsMp3, requester) {\n        if (this.audioBase64Promise === undefined) {\n            const errorMessage = 'Cannot stop because audio recording is not in progress';\n            this._notifyError(errorMessage, requester);\n            this._notifyRecordingFinished(requester);\n            throw new Error(errorMessage);\n        }\n        const response = await this._delegate.stop(encodeAsMp3, requester);\n        if (!response.stopped) {\n            if (response.error.code === StopRecordingErrorCode.timedAudioRecordingInProgress) {\n                throw new TimedRecordingInProgressError();\n            }\n            const errorMessage = `Failed to stop audio recording: ${response.error.message}`;\n            this._notifyError(errorMessage, requester);\n            throw new Error(errorMessage);\n        }\n        this._notifyRecordingFinished(requester);\n        return await this.audioBase64Promise;\n    }\n    _notifyRecordingStarted({ tabId, src }) {\n        const command = {\n            sender: 'asbplayer-extension-to-player',\n            message: {\n                command: 'recording-started',\n            },\n        };\n        this._tabRegistry.publishCommandToAsbplayers({\n            commandFactory: (asbplayer) => (asbplayer.sidePanel ? command : undefined),\n        });\n        const videoCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'recording-started',\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, videoCommand);\n    }\n    _notifyRecordingFinished({ tabId, src }) {\n        const playerCommand = {\n            sender: 'asbplayer-extension-to-player',\n            message: {\n                command: 'recording-finished',\n            },\n        };\n        this._tabRegistry.publishCommandToAsbplayers({\n            commandFactory: (asbplayer) => (asbplayer.sidePanel ? playerCommand : undefined),\n        });\n        const videoCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'recording-finished',\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, videoCommand);\n    }\n    _prepareForAudioDataResponse(requestId) {\n        if (this.audioBase64Promise !== undefined) {\n            this.audioBase64Reject(new Error('New audio recording request received before the current one could finish'));\n            this.audioBase64Resolve = undefined;\n            this.audioBase64Reject = undefined;\n            this.audioBase64Promise = undefined;\n            this.currentRecordRequestId = undefined;\n        }\n        this.audioBase64Promise = new Promise((resolve, reject) => {\n            this.audioBase64Resolve = resolve;\n            this.audioBase64Reject = reject;\n            this.currentRecordRequestId = requestId;\n        });\n        return this.audioBase64Promise;\n    }\n    _notifyError(message, { tabId, src }) {\n        const notifyErrorCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'notify-error',\n                message: message,\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, notifyErrorCommand);\n    }\n}\n","const allowedKeys = ['version', 'action', 'params'];\nconst allowedActions = [\n    'guiAddCards',\n    'deckNames',\n    'modelNames',\n    'modelFieldNames',\n    'findNotes',\n    'guiBrowse',\n    'requestPermission',\n    'findNotes',\n    'notesInfo',\n    'updateNoteFields',\n    'addNote',\n    'storeMediaFile',\n    'version',\n    'addTags',\n];\nexport default class HttpPostHandler {\n    constructor() { }\n    get sender() {\n        return ['asbplayer-video', 'asbplayer-video-tab', 'asbplayer-popup'];\n    }\n    get command() {\n        return 'http-post';\n    }\n    handle(command, sender, sendResponse) {\n        const message = command.message;\n        if (!this._validateBody(message.body)) {\n            sendResponse({ error: 'Invalid request' });\n            return;\n        }\n        fetch(message.url, {\n            method: 'POST',\n            body: JSON.stringify(message.body),\n        })\n            .then((response) => response.json())\n            .then((json) => sendResponse(json))\n            .catch((e) => sendResponse({ error: e.message }));\n        return true;\n    }\n    _validateBody(body) {\n        const bodyKeys = Object.keys(body);\n        for (const k of bodyKeys) {\n            if (!allowedKeys.includes(k)) {\n                return false;\n            }\n        }\n        const version = body['version'];\n        if (version !== undefined && typeof version !== 'number') {\n            return false;\n        }\n        const action = body['action'];\n        if (action !== undefined && !allowedActions.includes(action)) {\n            return false;\n        }\n        return true;\n    }\n}\n","export var PauseOnHoverMode;\n(function (PauseOnHoverMode) {\n    PauseOnHoverMode[PauseOnHoverMode[\"disabled\"] = 0] = \"disabled\";\n    PauseOnHoverMode[PauseOnHoverMode[\"inAndOut\"] = 1] = \"inAndOut\";\n    PauseOnHoverMode[PauseOnHoverMode[\"inNotOut\"] = 2] = \"inNotOut\";\n})(PauseOnHoverMode || (PauseOnHoverMode = {}));\nconst ankiSettingsKeysObject = {\n    ankiConnectUrl: true,\n    deck: true,\n    noteType: true,\n    sentenceField: true,\n    definitionField: true,\n    audioField: true,\n    imageField: true,\n    wordField: true,\n    sourceField: true,\n    urlField: true,\n    track1Field: true,\n    track2Field: true,\n    track3Field: true,\n    customAnkiFields: true,\n    tags: true,\n    recordWithAudioPlayback: true,\n    preferMp3: true,\n    audioPaddingStart: true,\n    audioPaddingEnd: true,\n    maxImageWidth: true,\n    maxImageHeight: true,\n    surroundingSubtitlesCountRadius: true,\n    surroundingSubtitlesTimeRadius: true,\n    ankiFieldSettings: true,\n    customAnkiFieldSettings: true,\n};\nexport const ankiSettingsKeys = Object.keys(ankiSettingsKeysObject);\nconst textSubtitleSettingsKeysObject = {\n    subtitleColor: true,\n    subtitleSize: true,\n    subtitleThickness: true,\n    subtitleOutlineThickness: true,\n    subtitleOutlineColor: true,\n    subtitleShadowThickness: true,\n    subtitleShadowColor: true,\n    subtitleBackgroundOpacity: true,\n    subtitleBackgroundColor: true,\n    subtitleFontFamily: true,\n    subtitleCustomStyles: true,\n    subtitleBlur: true,\n    subtitleAlignment: true,\n};\nexport const textSubtitleSettingsKeys = Object.keys(textSubtitleSettingsKeysObject);\nconst subtitleSettingsKeysObject = {\n    subtitleColor: true,\n    subtitleSize: true,\n    subtitleThickness: true,\n    subtitleOutlineThickness: true,\n    subtitleOutlineColor: true,\n    subtitleShadowThickness: true,\n    subtitleShadowColor: true,\n    subtitleBackgroundOpacity: true,\n    subtitleBackgroundColor: true,\n    subtitleFontFamily: true,\n    subtitleCustomStyles: true,\n    subtitleBlur: true,\n    imageBasedSubtitleScaleFactor: true,\n    subtitlePositionOffset: true,\n    topSubtitlePositionOffset: true,\n    subtitleAlignment: true,\n    subtitleTracksV2: true,\n    subtitlesWidth: true,\n};\nexport const subtitleSettingsKeys = Object.keys(subtitleSettingsKeysObject);\nexport const extractAnkiSettings = (settings) => {\n    return Object.fromEntries(ankiSettingsKeys.map((k) => [k, settings[k]]));\n};\nexport var SubtitleListPreference;\n(function (SubtitleListPreference) {\n    SubtitleListPreference[\"noSubtitleList\"] = \"noSubtitleList\";\n    SubtitleListPreference[\"app\"] = \"app\";\n})(SubtitleListPreference || (SubtitleListPreference = {}));\nconst keyBindNameMap = {\n    'copy-subtitle': 'copySubtitle',\n    'copy-subtitle-with-dialog': 'ankiExport',\n    'update-last-card': 'updateLastCard',\n    'take-screenshot': 'takeScreenshot',\n    'toggle-recording': 'toggleRecording',\n    'toggle-video-select': 'selectSubtitleTrack',\n};\nexport function chromeCommandBindsToKeyBinds(chromeCommands) {\n    const keyBinds = {};\n    for (const commandName of Object.keys(chromeCommands)) {\n        keyBinds[keyBindNameMap[commandName]] = chromeCommands[commandName];\n    }\n    return keyBinds;\n}\n","import { SubtitleListPreference, textSubtitleSettingsKeys, } from '.';\nimport { AutoPausePreference, PostMineAction, PostMinePlayback } from '..';\n// @ts-ignore\nconst isMacOs = (navigator.userAgentData?.platform ?? navigator.platform)?.toUpperCase()?.indexOf('MAC') > -1;\nconst defaultSubtitleTextSettings = {\n    subtitleSize: 36,\n    subtitleColor: '#ffffff',\n    subtitleThickness: 700,\n    subtitleOutlineThickness: 0,\n    subtitleOutlineColor: '#000000',\n    subtitleShadowThickness: 3,\n    subtitleShadowColor: '#000000',\n    subtitleBackgroundColor: '#000000',\n    subtitleBackgroundOpacity: 0,\n    subtitleFontFamily: '',\n    subtitlePreview: 'Aa',\n    subtitleCustomStyles: [],\n    subtitleBlur: false,\n};\nexport const defaultSettings = {\n    ankiConnectUrl: 'http://127.0.0.1:8765',\n    deck: '',\n    noteType: '',\n    sentenceField: '',\n    definitionField: '',\n    audioField: '',\n    imageField: '',\n    wordField: '',\n    sourceField: '',\n    urlField: '',\n    track1Field: '',\n    track2Field: '',\n    track3Field: '',\n    ankiFieldSettings: {\n        sentence: { order: 1, display: true },\n        definition: { order: 2, display: true },\n        word: { order: 3, display: true },\n        audio: { order: 4, display: true },\n        image: { order: 5, display: true },\n        source: { order: 6, display: true },\n        url: { order: 7, display: true },\n        track1: { order: 8, display: false },\n        track2: { order: 9, display: false },\n        track3: { order: 10, display: false },\n    },\n    customAnkiFieldSettings: {},\n    ...defaultSubtitleTextSettings,\n    subtitlePositionOffset: 75,\n    topSubtitlePositionOffset: 75,\n    subtitleAlignment: 'bottom',\n    subtitleTracksV2: [],\n    subtitlesWidth: -1,\n    audioPaddingStart: 0,\n    audioPaddingEnd: 500,\n    maxImageWidth: 0,\n    maxImageHeight: 0,\n    surroundingSubtitlesCountRadius: 2,\n    surroundingSubtitlesTimeRadius: 10000,\n    autoPausePreference: AutoPausePreference.atEnd,\n    speedChangeStep: 0.1,\n    fastForwardModePlaybackRate: 2.7,\n    keyBindSet: {\n        togglePlay: { keys: 'space' },\n        toggleAutoPause: { keys: isMacOs ? '+P' : 'shift+P' },\n        toggleCondensedPlayback: { keys: isMacOs ? '+O' : 'shift+O' },\n        toggleFastForwardPlayback: { keys: isMacOs ? '+F' : 'shift+F' },\n        toggleSubtitles: { keys: 'down' },\n        toggleVideoSubtitleTrack1: { keys: '1' },\n        toggleVideoSubtitleTrack2: { keys: '2' },\n        toggleVideoSubtitleTrack3: { keys: '3' },\n        toggleAsbplayerSubtitleTrack1: { keys: 'W+1' },\n        toggleAsbplayerSubtitleTrack2: { keys: 'W+2' },\n        toggleAsbplayerSubtitleTrack3: { keys: 'W+3' },\n        unblurAsbplayerTrack1: { keys: 'B+1' },\n        unblurAsbplayerTrack2: { keys: 'B+2' },\n        unblurAsbplayerTrack3: { keys: 'B+3' },\n        seekBackward: { keys: 'A' },\n        seekForward: { keys: 'D' },\n        seekToPreviousSubtitle: { keys: 'left' },\n        seekToNextSubtitle: { keys: 'right' },\n        seekToBeginningOfCurrentSubtitle: { keys: 'up' },\n        adjustOffsetToPreviousSubtitle: { keys: isMacOs ? '+left' : 'ctrl+left' },\n        adjustOffsetToNextSubtitle: { keys: isMacOs ? '+right' : 'ctrl+right' },\n        decreaseOffset: { keys: isMacOs ? '++right' : 'ctrl+shift+right' },\n        increaseOffset: { keys: isMacOs ? '++left' : 'ctrl+shift+left' },\n        resetOffset: { keys: isMacOs ? '++down' : 'ctrl+shift+down' },\n        copySubtitle: { keys: isMacOs ? '++Z' : 'ctrl+shift+Z' },\n        ankiExport: { keys: isMacOs ? '++X' : 'ctrl+shift+X' },\n        updateLastCard: { keys: isMacOs ? '++U' : 'ctrl+shift+U' },\n        takeScreenshot: { keys: isMacOs ? '++V' : 'ctrl+shift+V' },\n        toggleRecording: { keys: isMacOs ? '++R' : 'ctrl+shift+R' },\n        decreasePlaybackRate: { keys: isMacOs ? '++[' : 'ctrl+shift+[' },\n        increasePlaybackRate: { keys: isMacOs ? '++]' : 'ctrl+shift+]' },\n        toggleSidePanel: { keys: '`' },\n        toggleRepeat: { keys: isMacOs ? '+R' : 'shift+R' },\n    },\n    recordWithAudioPlayback: true,\n    preferMp3: true,\n    tabName: 'asbplayer',\n    miningHistoryStorageLimit: 25,\n    preCacheSubtitleDom: true,\n    clickToMineDefaultAction: PostMineAction.showAnkiDialog,\n    postMiningPlaybackState: PostMinePlayback.remember,\n    themeType: 'dark',\n    copyToClipboardOnMine: false,\n    rememberSubtitleOffset: true,\n    lastSubtitleOffset: 0,\n    autoCopyCurrentSubtitle: false,\n    alwaysPlayOnSubtitleRepeat: true,\n    subtitleRegexFilter: '',\n    subtitleRegexFilterTextReplacement: '',\n    language: 'en',\n    customAnkiFields: {},\n    tags: [],\n    imageBasedSubtitleScaleFactor: 1,\n    streamingAppUrl: 'https://killergerbah.github.io/asbplayer',\n    streamingDisplaySubtitles: true,\n    streamingRecordMedia: true,\n    streamingTakeScreenshot: true,\n    streamingCleanScreenshot: true,\n    streamingCropScreenshot: true,\n    streamingSubsDragAndDrop: true,\n    streamingAutoSync: false,\n    streamingLastLanguagesSynced: {},\n    streamingCondensedPlaybackMinimumSkipIntervalMs: 1000,\n    streamingScreenshotDelay: 1000,\n    streamingSubtitleListPreference: SubtitleListPreference.noSubtitleList,\n    streamingEnableOverlay: true,\n    webSocketClientEnabled: false,\n    webSocketServerUrl: 'ws://127.0.0.1:8766/ws',\n    pauseOnHoverMode: 0,\n    lastSelectedAnkiExportMode: 'default',\n};\nconst ankiFieldEntries = (fieldsMap, custom) => {\n    return Object.entries(fieldsMap).map(([key, value]) => ({\n        key,\n        field: value,\n        custom,\n    }));\n};\nconst sortedAnkiFields = (models) => {\n    return models.sort((a, b) => {\n        const left = a.field;\n        const right = b.field;\n        if (left.order < right.order) {\n            return -1;\n        }\n        if (left.order > right.order) {\n            return 1;\n        }\n        return 0;\n    });\n};\nexport const sortedAnkiFieldModels = (settings) => {\n    let last = Math.max(...Object.values({ ...settings.ankiFieldSettings, ...settings.customAnkiFieldSettings }).map((f) => f.order));\n    return sortedAnkiFields([\n        ...ankiFieldEntries(settings.ankiFieldSettings, false),\n        ...ankiFieldEntries(Object.fromEntries(Object.keys(settings.customAnkiFields).map((name) => [\n            name,\n            settings.customAnkiFieldSettings[name] ?? { order: ++last, display: true },\n        ])), true),\n    ]);\n};\nexport const allTextSubtitleSettings = (subtitleSettings) => {\n    const textSettings = [];\n    for (let i = 0; i <= subtitleSettings.subtitleTracksV2.length; ++i) {\n        textSettings.push(textSubtitleSettingsForTrack(subtitleSettings, i));\n    }\n    return textSettings;\n};\nexport const textSubtitleSettingsForTrack = (subtitleSettings, track) => {\n    if (track === undefined) {\n        const valuesAllSame = (k) => {\n            const val = subtitleSettings[k];\n            for (const track of subtitleSettings.subtitleTracksV2) {\n                if (!deepEquals(track[k], val)) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        let mergedSettings = {};\n        for (const key of textSubtitleSettingsKeys) {\n            if (valuesAllSame(key)) {\n                mergedSettings[key] = subtitleSettings[key];\n            }\n            else {\n                mergedSettings[key] = undefined;\n            }\n        }\n        return mergedSettings;\n    }\n    if (track === 0 || track > subtitleSettings.subtitleTracksV2.length) {\n        return Object.fromEntries(textSubtitleSettingsKeys.map((k) => [k, subtitleSettings[k]]));\n    }\n    return subtitleSettings.subtitleTracksV2[track - 1];\n};\nexport const changeForTextSubtitleSetting = (updates, subtitleSettings, track) => {\n    if (track === undefined) {\n        // Change settings for all tracks\n        const newSubtitleTracks = [];\n        for (let i = 0; i < subtitleSettings.subtitleTracksV2.length; ++i) {\n            newSubtitleTracks.push({ ...subtitleSettings.subtitleTracksV2[i], ...updates });\n        }\n        return {\n            ...updates,\n            subtitleTracksV2: newSubtitleTracks,\n        };\n    }\n    if (track === 0) {\n        // Change setting for track 0 (top-level settings object)\n        return { ...updates };\n    }\n    // Change setting for track >= 1 (nested subtitleTracks setting)\n    const newSubtitleTracks = [...subtitleSettings.subtitleTracksV2];\n    const firstTrack = textSubtitleSettingsForTrack(subtitleSettings, 0);\n    while (newSubtitleTracks.length < track) {\n        newSubtitleTracks.push(firstTrack);\n    }\n    newSubtitleTracks[track - 1] = {\n        ...newSubtitleTracks[track - 1],\n        ...updates,\n    };\n    let removeFromEnd = 0;\n    for (let i = newSubtitleTracks.length - 1; i >= 0; --i) {\n        if (!deepEquals(firstTrack, newSubtitleTracks[i])) {\n            break;\n        }\n        ++removeFromEnd;\n    }\n    if (removeFromEnd > 0) {\n        newSubtitleTracks.splice(newSubtitleTracks.length - removeFromEnd);\n    }\n    return { subtitleTracksV2: newSubtitleTracks };\n};\nexport const textSubtitleSettingsAreDirty = (settings, track) => {\n    return (track !== 0 &&\n        !deepEquals(textSubtitleSettingsForTrack(settings, 0), textSubtitleSettingsForTrack(settings, track)));\n};\nexport const settingsDeserializers = Object.fromEntries(Object.entries(defaultSettings).map(([key, value]) => {\n    if (typeof value === 'string') {\n        return [key, (s) => s];\n    }\n    if (typeof value === 'boolean') {\n        return [key, (s) => s === 'true'];\n    }\n    if (typeof value === 'number') {\n        return [key, (s) => Number(s)];\n    }\n    if (typeof value === 'object') {\n        return [key, (s) => JSON.parse(s)];\n    }\n    throw new Error('Could not determine deserializer for setting');\n}));\nconst deepEquals = (a, b) => {\n    if (typeof a !== typeof b) {\n        return false;\n    }\n    if (typeof a !== 'object') {\n        return a === b;\n    }\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (a.length !== b.length) {\n        return false;\n    }\n    for (const k of aKeys) {\n        if (!deepEquals(a[k], b[k])) {\n            return false;\n        }\n    }\n    for (const k of bKeys) {\n        if (!deepEquals(a[k], b[k])) {\n            return false;\n        }\n    }\n    return true;\n};\nconst complexValuedKeys = Object.fromEntries(Object.keys(defaultSettings)\n    .filter((k) => typeof defaultSettings[k] === 'object')\n    .map((k) => [k, true]));\nexport class SettingsProvider {\n    constructor(storage) {\n        this._complexValues = {};\n        this._storage = storage;\n    }\n    async getAll() {\n        return this.get(Object.keys(defaultSettings));\n    }\n    async getSingle(key) {\n        const vals = (await this.get([key]));\n        const val = vals[key];\n        return val;\n    }\n    async get(keys) {\n        let parameters = {};\n        for (const key of keys) {\n            parameters[key] = defaultSettings[key];\n        }\n        const data = await this._storage.get(parameters);\n        const result = {};\n        for (const key in parameters) {\n            const value = data[key] ?? defaultSettings[key];\n            if (complexValuedKeys[key]) {\n                const lastValue = this._complexValues[key];\n                if (lastValue !== undefined && deepEquals(lastValue, value)) {\n                    result[key] = lastValue;\n                }\n                else {\n                    this._complexValues[key] = value;\n                    result[key] = value;\n                }\n            }\n            else {\n                result[key] = value;\n            }\n        }\n        return this._ensureConsistencyOnRead(result);\n    }\n    _ensureConsistencyOnRead(settings) {\n        let keyBindSetModified = false;\n        let newKeyBindSet = {};\n        let ankiFieldSettingsModified = false;\n        let newAnkiFieldSettings = {};\n        if (settings.keyBindSet !== undefined) {\n            const keyBindSet = settings.keyBindSet;\n            for (const key of Object.keys(defaultSettings.keyBindSet)) {\n                const keyBindName = key;\n                if (keyBindSet[keyBindName] === undefined) {\n                    newKeyBindSet[keyBindName] = defaultSettings.keyBindSet[keyBindName];\n                    keyBindSetModified = true;\n                }\n                else {\n                    newKeyBindSet[keyBindName] = keyBindSet[keyBindName];\n                }\n            }\n        }\n        if (settings.ankiFieldSettings !== undefined) {\n            const ankiFieldSettings = settings.ankiFieldSettings;\n            for (const key of Object.keys(defaultSettings.ankiFieldSettings)) {\n                const fieldName = key;\n                if (ankiFieldSettings[fieldName] === undefined) {\n                    newAnkiFieldSettings[fieldName] = defaultSettings.ankiFieldSettings[fieldName];\n                    ankiFieldSettingsModified = true;\n                }\n                else {\n                    newAnkiFieldSettings[fieldName] = ankiFieldSettings[fieldName];\n                }\n            }\n        }\n        if (!ankiFieldSettingsModified && !keyBindSetModified) {\n            return settings;\n        }\n        return { ...settings, ...{ ankiFieldSettings: newAnkiFieldSettings }, ...{ keyBindSet: newKeyBindSet } };\n    }\n    async set(settings) {\n        await this._storage.set(await this._ensureConsistencyOnWrite(settings));\n    }\n    async _ensureConsistencyOnWrite(settings) {\n        if (settings.customAnkiFields === undefined) {\n            return settings;\n        }\n        const customAnkiFieldSettings = settings.customAnkiFieldSettings ??\n            (await this._storage.get({\n                customAnkiFieldSettings: defaultSettings.customAnkiFieldSettings,\n            })).customAnkiFieldSettings;\n        let modifyCustomAnkiFieldSettings = false;\n        for (const key of Object.keys(customAnkiFieldSettings)) {\n            if (!(key in settings.customAnkiFields)) {\n                delete customAnkiFieldSettings[key];\n                modifyCustomAnkiFieldSettings = true;\n            }\n        }\n        if (modifyCustomAnkiFieldSettings) {\n            return { ...settings, customAnkiFieldSettings };\n        }\n        return settings;\n    }\n    async activeProfile() {\n        return await this._storage.activeProfile();\n    }\n    async setActiveProfile(name) {\n        await this._storage.setActiveProfile(name);\n    }\n    async profiles() {\n        return await this._storage.profiles();\n    }\n    async addProfile(name) {\n        await this._storage.addProfile(name);\n    }\n    async removeProfile(name) {\n        await this._storage.removeProfile(name);\n    }\n}\nconst keyPrefix = (profile) => {\n    return `_prof_${profile}_`;\n};\nexport const prefixKey = (key, profile) => {\n    return `${keyPrefix(profile)}${key}`;\n};\nexport const unprefixKey = (key, profile) => {\n    return key.substring(profile.length + 7);\n};\nexport const prefixedSettings = (settings, profile) => {\n    const prefixed = {};\n    for (const key of Object.keys(settings)) {\n        prefixed[prefixKey(key, profile)] = settings[key];\n    }\n    return prefixed;\n};\nexport const unprefixedSettings = (settings, profile) => {\n    const unprefixed = {};\n    for (const key of Object.keys(settings)) {\n        const unprefixedKey = unprefixKey(key, profile);\n        unprefixed[unprefixedKey] = settings[key];\n    }\n    return unprefixed;\n};\n","import { Validator } from 'jsonschema';\nconst keyBindSchema = {\n    id: '/KeyBind',\n    type: 'object',\n    properties: {\n        keys: {\n            type: 'string',\n        },\n    },\n    required: ['keys'],\n};\nconst ankiFieldSchema = {\n    id: '/AnkiField',\n    type: 'object',\n    properties: {\n        order: {\n            type: 'number',\n        },\n        display: {\n            type: 'boolean',\n        },\n    },\n    required: ['order', 'display'],\n};\nconst textSubtitleSettingsSchema = {\n    id: '/TextSubtitleSettings',\n    type: 'object',\n    properties: {\n        subtitleColor: {\n            type: 'string',\n        },\n        subtitleSize: {\n            type: 'number',\n        },\n        subtitleThickness: {\n            type: 'number',\n        },\n        subtitleOutlineThickness: {\n            type: 'number',\n        },\n        subtitleShadowColor: {\n            type: 'string',\n        },\n        subtitleBackgroundOpacity: {\n            type: 'number',\n        },\n        subtitleBackgroundColor: {\n            type: 'string',\n        },\n        subtitleFontFamily: {\n            type: 'string',\n        },\n        subtitleCustomStyles: {\n            type: 'array',\n            items: {\n                type: 'object',\n                properties: {\n                    key: {\n                        type: 'string',\n                    },\n                    value: {\n                        type: 'string',\n                    },\n                },\n            },\n        },\n        subtitleBlur: {\n            type: 'boolean',\n        },\n    },\n    required: [\n        'subtitleColor',\n        'subtitleSize',\n        'subtitleThickness',\n        'subtitleOutlineThickness',\n        'subtitleShadowColor',\n        'subtitleBackgroundOpacity',\n        'subtitleBackgroundColor',\n        'subtitleFontFamily',\n        'subtitleCustomStyles',\n        'subtitleBlur',\n    ],\n};\nconst settingsSchema = {\n    id: '/Settings',\n    type: 'object',\n    properties: {\n        ankiConnectUrl: {\n            type: 'string',\n        },\n        deck: {\n            type: 'string',\n        },\n        noteType: {\n            type: 'string',\n        },\n        sentenceField: {\n            type: 'string',\n        },\n        definitionField: {\n            type: 'string',\n        },\n        audioField: {\n            type: 'string',\n        },\n        imageField: {\n            type: 'string',\n        },\n        wordField: {\n            type: 'string',\n        },\n        sourceField: {\n            type: 'string',\n        },\n        urlField: {\n            type: 'string',\n        },\n        track1Field: {\n            type: 'string',\n        },\n        track2Field: {\n            type: 'string',\n        },\n        track3Field: {\n            type: 'string',\n        },\n        ankiFieldSettings: {\n            type: 'object',\n            properties: {\n                sentence: { $ref: '/AnkiField' },\n                definition: { $ref: '/AnkiField' },\n                audio: { $ref: '/AnkiField' },\n                image: { $ref: '/AnkiField' },\n                word: { $ref: '/AnkiField' },\n                source: { $ref: '/AnkiField' },\n                url: { $ref: '/AnkiField' },\n                track1: { $ref: '/AnkiField' },\n                track2: { $ref: '/AnkiField' },\n                track3: { $ref: '/AnkiField' },\n            },\n        },\n        customAnkiFieldSettings: {\n            type: 'object',\n            additionalProperties: {\n                type: '/AnkiField',\n            },\n        },\n        subtitleSize: {\n            type: 'number',\n        },\n        subtitleColor: {\n            type: 'string',\n        },\n        subtitleThickness: {\n            type: 'number',\n        },\n        subtitleOutlineThickness: {\n            type: 'number',\n        },\n        subtitleShadowThickness: {\n            type: 'number',\n        },\n        subtitleShadowColor: {\n            type: 'string',\n        },\n        subtitleOutlineColor: {\n            type: 'string',\n        },\n        subtitleBackgroundColor: {\n            type: 'string',\n        },\n        subtitleBackgroundOpacity: {\n            type: 'number',\n        },\n        subtitleFontFamily: {\n            type: 'string',\n        },\n        subtitleBlur: {\n            type: 'boolean',\n        },\n        subtitlePreview: {\n            type: 'string',\n        },\n        subtitlePositionOffset: {\n            type: 'number',\n        },\n        topSubtitlePositionOffset: {\n            type: 'number',\n        },\n        subtitleAlignment: {\n            type: 'string',\n        },\n        subtitleTracksV2: {\n            type: 'array',\n            items: {\n                $ref: '/TextSubtitleSettings',\n            },\n        },\n        audioPaddingStart: {\n            type: 'number',\n        },\n        audioPaddingEnd: {\n            type: 'number',\n        },\n        maxImageWidth: {\n            type: 'number',\n        },\n        maxImageHeight: {\n            type: 'number',\n        },\n        surroundingSubtitlesCountRadius: {\n            type: 'number',\n        },\n        surroundingSubtitlesTimeRadius: {\n            type: 'number',\n        },\n        autoPausePreference: {\n            type: 'number',\n        },\n        speedChangeStep: {\n            type: 'number',\n        },\n        fastForwardModePlaybackRate: {\n            type: 'number',\n        },\n        keyBindSet: {\n            type: 'object',\n            properties: {\n                togglePlay: { $ref: '/KeyBind' },\n                toggleAutoPause: { $ref: '/KeyBind' },\n                toggleCondensedPlayback: { $ref: '/KeyBind' },\n                toggleFastForwardPlayback: { $ref: '/KeyBind' },\n                toggleSubtitles: { $ref: '/KeyBind' },\n                toggleVideoSubtitleTrack1: { $ref: '/KeyBind' },\n                toggleVideoSubtitleTrack2: { $ref: '/KeyBind' },\n                toggleVideoSubtitleTrack3: { $ref: '/KeyBind' },\n                toggleAsbplayerSubtitleTrack1: { $ref: '/KeyBind' },\n                toggleAsbplayerSubtitleTrack2: { $ref: '/KeyBind' },\n                toggleAsbplayerSubtitleTrack3: { $ref: '/KeyBind' },\n                unblurAsbplayerTrack1: { $ref: '/KeyBind' },\n                unblurAsbplayerTrack2: { $ref: '/KeyBind' },\n                unblurAsbplayerTrack3: { $ref: '/KeyBind' },\n                seekBackward: { $ref: '/KeyBind' },\n                seekForward: { $ref: '/KeyBind' },\n                seekToPreviousSubtitle: { $ref: '/KeyBind' },\n                seekToNextSubtitle: { $ref: '/KeyBind' },\n                seekToBeginningOfCurrentSubtitle: { $ref: '/KeyBind' },\n                adjustOffsetToPreviousSubtitle: { $ref: '/KeyBind' },\n                adjustOffsetToNextSubtitle: { $ref: '/KeyBind' },\n                decreaseOffset: { $ref: '/KeyBind' },\n                increaseOffset: { $ref: '/KeyBind' },\n                resetOffset: { $ref: '/KeyBind' },\n                copySubtitle: { $ref: '/KeyBind' },\n                ankiExport: { $ref: '/KeyBind' },\n                updateLastCard: { $ref: '/KeyBind' },\n                takeScreenshot: { $ref: '/KeyBind' },\n                toggleRecording: { $ref: '/KeyBind' },\n                decreasePlaybackRate: { $ref: '/KeyBind' },\n                increasePlaybackRate: { $ref: '/KeyBind' },\n                toggleSidePanel: { $ref: '/KeyBind' },\n                toggleRepeat: { $ref: '/KeyBind' },\n            },\n        },\n        recordWithAudioPlayback: {\n            type: 'boolean',\n        },\n        preferMp3: {\n            type: 'boolean',\n        },\n        tabName: {\n            type: 'string',\n        },\n        miningHistoryStorageLimit: {\n            type: 'number',\n        },\n        preCacheSubtitleDom: {\n            type: 'boolean',\n        },\n        clickToMineDefaultAction: {\n            type: 'number',\n        },\n        postMiningPlaybackState: {\n            type: 'number',\n        },\n        themeType: {\n            type: 'string',\n        },\n        copyToClipboardOnMine: {\n            type: 'boolean',\n        },\n        rememberSubtitleOffset: {\n            type: 'boolean',\n        },\n        lastSubtitleOffset: {\n            type: 'number',\n        },\n        autoCopyCurrentSubtitle: {\n            type: 'boolean',\n        },\n        alwaysPlayOnSubtitleRepeat: {\n            type: 'boolean',\n        },\n        subtitleRegexFilter: {\n            type: 'string',\n        },\n        subtitleRegexFilterTextReplacement: {\n            type: 'string',\n        },\n        language: {\n            type: 'string',\n        },\n        customAnkiFields: {\n            type: 'object',\n            additionalProperties: {\n                type: 'string',\n            },\n        },\n        tags: {\n            type: 'array',\n            items: {\n                type: 'string',\n            },\n        },\n        imageBasedSubtitleScaleFactor: {\n            type: 'number',\n        },\n        subtitleCustomStyles: {\n            type: 'array',\n            items: {\n                type: 'object',\n                properties: {\n                    key: {\n                        type: 'string',\n                    },\n                    value: {\n                        type: 'string',\n                    },\n                },\n            },\n        },\n        subtitlesWidth: {\n            type: 'number',\n        },\n        streamingAppUrl: {\n            type: 'string',\n        },\n        streamingDisplaySubtitles: {\n            type: 'boolean',\n        },\n        streamingRecordMedia: {\n            type: 'boolean',\n        },\n        streamingTakeScreenshot: {\n            type: 'boolean',\n        },\n        streamingCleanScreenshot: {\n            type: 'boolean',\n        },\n        streamingCropScreenshot: {\n            type: 'boolean',\n        },\n        streamingSubsDragAndDrop: {\n            type: 'boolean',\n        },\n        streamingAutoSync: {\n            type: 'boolean',\n        },\n        streamingLastLanguagesSynced: {\n            type: 'object',\n            additionalProperties: {\n                type: 'array',\n                items: {\n                    type: 'string',\n                },\n            },\n        },\n        streamingCondensedPlaybackMinimumSkipIntervalMs: {\n            type: 'number',\n        },\n        streamingScreenshotDelay: {\n            type: 'number',\n        },\n        streamingSubtitleListPreference: {\n            type: 'string',\n        },\n        streamingEnableOverlay: {\n            type: 'boolean',\n        },\n        webSocketClientEnabled: {\n            type: 'boolean',\n        },\n        webSocketServerUrl: {\n            type: 'string',\n        },\n        pauseOnHoverMode: {\n            type: 'number',\n        },\n        lastSelectedAnkiExportMode: {\n            type: 'string',\n        },\n        _schema: {\n            type: 'number',\n        },\n    },\n};\nexport const validateSettings = (settings) => {\n    const validator = new Validator();\n    validator.addSchema(keyBindSchema);\n    validator.addSchema(ankiFieldSchema);\n    validator.addSchema(textSubtitleSettingsSchema);\n    const result = validator.validate(settings, settingsSchema);\n    validateAllKnownKeys(settings, []);\n    if (!result.valid) {\n        throw new Error('Settings validation failed: ' + JSON.stringify(result.errors));\n    }\n};\nconst validateAllKnownKeys = (object, path) => {\n    for (const key of Object.keys(object)) {\n        const schema = schemaAtPath(settingsSchema, path);\n        // Empty string is sentinel value for 'additional properties' which can have any key\n        if (schema === undefined || (schema !== '' && !(key in schema))) {\n            throw new Error(`Unknown key '${[...path, key].join('.')}'`);\n        }\n        const value = object[key];\n        if (typeof value === 'object' && !Array.isArray(value)) {\n            validateAllKnownKeys(value, [...path, key]);\n        }\n    }\n};\nconst schemaAtPath = (schema, path) => {\n    let value = schema['properties'];\n    for (const key of path) {\n        if (typeof value[key] === 'object' && 'additionalProperties' in value[key]) {\n            return '';\n        }\n        value = value[key]?.['properties'] ?? schemaForRef(value[key]?.['$ref'])?.['properties'];\n        if (value === undefined) {\n            return undefined;\n        }\n    }\n    return value;\n};\nconst schemaForRef = (ref) => {\n    if (ref === '/KeyBind') {\n        return keyBindSchema;\n    }\n    if (ref === '/AnkiField') {\n        return ankiFieldSchema;\n    }\n    if (ref === '/TextSubtitleSettings') {\n        return textSubtitleSettingsSchema;\n    }\n    return undefined;\n};\n","export * from './settings';\nexport * from './settings-provider';\nexport * from './settings-import-export';\nexport const supportedLanguages = ['en', 'es', 'de', 'ja', 'pl', 'pt_BR', 'zh_CN', 'ru'];\n","import { unprefixedSettings, prefixedSettings, defaultSettings, } from '@project/common/settings';\nconst activeProfileKey = 'activeSettingsProfile';\nconst profilesKey = 'settingsProfiles';\nexport class ExtensionSettingsStorage {\n    constructor(storage) {\n        this._storage = storage ?? chrome.storage.local;\n    }\n    async get(keysAndDefaults) {\n        const activeProfile = await this.activeProfile();\n        if (activeProfile === undefined) {\n            return await this._storage.get(keysAndDefaults);\n        }\n        return unprefixedSettings(await this._storage.get(prefixedSettings(keysAndDefaults, activeProfile.name)), activeProfile.name);\n    }\n    async set(settings) {\n        const activeProfile = await this.activeProfile();\n        if (activeProfile === undefined) {\n            await this._storage.set(settings);\n        }\n        else {\n            await this._storage.set(prefixedSettings(settings, activeProfile.name));\n        }\n    }\n    async activeProfile() {\n        const name = (await this._storage.get(activeProfileKey))[activeProfileKey];\n        if (name === undefined) {\n            return undefined;\n        }\n        const profiles = await this.profiles();\n        return profiles.find((p) => p.name === name);\n    }\n    async setActiveProfile(name) {\n        if (name === undefined) {\n            await this._storage.remove(activeProfileKey);\n        }\n        else {\n            const profiles = await this.profiles();\n            const profileExists = profiles.find((p) => p.name === name) !== undefined;\n            if (!profileExists) {\n                throw new Error(`Cannot set active profile to non-existant profile ${name}`);\n            }\n            await this._storage.set({ [activeProfileKey]: name });\n        }\n    }\n    async profiles() {\n        return (await this._storage.get({ [profilesKey]: [] }))[profilesKey] ?? [];\n    }\n    async addProfile(name) {\n        const profiles = await this.profiles();\n        const existing = profiles.find((p) => p.name === name);\n        if (existing === undefined) {\n            profiles.push({ name });\n        }\n        await this._storage.set({ [profilesKey]: profiles });\n        const initialValues = await this._storage.get(Object.keys(defaultSettings));\n        await this._storage.set(prefixedSettings(initialValues, name));\n    }\n    async removeProfile(name) {\n        const profiles = await this.profiles();\n        const activeProfile = await this.activeProfile();\n        if (name === activeProfile?.name) {\n            throw new Error('Cannot remove active profile');\n        }\n        const newProfiles = profiles.filter((p) => p.name !== name);\n        const prefixedKeys = Object.keys(prefixedSettings(defaultSettings, name));\n        await this._storage.remove(prefixedKeys);\n        await this._storage.set({ [profilesKey]: newProfiles });\n    }\n    async clear() {\n        await this._storage.clear();\n    }\n}\n","// @ts-ignore\nexport const isFirefoxBuild = FIREFOX === true;\n","import { SettingsProvider } from '@project/common/settings';\nimport { ExtensionSettingsStorage } from './extension-settings-storage';\nimport { isFirefoxBuild } from './build-flags';\nconst settings = new SettingsProvider(new ExtensionSettingsStorage());\n// As of this writing, session storage is not accessible to content scripts on Firefox so we use local storage instead.\n// Since unlike session storage, local storage is not automatically cleared, we clear it manually once a day.\nconst storage = isFirefoxBuild ? chrome.storage.local : chrome.storage.session;\nconst firefoxTtl = 3600 * 24 * 1000; // 1 day\nexport const fetchExtensionConfig = async (noCache = false) => {\n    if (!noCache) {\n        const cachedConfig = (await storage.get(['config'])).config;\n        if (cachedConfig === '-') {\n            return undefined;\n        }\n        if (cachedConfig !== undefined) {\n            if (typeof cachedConfig.ttl !== 'number' || Date.now() < cachedConfig.ttl) {\n                return cachedConfig;\n            }\n        }\n    }\n    try {\n        const asbplayerUrl = await settings.getSingle('streamingAppUrl');\n        const extensionJsonUrl = `${asbplayerUrl}/extension.json`;\n        const extensionJson = await (await fetch(extensionJsonUrl)).json();\n        if (validJson(extensionJson)) {\n            if (isFirefoxBuild) {\n                extensionJson.ttl = Date.now() + firefoxTtl;\n            }\n            await storage.set({ config: extensionJson });\n            return extensionJson;\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n    return undefined;\n};\nconst validJson = (json) => {\n    return json !== undefined && validLatest(json.latest) && validLanguages(json.languages);\n};\nconst validLatest = (json) => {\n    return typeof json.version === 'string' && typeof json.url === 'string';\n};\nconst validLanguages = (json) => {\n    if (json === undefined || typeof json !== 'object' || !Array.isArray(json)) {\n        return false;\n    }\n    for (const item of json) {\n        if (typeof item.code !== 'string' || typeof item.url !== 'string' || typeof item.version !== 'number') {\n            return false;\n        }\n    }\n    return true;\n};\n","import { fetchExtensionConfig } from './extension-config';\nimport { SettingsProvider, supportedLanguages as defaultSupportedLanguages } from '@project/common/settings';\nimport { ExtensionSettingsStorage } from './extension-settings-storage';\nconst stringsKeyForLang = (lang) => `locStrings-${lang}`;\nconst versionKeyForLang = (lang) => `locVersion-${lang}`;\nconst settings = new SettingsProvider(new ExtensionSettingsStorage());\nexport const fetchLocalization = async (lang) => {\n    return ((await cachedStringsForLang(lang)) ??\n        (await bundledStringsForLang(lang)) ??\n        (await bundledStringsForLang('en')));\n};\nexport const fetchSupportedLanguages = async () => {\n    const config = await fetchExtensionConfig();\n    if (config === undefined) {\n        return defaultSupportedLanguages;\n    }\n    return config.languages.map((c) => c.code);\n};\nexport const primeLocalization = async (lang) => {\n    try {\n        let config = await fetchExtensionConfig();\n        if (config === undefined) {\n            return;\n        }\n        const langConfig = config.languages.find((c) => c.code === lang) ??\n            (await fetchExtensionConfig(true))?.languages.find((c) => c.code === lang);\n        if (langConfig === undefined) {\n            return;\n        }\n        const versionKey = versionKeyForLang(lang);\n        const version = (await chrome.storage.local.get(versionKey))[versionKey];\n        if (version === undefined || version < langConfig.version) {\n            await fetchAndCache(langConfig);\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n};\nconst fetchAndCache = async ({ code, url, version }) => {\n    const asbplayerUrl = await settings.getSingle('streamingAppUrl');\n    const effectiveUrl = url.startsWith('http://') || url.startsWith('https://') ? url : `${asbplayerUrl}/${url}`;\n    try {\n        const strings = await (await fetch(effectiveUrl)).json();\n        if (typeof strings === 'object') {\n            const versionKey = versionKeyForLang(code);\n            const stringsKey = stringsKeyForLang(code);\n            await chrome.storage.local.set({ [stringsKey]: strings, [versionKey]: version });\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n};\nconst bundledStringsForLang = async (lang) => {\n    for (const defaultLang of defaultSupportedLanguages) {\n        if (lang === defaultLang) {\n            return {\n                lang,\n                strings: await (await fetch(chrome.runtime.getURL(`asbplayer-locales/${lang}.json`))).json(),\n            };\n        }\n    }\n    return undefined;\n};\nconst cachedStringsForLang = async (lang) => {\n    const stringsKey = stringsKeyForLang(lang);\n    const strings = (await chrome.storage.local.get(stringsKey))[stringsKey];\n    if (strings === undefined) {\n        return undefined;\n    }\n    return { lang, strings };\n};\n","export class WebSocketClient {\n    constructor() {\n        this._pongReceived = false;\n        this._pingPromises = [];\n    }\n    get socket() {\n        return this._socket;\n    }\n    async bind(url) {\n        if (this._pingInterval) {\n            clearInterval(this._pingInterval);\n        }\n        this._pingInterval = setInterval(() => {\n            if (this._lastPingTimestampMs !== undefined && !this._pongReceived) {\n                console.log('Did not receive pong - reconnecting');\n                for (const r of this._pingPromises) {\n                    r.reject('Timed out');\n                }\n                this._pingPromises = [];\n                this._connect(url);\n            }\n            else {\n                this.ping().catch(console.info);\n            }\n        }, 10000);\n        await this._connect(url);\n    }\n    async _connect(url) {\n        this._disconnect();\n        if (!url) {\n            throw new Error('Invalid URL');\n        }\n        return new Promise((resolve, reject) => {\n            this._connectPromise = { resolve, reject };\n            const socket = new WebSocket(url);\n            socket.onmessage = async (event) => {\n                if (event.data === 'PONG') {\n                    this._pongReceived = true;\n                    for (const p of this._pingPromises) {\n                        p.resolve(undefined);\n                    }\n                    this._pingPromises = [];\n                }\n                else {\n                    const payload = JSON.parse(event.data);\n                    if (payload.command === 'mine-subtitle') {\n                        const messageId = payload.messageId;\n                        const published = (await this.onMineSubtitle?.(payload)) ?? false;\n                        const response = {\n                            command: 'response',\n                            messageId,\n                            body: { published },\n                        };\n                        this._socket?.send(JSON.stringify(response));\n                    }\n                    else if (payload.command === 'load-subtitles') {\n                        const messageId = payload.messageId;\n                        await this.onLoadSubtitles?.(payload);\n                        const response = {\n                            command: 'response',\n                            messageId,\n                            body: {},\n                        };\n                        this._socket?.send(JSON.stringify(response));\n                    }\n                }\n            };\n            socket.onclose = (event) => {\n                console.log(`Socket closed - reason: ${event.reason}`);\n                this._connectPromise?.reject('Socket closed');\n                this._connectPromise = undefined;\n            };\n            socket.onerror = () => {\n                console.log('Socket error');\n                this._connectPromise?.reject('Socket error');\n                this._connectPromise = undefined;\n            };\n            socket.onopen = () => {\n                this.ping().catch(console.error);\n                this._connectPromise?.resolve(undefined);\n                this._connectPromise = undefined;\n            };\n            this._socket = socket;\n        });\n    }\n    async ping() {\n        return new Promise((resolve, reject) => {\n            if (!this._socket || this._socket.readyState !== this._socket.OPEN) {\n                reject('Not connected');\n                return;\n            }\n            this._socket.send('PING');\n            this._lastPingTimestampMs = Date.now();\n            this._pongReceived = false;\n            this._pingPromises.push({ resolve, reject });\n        });\n    }\n    _disconnect() {\n        if (!this._socket) {\n            return;\n        }\n        if (this._socket.readyState !== this._socket.CLOSED && this._socket.readyState !== this._socket.CLOSING) {\n            this._socket.close();\n        }\n        this._socket = undefined;\n    }\n    unbind() {\n        this._disconnect();\n        if (this._pingInterval !== undefined) {\n            clearInterval(this._pingInterval);\n            this._pingInterval = undefined;\n        }\n        for (const p of this._pingPromises) {\n            p.reject('Disconnecting');\n        }\n        this._pingPromises = [];\n        this._lastPingTimestampMs = undefined;\n        this._pongReceived = false;\n        this._connectPromise?.reject('Disconnecting');\n        this._connectPromise = undefined;\n        this.onMineSubtitle = undefined;\n    }\n}\n","import { ankiSettingsKeys } from '@project/common/settings';\nimport { WebSocketClient } from '@project/common/web-socket-client';\nimport { PostMineAction, } from '@project/common';\nimport { isFirefoxBuild } from './build-flags';\nlet client;\nexport const bindWebSocketClient = async (settings, tabRegistry) => {\n    if (isFirefoxBuild) {\n        // Firefox does not allow non-TLS websocket connections from pages served over https\n        // So the websocket interface simply does not work\n        return;\n    }\n    client?.unbind();\n    const url = await settings.getSingle('webSocketServerUrl');\n    if (!url) {\n        return;\n    }\n    client = new WebSocketClient();\n    client.bind(url);\n    client.onMineSubtitle = async ({ body: { fields: receivedFields, postMineAction: receivedPostMineAction }, }) => {\n        return new Promise((resolve, reject) => {\n            chrome.tabs.query({ active: true, currentWindow: true }, async (tabs) => {\n                const ankiSettings = await settings.get(ankiSettingsKeys);\n                const fields = receivedFields ?? {};\n                const word = fields[ankiSettings.wordField] || undefined;\n                const definition = fields[ankiSettings.definitionField] || undefined;\n                const text = fields[ankiSettings.sentenceField] || undefined;\n                const customFieldValues = Object.fromEntries(Object.entries(ankiSettings.customAnkiFields)\n                    .map(([asbplayerFieldName, ankiFieldName]) => {\n                    const fieldValue = fields[ankiFieldName];\n                    if (fieldValue === undefined) {\n                        return undefined;\n                    }\n                    return [asbplayerFieldName, fieldValue];\n                })\n                    .filter((entry) => entry !== undefined));\n                const postMineAction = receivedPostMineAction ?? PostMineAction.showAnkiDialog;\n                let published = false;\n                const publishToVideoElements = tabRegistry.publishCommandToVideoElements((videoElement) => {\n                    if (!videoElement.loadedSubtitles) {\n                        return undefined;\n                    }\n                    if (tabs.find((t) => t.id === videoElement.tab.id) === undefined) {\n                        return undefined;\n                    }\n                    published = true;\n                    const extensionToVideoCommand = {\n                        sender: 'asbplayer-extension-to-video',\n                        message: {\n                            command: 'copy-subtitle',\n                            word,\n                            definition,\n                            text,\n                            postMineAction,\n                            customFieldValues,\n                        },\n                        src: videoElement.src,\n                    };\n                    return extensionToVideoCommand;\n                });\n                const publishToAsbplayers = await tabRegistry.publishCommandToAsbplayers({\n                    commandFactory: (asbplayer) => {\n                        if (asbplayer.sidePanel || !asbplayer.loadedSubtitles) {\n                            return undefined;\n                        }\n                        published = true;\n                        const extensionToPlayerCommand = {\n                            sender: 'asbplayer-extension-to-player',\n                            message: {\n                                command: 'copy-subtitle-with-additional-fields',\n                                word,\n                                definition,\n                                text,\n                                postMineAction,\n                                customFieldValues,\n                            },\n                            asbplayerId: asbplayer.id,\n                        };\n                        return extensionToPlayerCommand;\n                    },\n                });\n                await publishToVideoElements;\n                await publishToAsbplayers;\n                resolve(published);\n            });\n        });\n    };\n    client.onLoadSubtitles = async (command) => {\n        const { files: subtitleFiles } = command.body;\n        const toggleVideoSelectCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'toggle-video-select',\n                subtitleFiles,\n            },\n        };\n        tabRegistry.publishCommandToVideoElementTabs((tab) => {\n            return toggleVideoSelectCommand;\n        });\n    };\n};\nexport const unbindWebSocketClient = () => {\n    client?.unbind();\n};\n","const key = 'tabRequestingActiveTabPermission';\nexport const getTabRequestingActiveTabPermission = async () => {\n    const savedTab = (await chrome.storage.session.get(key))[key];\n    if (savedTab === undefined) {\n        return undefined;\n    }\n    const currentTabInfo = await tabInfo(savedTab.tabId);\n    if (currentTabInfo === undefined || currentTabInfo.url !== savedTab.url) {\n        await chrome.storage.session.remove(key);\n        return undefined;\n    }\n    return { tabId: savedTab.tabId, src: savedTab.src };\n};\nexport const setRequestingActiveTabPermission = async (tabId, src, requesting) => {\n    if (requesting) {\n        const tab = await tabInfo(tabId);\n        if (tab === undefined) {\n            await chrome.storage.session.remove(key);\n        }\n        else {\n            await chrome.storage.session.set({ [key]: { tabId, src, url: tab.url } });\n        }\n    }\n    else {\n        await chrome.storage.session.remove(key);\n    }\n};\nconst tabInfo = async (tabId) => {\n    return (await chrome.tabs.query({})).find((t) => t.id === tabId);\n};\n","export default class Mp3Encoder {\n    static async encode(blob, workerFactory) {\n        return new Promise(async (resolve, reject) => {\n            var reader = new FileReader();\n            reader.onload = async (e) => {\n                try {\n                    const audioContext = new AudioContext();\n                    if (e.target === null) {\n                        reject(new Error('Could not obtain buffer to encode'));\n                        return;\n                    }\n                    const audioBuffer = await audioContext.decodeAudioData(e.target.result);\n                    const channels = [];\n                    for (let i = 0; i < audioBuffer.numberOfChannels; ++i) {\n                        channels.push(audioBuffer.getChannelData(i));\n                    }\n                    const workerValue = workerFactory();\n                    const worker = workerValue instanceof Worker ? workerValue : await workerValue;\n                    worker.postMessage({\n                        command: 'encode',\n                        audioBuffer: {\n                            channels: channels,\n                            numberOfChannels: audioBuffer.numberOfChannels,\n                            length: audioBuffer.length,\n                            sampleRate: audioBuffer.sampleRate,\n                        },\n                    });\n                    worker.onmessage = (e) => {\n                        resolve(new Blob(e.data.buffer, { type: 'audio/mp3' }));\n                        worker.terminate();\n                    };\n                    worker.onerror = (e) => {\n                        const error = e?.error ?? new Error('MP3 encoding failed: ' + e?.message);\n                        reject(error);\n                        worker.terminate();\n                    };\n                }\n                catch (e) {\n                    reject(e);\n                }\n            };\n            reader.readAsArrayBuffer(blob);\n        });\n    }\n}\n","export function bufferToBase64(buffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    const length = bytes.byteLength;\n    for (let i = 0; i < length; ++i) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return window.btoa(binary);\n}\nexport async function fileUrlToBase64(fileUrl) {\n    return bufferToBase64(await (await fetch(fileUrl)).arrayBuffer());\n}\nexport const blobToBase64 = (blob) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n            var reader = new FileReader();\n            reader.readAsDataURL(blob);\n            reader.onloadend = () => {\n                const result = reader.result;\n                const base64 = result.substring(result.indexOf(',') + 1);\n                resolve(base64);\n            };\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n};\nexport const base64ToBlob = (base64, mimeType) => {\n    const decoded = atob(base64);\n    const buffer = new Uint8Array(decoded.length);\n    for (let i = 0; i < buffer.length; ++i) {\n        buffer[i] = decoded.charCodeAt(i);\n    }\n    return new Blob([buffer.buffer], { type: mimeType });\n};\n","export const isFirefox = navigator.userAgent.toLowerCase().includes('firefox');\n","import Mp3Encoder from './mp3-encoder';\nimport { AudioErrorCode } from '@project/common';\nimport { download } from '@project/common/util';\nimport { isActiveBlobUrl } from '../blob-url';\nimport { base64ToBlob, blobToBase64 } from '../base64';\nimport { isFirefox } from '../browser-detection';\nconst maxPrefixLength = 24;\nconst makeFileName = (prefix, start) => {\n    return `${prefix.replaceAll(' ', '_').substring(0, Math.min(prefix.length, maxPrefixLength))}_${Math.floor(start)}`;\n};\nconst removeCallback = (callbacks, callback) => {\n    for (let i = callbacks.length - 1; i >= 0; --i) {\n        if (callback === callbacks[i]) {\n            callbacks.splice(i, 1);\n            break;\n        }\n    }\n};\nconst invokeCallbacks = (eventName, callbacks) => {\n    for (const callback of callbacks[eventName]) {\n        callback();\n    }\n};\nfunction recorderConfiguration() {\n    const AUDIO_TYPES = {\n        'audio/ogg;codecs=opus': 'ogg',\n        'audio/webm;codecs=opus': 'webm',\n    };\n    return Object.keys(AUDIO_TYPES)\n        .filter(MediaRecorder.isTypeSupported)\n        .map((t) => [t, AUDIO_TYPES[t]])[0];\n}\nclass Base64AudioData {\n    constructor(baseName, start, end, playbackRate, base64, extension, error) {\n        this._callbacks = { play: [], pause: [] };\n        this._name = makeFileName(baseName, start);\n        this._start = start;\n        this._end = end;\n        this.playbackRate = playbackRate;\n        this._base64 = base64;\n        this._extension = extension;\n        this._error = error;\n    }\n    get name() {\n        return this._name;\n    }\n    get extension() {\n        return this._extension;\n    }\n    get start() {\n        return this._start;\n    }\n    get end() {\n        return this._end;\n    }\n    async base64() {\n        return this._base64;\n    }\n    async blob() {\n        return await this._blob();\n    }\n    get playing() {\n        return this.playingAudio !== undefined;\n    }\n    onEvent(event, callback) {\n        this._callbacks[event].push(callback);\n        return () => {\n            removeCallback(this._callbacks[event], callback);\n        };\n    }\n    async play() {\n        if (this.playingAudio) {\n            this.stop();\n            invokeCallbacks('pause', this._callbacks);\n            return;\n        }\n        const blob = await this._blob();\n        const audio = new Audio();\n        audio.src = URL.createObjectURL(blob);\n        audio.preload = 'metadata';\n        this.playingAudio = audio;\n        await audio.play();\n        invokeCallbacks('play', this._callbacks);\n        this.stopAudioTimeout = setTimeout(() => {\n            this.stopAudio(audio);\n            this.playingAudio = undefined;\n            this.stopAudioTimeout = undefined;\n            invokeCallbacks('pause', this._callbacks);\n        }, (this._end - this._start) / this.playbackRate + 100);\n    }\n    stop() {\n        if (!this.playingAudio) {\n            return;\n        }\n        this.stopAudio(this.playingAudio);\n        clearTimeout(this.stopAudioTimeout);\n        this.playingAudio = undefined;\n        this.stopAudioTimeout = undefined;\n        invokeCallbacks('pause', this._callbacks);\n    }\n    stopAudio(audio) {\n        audio.pause();\n        const src = audio.src;\n        audio.removeAttribute('src');\n        audio.load();\n        URL.revokeObjectURL(src);\n    }\n    async _blob() {\n        if (!this.cachedBlob) {\n            this.cachedBlob = base64ToBlob(this._base64, `audio/${this.extension}`);\n        }\n        return this.cachedBlob;\n    }\n    slice(start, end) {\n        // Not supported\n        return this;\n    }\n    isSliceable() {\n        return false;\n    }\n    get error() {\n        return this._error;\n    }\n}\nclass ClippingCancelledError extends Error {\n}\nclass FileAudioClipper {\n    constructor(file, start, end, playbackRate, recorderMimeType, callbacks, trackId) {\n        this._file = file;\n        this._start = start;\n        this._end = end;\n        this._playbackRate = playbackRate;\n        this._recorderMimeType = recorderMimeType;\n        this._callbacks = callbacks;\n        this._trackId = trackId;\n    }\n    latestBlobPromise() {\n        return this._blobPromise;\n    }\n    get isPlayingAudibly() {\n        return ((!isFirefox && this._clippingAudioElement !== undefined && this._clippingAudibly === true) ||\n            this._playingAudioElement !== undefined);\n    }\n    get isRecordingSilently() {\n        return this._clippingAudioElement !== undefined && this._clippingAudibly === false;\n    }\n    get finishedRecording() {\n        return this._blob !== undefined;\n    }\n    async play() {\n        if (this._playingAudioElement) {\n            this._stopPlayingAudio();\n            invokeCallbacks('pause', this._callbacks);\n            return;\n        }\n        if (this._blob) {\n            const audio = await this._audioElement(URL.createObjectURL(this._blob), false);\n            audio.currentTime = 0;\n            await audio.play();\n            invokeCallbacks('play', this._callbacks);\n            this._playingAudioElement = audio;\n        }\n        else {\n            const audio = await this._audioElement(this._file.blobUrl, true);\n            audio.oncanplay = async (e) => {\n                audio.play();\n                invokeCallbacks('play', this._callbacks);\n                audio.oncanplay = null;\n            };\n            this._playingAudioElement = audio;\n        }\n        this._stopAudioTimeout = setTimeout(() => {\n            if (this._playingAudioElement !== undefined) {\n                this._stopAudio(this._playingAudioElement, true);\n                invokeCallbacks('pause', this._callbacks);\n                this._playingAudioElement = undefined;\n            }\n            this._stopAudioTimeout = undefined;\n        }, (this._end - this._start) / this._playbackRate + 100);\n    }\n    async clip(audible) {\n        this._stopClippingAudio();\n        this._clippingAudibly = audible;\n        this._blobPromise = new Promise(async (resolve, reject) => {\n            try {\n                const audio = await this._audioElement(this._file.blobUrl, true);\n                audio.oncanplay = async (e) => {\n                    audio.oncanplay = null;\n                    if (!audible) {\n                        // Direct audio to destination other than speakers\n                        const audioContext = new AudioContext();\n                        const destination = audioContext.createMediaStreamDestination();\n                        const source = audioContext.createMediaElementSource(audio);\n                        source.connect(destination);\n                    }\n                    await audio.play();\n                    if (audible) {\n                        invokeCallbacks('play', this._callbacks);\n                    }\n                    const stream = this._captureStream(audio);\n                    const recorder = new MediaRecorder(stream, { mimeType: this._recorderMimeType });\n                    const chunks = [];\n                    recorder.ondataavailable = (e) => {\n                        chunks.push(e.data);\n                    };\n                    let finished = false;\n                    recorder.onstop = (e) => {\n                        if (finished) {\n                            this._blob = new Blob(chunks, { type: this._recorderMimeType });\n                            resolve(this._blob);\n                        }\n                    };\n                    recorder.start();\n                    this._clippingAudioReject = reject;\n                    this._clippingAudioElement = audio;\n                    this._stopClippingTimeout = setTimeout(() => {\n                        this._stopAudio(audio, false);\n                        this._clippingAudioElement = undefined;\n                        this._stopClippingTimeout = undefined;\n                        this._clippingAudioReject = undefined;\n                        finished = true;\n                        recorder.stop();\n                        for (const track of stream.getAudioTracks()) {\n                            track.stop();\n                        }\n                    }, (this._end - this._start) / this._playbackRate + 100);\n                };\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n        return this._blobPromise;\n    }\n    stop() {\n        if (this._playingAudioElement) {\n            this._stopPlayingAudio();\n            invokeCallbacks('pause', this._callbacks);\n        }\n        if (this._clippingAudioElement) {\n            this._stopClippingAudio();\n            invokeCallbacks('pause', this._callbacks);\n        }\n    }\n    _stopClippingAudio() {\n        if (!this._clippingAudioElement) {\n            return;\n        }\n        this._stopAudio(this._clippingAudioElement, false);\n        clearTimeout(this._stopClippingTimeout);\n        this._clippingAudioReject?.(new ClippingCancelledError());\n        this._clippingAudioElement = undefined;\n        this._stopClippingTimeout = undefined;\n        this._clippingAudioReject = undefined;\n        this._blobPromise = undefined;\n    }\n    _stopPlayingAudio() {\n        if (!this._playingAudioElement) {\n            return;\n        }\n        this._stopAudio(this._playingAudioElement, true);\n        clearTimeout(this._stopAudioTimeout);\n        this._playingAudioElement = undefined;\n        this._stopAudioTimeout = undefined;\n    }\n    _audioElement(blobUrl, selectTrack) {\n        const audio = new Audio();\n        audio.preload = 'metadata';\n        audio.src = blobUrl;\n        return new Promise((resolve, reject) => {\n            audio.onloadedmetadata = () => {\n                if (selectTrack && this._trackId && audio.audioTracks && audio.audioTracks.length > 0) {\n                    // @ts-ignore\n                    for (const t of audio.audioTracks) {\n                        t.enabled = this._trackId === t.id;\n                    }\n                }\n                audio.currentTime = this._start / 1000;\n                audio.playbackRate = this._playbackRate;\n                resolve(audio);\n            };\n            audio.onerror = () => {\n                reject(audio.error?.message ?? 'Could not load audio');\n            };\n        });\n    }\n    _stopAudio(audio, revokeBlobUrl) {\n        audio.pause();\n        const src = audio.src;\n        audio.removeAttribute('src');\n        audio.load();\n        if (revokeBlobUrl) {\n            URL.revokeObjectURL(src);\n        }\n    }\n    _captureStream(audio) {\n        let stream;\n        if (typeof audio.captureStream === 'function') {\n            stream = audio.captureStream();\n        }\n        if (typeof audio.mozCaptureStream === 'function') {\n            stream = audio.mozCaptureStream();\n        }\n        if (stream === undefined) {\n            throw new Error('Unable to capture stream from audio');\n        }\n        const audioStream = new MediaStream();\n        for (const track of stream.getVideoTracks()) {\n            track.stop();\n        }\n        for (const track of stream.getAudioTracks()) {\n            if (track.enabled) {\n                audioStream.addTrack(track);\n            }\n        }\n        return audioStream;\n    }\n}\nclass FileAudioData {\n    constructor(file, start, end, playbackRate, recordAudibly, trackId, callbacks) {\n        const [recorderMimeType, recorderExtension] = recorderConfiguration();\n        this._recorderMimeType = recorderMimeType;\n        this._file = file;\n        this._name = makeFileName(file.name, start);\n        this._start = start;\n        this._end = end;\n        this._playbackRate = playbackRate;\n        this._recordAudibly = recordAudibly;\n        this._trackId = trackId;\n        this._callbacks = callbacks ?? { play: [], pause: [] };\n        this._extension = recorderExtension;\n        this._blobClipper = new FileAudioClipper(file, start, end, playbackRate, recorderMimeType, this._callbacks, trackId);\n    }\n    get name() {\n        return this._name;\n    }\n    get extension() {\n        return this._extension;\n    }\n    get start() {\n        return this._start;\n    }\n    get end() {\n        return this._end;\n    }\n    async base64() {\n        return new Promise(async (resolve, reject) => {\n            var reader = new FileReader();\n            const blob = await this.blob();\n            reader.readAsDataURL(blob);\n            reader.onloadend = () => {\n                const result = reader.result;\n                const base64 = result.substring(result.indexOf(',') + 1);\n                resolve(base64);\n            };\n        });\n    }\n    get playing() {\n        return this._playClipper?.isPlayingAudibly ?? false;\n    }\n    onEvent(event, callback) {\n        this._callbacks[event].push(callback);\n        return () => {\n            removeCallback(this._callbacks[event], callback);\n        };\n    }\n    async play() {\n        if (this._blobClipper.isPlayingAudibly) {\n            this._blobClipper.stop();\n            invokeCallbacks('pause', this._callbacks);\n        }\n        else if (this._playClipper?.isPlayingAudibly) {\n            this._playClipper.stop();\n            invokeCallbacks('pause', this._callbacks);\n        }\n        else if (this._blobClipper.isRecordingSilently) {\n            this._playClipper =\n                this._playClipper ??\n                    new FileAudioClipper(this._file, this._start, this._end, this._playbackRate, this._recorderMimeType, this._callbacks, this._trackId);\n            this._playClipper.play();\n            invokeCallbacks('play', this._callbacks);\n        }\n        else if (this._blobClipper.finishedRecording) {\n            this._blobClipper.play();\n            invokeCallbacks('play', this._callbacks);\n            this._playClipper = undefined;\n        }\n        else {\n            this._blobClipper\n                .clip(true)\n                .then(() => {\n                invokeCallbacks('pause', this._callbacks);\n            })\n                .catch((e) => {\n                if (!(e instanceof ClippingCancelledError)) {\n                    console.error(e);\n                }\n            });\n            invokeCallbacks('play', this._callbacks);\n        }\n    }\n    stop() {\n        this._blobClipper.stop();\n        this._playClipper?.stop();\n        invokeCallbacks('pause', this._callbacks);\n    }\n    async blob() {\n        return this._blobClipper.latestBlobPromise() ?? this._blobClipper.clip(this._recordAudibly);\n    }\n    slice(start, end) {\n        return new FileAudioData(this._file, start, end, this._playbackRate, this._recordAudibly, this._trackId);\n    }\n    isSliceable() {\n        return true;\n    }\n    get error() {\n        if (this._file.blobUrl) {\n            return isActiveBlobUrl(this._file.blobUrl) ? undefined : AudioErrorCode.fileLinkLost;\n        }\n        return undefined;\n    }\n}\nclass Mp3AudioData {\n    constructor(data, workerFactory) {\n        this.data = data;\n        this.workerFactory = workerFactory;\n    }\n    get name() {\n        return this.data.name;\n    }\n    get extension() {\n        return 'mp3';\n    }\n    get start() {\n        return this.data.start;\n    }\n    get end() {\n        return this.data.end;\n    }\n    async base64() {\n        return blobToBase64(await this.blob());\n    }\n    async play() {\n        await this.data.play();\n    }\n    get playing() {\n        return this.data.playing;\n    }\n    onEvent(name, callback) {\n        return this.onEvent(name, callback);\n    }\n    stop() {\n        this.data.stop();\n    }\n    async blob() {\n        if (!this._blob) {\n            this._blob = await Mp3Encoder.encode(await this.data.blob(), this.workerFactory);\n        }\n        return this._blob;\n    }\n    slice(start, end) {\n        return new Mp3AudioData(this.data.slice(start, end), this.workerFactory);\n    }\n    isSliceable() {\n        return this.data.isSliceable();\n    }\n    get error() {\n        return this.data.error;\n    }\n}\nclass EncodedAudioData {\n    constructor(data, encoder, extension) {\n        this._data = data;\n        this._encoder = encoder;\n        this._extension = extension;\n    }\n    get name() {\n        return this._data.name;\n    }\n    get extension() {\n        return 'mp3';\n    }\n    get start() {\n        return this._data.start;\n    }\n    get end() {\n        return this._data.end;\n    }\n    async base64() {\n        return blobToBase64(await this.blob());\n    }\n    async play() {\n        await this._data.play();\n    }\n    get playing() {\n        return this._data.playing;\n    }\n    onEvent(name, callback) {\n        return this._data.onEvent(name, callback);\n    }\n    stop() {\n        this._data.stop();\n    }\n    async blob() {\n        if (this._blob === undefined) {\n            this._blob = await this._encoder(await this._data.blob(), this._data.extension);\n        }\n        return this._blob;\n    }\n    slice(start, end) {\n        return new EncodedAudioData(this._data.slice(start, end), this._encoder, this._extension);\n    }\n    isSliceable() {\n        return this._data.isSliceable();\n    }\n    get error() {\n        return this._data.error;\n    }\n}\nexport default class AudioClip {\n    constructor(data) {\n        this.data = data;\n    }\n    static fromCard(card, paddingStart, paddingEnd, recordAudibly) {\n        if (card.audio) {\n            const start = card.audio.start ?? card.subtitle.start;\n            const end = card.audio.end ?? card.subtitle.end;\n            return AudioClip.fromBase64(card.subtitleFileName, Math.max(0, start - (card.audio.paddingStart ?? 0)), end + (card.audio.paddingEnd ?? 0), card.audio.playbackRate ?? 1, card.audio.base64, card.audio.extension, card.audio.error);\n        }\n        if (card.file) {\n            return AudioClip.fromFile(card.file, Math.max(0, card.subtitle.start - paddingStart), card.subtitle.end + paddingEnd, card.file?.playbackRate ?? 1, recordAudibly, card.file?.audioTrack);\n        }\n        return undefined;\n    }\n    static fromBase64(subtitleFileName, start, end, playbackRate, base64, extension, error) {\n        return new AudioClip(new Base64AudioData(subtitleFileName.substring(0, subtitleFileName.lastIndexOf('.')), start, end, playbackRate, base64, extension, error));\n    }\n    static fromFile(file, start, end, playbackRate, recordAudibly, trackId) {\n        return new AudioClip(new FileAudioData(file, start, end, playbackRate, recordAudibly, trackId));\n    }\n    get start() {\n        return this.data.start;\n    }\n    get end() {\n        return this.data.end;\n    }\n    get name() {\n        return this.data.name + '.' + this.data.extension;\n    }\n    get extension() {\n        return this.data.extension;\n    }\n    async play() {\n        await this.data.play();\n    }\n    get playing() {\n        return this.data.playing;\n    }\n    onEvent(name, callback) {\n        return this.data.onEvent(name, callback);\n    }\n    stop() {\n        this.data.stop();\n    }\n    async base64() {\n        return await this.data.base64();\n    }\n    async blob() {\n        return await this.data.blob();\n    }\n    async download() {\n        const blob = await this.data.blob();\n        download(blob, this.name);\n    }\n    toMp3(mp3WorkerFactory) {\n        if (this.data instanceof Mp3AudioData) {\n            return this;\n        }\n        if (this.data.extension === 'mp3') {\n            return this;\n        }\n        return new AudioClip(new Mp3AudioData(this.data, mp3WorkerFactory));\n    }\n    toEncoded(encoder, extension) {\n        return new AudioClip(new EncodedAudioData(this.data, encoder, extension));\n    }\n    slice(start, end) {\n        return new AudioClip(this.data.slice(start, end));\n    }\n    isSliceable() {\n        return this.data.isSliceable();\n    }\n    get error() {\n        return this.data.error;\n    }\n    get errorLocKey() {\n        if (this.data.error === undefined) {\n            return undefined;\n        }\n        switch (this.data.error) {\n            case AudioErrorCode.drmProtected:\n                return 'audioCaptureFailed.message';\n            case AudioErrorCode.fileLinkLost:\n                return 'ankiDialog.audioFileLinkLost';\n        }\n    }\n}\n","import { AudioClip } from '@project/common/audio-clip';\nimport { Image } from '@project/common';\nimport { HttpFetcher } from '@project/common';\nimport sanitize from 'sanitize-filename';\nimport { extractText, sourceString } from '@project/common/util';\nconst ankiQuerySpecialCharacters = ['\"', '*', '_', '\\\\', ':'];\nconst alphaNumericCharacters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nconst randomString = () => {\n    let string = '';\n    for (let i = 0; i < 8; ++i) {\n        string += alphaNumericCharacters.charAt(Math.floor(Math.random() * alphaNumericCharacters.length));\n    }\n    return string;\n};\n// Makes a file name unique with reasonable probability by appending a string of random characters.\n// Leaves more room for the original file name than Anki's appended hash when `storeMediaFile`\n// is called with `deleteExising` == true.\n// Also, AnkiConnect Android doesn't support `deleteExisting` anyway.\nconst makeUniqueFileName = (fileName) => {\n    const match = /(.*)\\.(.*)/.exec(fileName);\n    if (match === null || match.length < 3) {\n        // Give up (not likely since we expect fileName to have an extension)\n        return fileName;\n    }\n    const baseName = match[1];\n    const exension = match[2];\n    return `${baseName}_${randomString()}.${exension}`;\n};\nconst htmlTagRegexString = '<([^/ >])*[^>]*>(.*?)</\\\\1>';\n// Given <a><b>content</b></a> return ['<a><b>content</b></a>', '<b>content</b>', 'content']\nconst tagContent = (html) => {\n    const htmlTagRegex = new RegExp(htmlTagRegexString);\n    let content = html;\n    let contents = [html];\n    while (true) {\n        const match = htmlTagRegex.exec(content);\n        if (match === null || match.length < 3) {\n            break;\n        }\n        content = match[2];\n        contents.push(content);\n    }\n    return contents;\n};\nexport const inheritHtmlMarkup = (original, markedUp) => {\n    const htmlTagRegex = new RegExp(htmlTagRegexString, 'ig');\n    const markedUpWithoutBreaklines = markedUp.replaceAll('<br>', '');\n    let inherited = original;\n    while (true) {\n        const match = htmlTagRegex.exec(markedUpWithoutBreaklines);\n        if (match === null || match.length < 3) {\n            break;\n        }\n        let newInherited = inherited;\n        if (!inherited.includes(match[0])) {\n            const candidateTargets = tagContent(match[2]);\n            for (const target of candidateTargets) {\n                newInherited = inherited.replace(target, match[0]);\n                if (newInherited !== inherited) {\n                    break;\n                }\n            }\n        }\n        inherited = newInherited;\n    }\n    return inherited;\n};\nexport async function exportCard(card, ankiSettings, exportMode) {\n    const anki = new Anki(ankiSettings);\n    const source = sourceString(card.subtitleFileName, card.mediaTimestamp);\n    let audioClip = card.audio === undefined\n        ? undefined\n        : AudioClip.fromBase64(source, card.subtitle.start, card.subtitle.end, card.audio.playbackRate ?? 1, card.audio.base64, card.audio.extension, card.audio.error);\n    return await anki.export({\n        text: card.text ?? extractText(card.subtitle, card.surroundingSubtitles),\n        track1: extractText(card.subtitle, card.surroundingSubtitles, 0),\n        track2: extractText(card.subtitle, card.surroundingSubtitles, 1),\n        track3: extractText(card.subtitle, card.surroundingSubtitles, 2),\n        definition: card.definition,\n        audioClip,\n        image: card.image === undefined\n            ? undefined\n            : Image.fromBase64(source, card.subtitle.start, card.image.base64, card.image.extension, card.image.error),\n        word: card.word,\n        source: source,\n        url: card.url,\n        customFieldValues: card.customFieldValues ?? {},\n        tags: ankiSettings.tags,\n        mode: exportMode,\n    });\n}\nexport class Anki {\n    constructor(settingsProvider, fetcher = new HttpFetcher()) {\n        this.settingsProvider = settingsProvider;\n        this.fetcher = fetcher;\n    }\n    async deckNames(ankiConnectUrl) {\n        const response = await this._executeAction('deckNames', null, ankiConnectUrl);\n        return response.result;\n    }\n    async modelNames(ankiConnectUrl) {\n        const response = await this._executeAction('modelNames', null, ankiConnectUrl);\n        return response.result;\n    }\n    async modelFieldNames(modelName, ankiConnectUrl) {\n        const response = await this._executeAction('modelFieldNames', { modelName: modelName }, ankiConnectUrl);\n        return response.result;\n    }\n    async findNotesWithWord(word, ankiConnectUrl) {\n        const response = await this._executeAction('findNotes', { query: this.settingsProvider.wordField + ':' + this._escapeQuery(word) }, ankiConnectUrl);\n        return response.result;\n    }\n    async findNotesWithWordGui(word, ankiConnectUrl) {\n        const response = await this._executeAction('guiBrowse', { query: this.settingsProvider.wordField + ':' + this._escapeQuery(word) }, ankiConnectUrl);\n        return response.result;\n    }\n    _escapeQuery(query) {\n        let escaped = '';\n        for (let i = 0; i < query.length; ++i) {\n            const char = query[i];\n            if (ankiQuerySpecialCharacters.includes(char)) {\n                escaped += `\\\\${char}`;\n            }\n            else {\n                escaped += char;\n            }\n        }\n        return `\"${escaped}\"`;\n    }\n    async requestPermission(ankiConnectUrl) {\n        const response = await this._executeAction('requestPermission', null, ankiConnectUrl);\n        return response.result;\n    }\n    async version(ankiConnectUrl) {\n        const response = await this._executeAction('version', null, ankiConnectUrl);\n        return response.result;\n    }\n    async export({ text, track1, track2, track3, definition, audioClip, image, word, source, url, customFieldValues, tags, mode, ankiConnectUrl, }) {\n        const fields = {};\n        this._appendField(fields, this.settingsProvider.sentenceField, text, true);\n        this._appendField(fields, this.settingsProvider.track1Field, track1, true);\n        this._appendField(fields, this.settingsProvider.track2Field, track2, true);\n        this._appendField(fields, this.settingsProvider.track3Field, track3, true);\n        this._appendField(fields, this.settingsProvider.definitionField, definition, true);\n        this._appendField(fields, this.settingsProvider.wordField, word, false);\n        this._appendField(fields, this.settingsProvider.sourceField, source, false);\n        this._appendField(fields, this.settingsProvider.urlField, url, false);\n        if (customFieldValues) {\n            for (const customFieldName of Object.keys(customFieldValues)) {\n                this._appendField(fields, this.settingsProvider.customAnkiFields[customFieldName], customFieldValues[customFieldName], true);\n            }\n        }\n        const params = {\n            note: {\n                deckName: this.settingsProvider.deck,\n                modelName: this.settingsProvider.noteType,\n                tags: tags,\n                options: {\n                    allowDuplicate: false,\n                    duplicateScope: 'deck',\n                    duplicateScopeOptions: {\n                        deckName: this.settingsProvider.deck,\n                        checkChildren: false,\n                    },\n                },\n            },\n        };\n        const gui = mode === 'gui';\n        const updateLast = mode === 'updateLast';\n        if (this.settingsProvider.audioField && audioClip && audioClip.error === undefined) {\n            const sanitizedName = this._sanitizeFileName(audioClip.name);\n            const data = await audioClip.base64();\n            if (data) {\n                if (gui || updateLast) {\n                    const fileName = (await this._storeMediaFile(sanitizedName, data, ankiConnectUrl)).result;\n                    this._appendField(fields, this.settingsProvider.audioField, `[sound:${fileName}]`, false);\n                }\n                else {\n                    params.note['audio'] = {\n                        filename: sanitizedName,\n                        data,\n                        fields: [this.settingsProvider.audioField],\n                    };\n                }\n            }\n        }\n        if (this.settingsProvider.imageField && image && image.error === undefined) {\n            const sanitizedName = this._sanitizeFileName(image.name);\n            const data = await image.base64();\n            if (data) {\n                if (gui || updateLast) {\n                    const fileName = (await this._storeMediaFile(sanitizedName, data, ankiConnectUrl)).result;\n                    this._appendField(fields, this.settingsProvider.imageField, `<img src=\"${fileName}\">`, false);\n                }\n                else {\n                    params.note['picture'] = {\n                        filename: sanitizedName,\n                        data,\n                        fields: [this.settingsProvider.imageField],\n                    };\n                }\n            }\n        }\n        params.note['fields'] = fields;\n        switch (mode) {\n            case 'gui':\n                return (await this._executeAction('guiAddCards', params, ankiConnectUrl)).result;\n            case 'updateLast':\n                const recentNotes = (await this._executeAction('findNotes', { query: 'added:1' }, ankiConnectUrl)).result.sort();\n                if (recentNotes.length === 0) {\n                    throw new Error('Could not find note to update');\n                }\n                const lastNoteId = recentNotes[recentNotes.length - 1];\n                params.note['id'] = lastNoteId;\n                const infoResponse = await this._executeAction('notesInfo', { notes: [lastNoteId] });\n                if (infoResponse.result.length > 0 && infoResponse.result[0].noteId === lastNoteId) {\n                    const info = infoResponse.result[0];\n                    this._inheritHtmlMarkupFromField('sentenceField', info, params);\n                    this._inheritHtmlMarkupFromField('track1Field', info, params);\n                    this._inheritHtmlMarkupFromField('track2Field', info, params);\n                    this._inheritHtmlMarkupFromField('track3Field', info, params);\n                    await this._executeAction('updateNoteFields', params, ankiConnectUrl);\n                    if (tags.length > 0) {\n                        await this._executeAction('addTags', { notes: [lastNoteId], tags: tags.join(' ') }, ankiConnectUrl);\n                    }\n                    if (!this.settingsProvider.wordField || !info.fields) {\n                        return info.noteId;\n                    }\n                    const wordField = info.fields[this.settingsProvider.wordField];\n                    if (!wordField || !wordField.value) {\n                        return info.noteId;\n                    }\n                    return wordField.value;\n                }\n                throw new Error('Could not update last card because the card info could not be fetched');\n            case 'default':\n                return (await this._executeAction('addNote', params, ankiConnectUrl)).result;\n            default:\n                throw new Error('Unknown export mode: ' + mode);\n        }\n    }\n    _appendField(fields, fieldName, value, multiline) {\n        if (!fieldName || !value) {\n            return;\n        }\n        let newValue = multiline ? value.split('\\n').join('<br>') : value;\n        const existingValue = fields[fieldName];\n        if (existingValue) {\n            newValue = existingValue + '<br>' + newValue;\n        }\n        fields[fieldName] = newValue;\n    }\n    _sanitizeFileName(name) {\n        if (typeof name.toWellFormed === 'function') {\n            name = name.toWellFormed();\n        }\n        return sanitize(name, { replacement: '_' });\n    }\n    async _storeMediaFile(name, base64, ankiConnectUrl) {\n        return this._executeAction('storeMediaFile', { filename: makeUniqueFileName(name), data: base64, deleteExisting: false }, ankiConnectUrl);\n    }\n    _inheritHtmlMarkupFromField(fieldKey, info, params) {\n        const fieldName = this.settingsProvider[fieldKey];\n        if (fieldName &&\n            info.fields &&\n            typeof info.fields[fieldName]?.value === 'string' &&\n            typeof params.note.fields[fieldName] === 'string') {\n            params.note.fields[fieldName] = inheritHtmlMarkup(params.note.fields[fieldName], info.fields[fieldName].value);\n        }\n    }\n    async _executeAction(action, params, ankiConnectUrl) {\n        const body = {\n            action: action,\n            version: 6,\n        };\n        if (params) {\n            body['params'] = params;\n        }\n        const json = await this.fetcher.fetch(ankiConnectUrl || this.settingsProvider.ankiConnectUrl, body);\n        if (json.error) {\n            throw new Error(json.error);\n        }\n        return json;\n    }\n}\n","const e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:global,t=Object.keys,n=Array.isArray;function r(e,n){return\"object\"!=typeof n||t(n).forEach((function(t){e[t]=n[t]})),e}\"undefined\"==typeof Promise||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(e,t){return i.call(e,t)}function a(e,n){\"function\"==typeof n&&(n=n(s(e))),(\"undefined\"==typeof Reflect?t:Reflect.ownKeys)(n).forEach((t=>{l(e,t,n[t])}))}const u=Object.defineProperty;function l(e,t,n,s){u(e,t,r(n&&o(n,\"get\")&&\"function\"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},s))}function c(e){return{from:function(t){return e.prototype=Object.create(t.prototype),l(e.prototype,\"constructor\",e),{extend:a.bind(null,e.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(e,t){let n;return h(e,t)||(n=s(e))&&d(n,t)}const f=[].slice;function p(e,t,n){return f.call(e,t,n)}function y(e,t){return t(e)}function m(e){if(!e)throw new Error(\"Assertion Failed\")}function v(t){e.setImmediate?setImmediate(t):setTimeout(t,0)}function g(e,t){return e.reduce(((e,n,r)=>{var s=t(n,r);return s&&(e[s[0]]=s[1]),e}),{})}function b(e,t){if(o(e,t))return e[t];if(!t)return e;if(\"string\"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var i=b(e,t[r]);n.push(i)}return n}var a=t.indexOf(\".\");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:b(u,t.substr(a+1))}}function _(e,t,r){if(e&&void 0!==t&&(!(\"isFrozen\"in Object)||!Object.isFrozen(e)))if(\"string\"!=typeof t&&\"length\"in t){m(\"string\"!=typeof r&&\"length\"in r);for(var s=0,i=t.length;s<i;++s)_(e,t[s],r[s])}else{var a=t.indexOf(\".\");if(-1!==a){var u=t.substr(0,a),l=t.substr(a+1);if(\"\"===l)void 0===r?n(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=r;else{var c=e[u];c&&o(e,u)||(c=e[u]={}),_(c,l,r)}}else void 0===r?n(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function w(e){var t={};for(var n in e)o(e,n)&&(t[n]=e[n]);return t}const x=[].concat;function k(e){return x.apply([],e)}const E=\"Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\".split(\",\").concat(k([8,16,32,64].map((e=>[\"Int\",\"Uint\",\"Float\"].map((t=>t+e+\"Array\")))))).filter((t=>e[t])),P=E.map((t=>e[t]));g(E,(e=>[e,!0]));let K=null;function O(e){K=\"undefined\"!=typeof WeakMap&&new WeakMap;const t=S(e);return K=null,t}function S(e){if(!e||\"object\"!=typeof e)return e;let t=K&&K.get(e);if(t)return t;if(n(e)){t=[],K&&K.set(e,t);for(var r=0,i=e.length;r<i;++r)t.push(S(e[r]))}else if(P.indexOf(e.constructor)>=0)t=e;else{const n=s(e);for(var a in t=n===Object.prototype?{}:Object.create(n),K&&K.set(e,t),e)o(e,a)&&(t[a]=S(e[a]))}return t}const{toString:A}={};function C(e){return A.call(e).slice(8,-1)}const j=\"undefined\"!=typeof Symbol?Symbol.iterator:\"@@iterator\",D=\"symbol\"==typeof j?function(e){var t;return null!=e&&(t=e[j])&&t.apply(e)}:function(){return null},I={};function B(e){var t,r,s,i;if(1===arguments.length){if(n(e))return e.slice();if(this===I&&\"string\"==typeof e)return[e];if(i=D(e)){for(r=[];!(s=i.next()).done;)r.push(s.value);return r}if(null==e)return[e];if(\"number\"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const T=\"undefined\"!=typeof Symbol?e=>\"AsyncFunction\"===e[Symbol.toStringTag]:()=>!1;var R=\"undefined\"!=typeof location&&/^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);function F(e,t){R=e,M=t}var M=()=>!0;const N=!new Error(\"\").stack;function q(){if(N)try{throw q.arguments,new Error}catch(e){return e}return new Error}function $(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split(\"\\n\").length),n.split(\"\\n\").slice(t).filter(M).map((e=>\"\\n\"+e)).join(\"\")):\"\"}var U=[\"Unknown\",\"Constraint\",\"Data\",\"TransactionInactive\",\"ReadOnly\",\"Version\",\"NotFound\",\"InvalidState\",\"InvalidAccess\",\"Abort\",\"Timeout\",\"QuotaExceeded\",\"Syntax\",\"DataClone\"],L=[\"Modify\",\"Bulk\",\"OpenFailed\",\"VersionChange\",\"Schema\",\"Upgrade\",\"InvalidTable\",\"MissingAPI\",\"NoSuchDatabase\",\"InvalidArgument\",\"SubTransaction\",\"Unsupported\",\"Internal\",\"DatabaseClosed\",\"PrematureCommit\",\"ForeignAwait\"].concat(U),V={VersionChanged:\"Database version changed by other database connection\",DatabaseClosed:\"Database has been closed\",Abort:\"Transaction aborted\",TransactionInactive:\"Transaction has already completed or failed\",MissingAPI:\"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"};function W(e,t){this._e=q(),this.name=e,this.message=t}function Y(e,t){return e+\". Errors: \"+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join(\"\\n\")}function z(e,t,n,r){this._e=q(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Y(e,t)}function G(e,t){this._e=q(),this.name=\"BulkError\",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Y(e,t)}c(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+\": \"+this.message+$(this._e,2))}},toString:function(){return this.name+\": \"+this.message}}),c(z).from(W),c(G).from(W);var H=L.reduce(((e,t)=>(e[t]=t+\"Error\",e)),{});const Q=W;var X=L.reduce(((e,t)=>{var n=t+\"Error\";function r(e,r){this._e=q(),this.name=n,e?\"string\"==typeof e?(this.message=`${e}${r?\"\\n \"+r:\"\"}`,this.inner=r||null):\"object\"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=V[t]||n,this.inner=null)}return c(r).from(Q),e[t]=r,e}),{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var J=U.reduce(((e,t)=>(e[t+\"Error\"]=X[t],e)),{});var Z=L.reduce(((e,t)=>(-1===[\"Syntax\",\"Type\",\"Range\"].indexOf(t)&&(e[t+\"Error\"]=X[t]),e)),{});function ee(){}function te(e){return e}function ne(e,t){return null==e||e===te?t:function(n){return t(e(n))}}function re(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function se(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?re(r,this.onsuccess):r),s&&(this.onerror=this.onerror?re(s,this.onerror):s),void 0!==i?i:n}}function ie(e,t){return e===ee?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?re(n,this.onsuccess):n),r&&(this.onerror=this.onerror?re(r,this.onerror):r)}}function oe(e,t){return e===ee?t:function(n){var s=e.apply(this,arguments);r(n,s);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?re(i,this.onsuccess):i),o&&(this.onerror=this.onerror?re(o,this.onerror):o),void 0===s?void 0===a?void 0:a:r(s,a)}}function ae(e,t){return e===ee?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ue(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);if(n&&\"function\"==typeof n.then){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Z.ModifyError=z,Z.DexieError=W,Z.BulkError=G;var le={};const[ce,he,de]=\"undefined\"==typeof Promise?[]:(()=>{let e=Promise.resolve();if(\"undefined\"==typeof crypto||!crypto.subtle)return[e,s(e),e];const t=crypto.subtle.digest(\"SHA-512\",new Uint8Array([0]));return[t,s(t),e]})(),fe=he&&he.then,pe=ce&&ce.constructor,ye=!!de;var me=!1,ve=de?()=>{de.then(qe)}:e.setImmediate?setImmediate.bind(null,qe):e.MutationObserver?()=>{var e=document.createElement(\"div\");new MutationObserver((()=>{qe(),e=null})).observe(e,{attributes:!0}),e.setAttribute(\"i\",\"1\")}:()=>{setTimeout(qe,0)},ge=function(e,t){Oe.push([e,t]),_e&&(ve(),_e=!1)},be=!0,_e=!0,we=[],xe=[],ke=null,Ee=te,Pe={id:\"global\",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{ct(e[0],e[1])}catch(e){}}))}},Ke=Pe,Oe=[],Se=0,Ae=[];function Ce(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");this._listeners=[],this.onuncatched=ee,this._lib=!1;var t=this._PSD=Ke;if(R&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),\"function\"!=typeof e){if(e!==le)throw new TypeError(\"Not a function\");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Be(this,this._value))}this._state=null,this._value=null,++t.ref,Ie(this,e)}const je={get:function(){var e=Ke,t=Qe;function n(n,r){var s=!e.global&&(e!==Ke||t!==Qe);const i=s&&!et();var o=new Ce(((t,o)=>{Re(this,new De(ut(n,e,s,i),ut(r,e,s,i),t,o,e))}));return R&&Ne(o,this),o}return n.prototype=le,n},set:function(e){l(this,\"then\",e&&e.prototype===le?je:{get:function(){return e},set:je.set})}};function De(e,t,n,r,s){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=s}function Ie(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");var n=e._lib&&$e();t&&\"function\"==typeof t.then?Ie(e,((e,n)=>{t instanceof Ce?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Te(e)),n&&Ue()}}),Be.bind(null,e))}catch(t){Be(e,t)}}function Be(e,t){if(xe.push(t),null===e._state){var n=e._lib&&$e();t=Ee(t),e._state=!1,e._value=t,R&&null!==t&&\"object\"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((()=>{var n=d(t,\"stack\");t._promise=e,l(t,\"stack\",{get:()=>me?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){we.some((t=>t._value===e._value))||we.push(e)}(e),Te(e),n&&Ue()}}function Te(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Re(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===Se&&(++Se,ge((()=>{0==--Se&&Le()}),[]))}function Re(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Se,ge(Fe,[n,e,t])}else e._listeners.push(t)}function Fe(e,t,n){try{ke=t;var r,s=t._value;t._state?r=e(s):(xe.length&&(xe=[]),r=e(s),-1===xe.indexOf(s)&&function(e){var t=we.length;for(;t;)if(we[--t]._value===e._value)return void we.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{ke=null,0==--Se&&Le(),--n.psd.ref||n.psd.finalize()}}function Me(e,t,n){if(t.length===n)return t;var r=\"\";if(!1===e._state){var s,i,o=e._value;null!=o?(s=o.name||\"Error\",i=o.message||o,r=$(o,0)):(s=o,i=\"\"),t.push(s+(i?\": \"+i:\"\")+r)}return R&&((r=$(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Me(e._prev,t,n)),t}function Ne(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function qe(){$e()&&Ue()}function $e(){var e=be;return be=!1,_e=!1,e}function Ue(){var e,t,n;do{for(;Oe.length>0;)for(e=Oe,Oe=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Oe.length>0);be=!0,_e=!0}function Le(){var e=we;we=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ae.slice(0),n=t.length;n;)t[--n]()}function Ve(e){return new Ce(le,!1,e)}function We(e,t){var n=Ke;return function(){var r=$e(),s=Ke;try{return st(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{st(s,!1),r&&Ue()}}}a(Ce.prototype,{then:je,_then:function(e,t){Re(this,new De(null,null,e,t,Ke))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return\"function\"==typeof t?this.then(null,(e=>e instanceof t?n(e):Ve(e))):this.then(null,(e=>e&&e.name===t?n(e):Ve(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ve(t))))},stack:{get:function(){if(this._stack)return this._stack;try{me=!0;var e=Me(this,[],20).join(\"\\nFrom previous: \");return null!==this._state&&(this._stack=e),e}finally{me=!1}}},timeout:function(e,t){return e<1/0?new Ce(((n,r)=>{var s=setTimeout((()=>r(new X.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,s))})):this}}),\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&l(Ce.prototype,Symbol.toStringTag,\"Dexie.Promise\"),Pe.env=it(),a(Ce,{all:function(){var e=B.apply(null,arguments).map(tt);return new Ce((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((s,i)=>Ce.resolve(s).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Ce)return e;if(e&&\"function\"==typeof e.then)return new Ce(((t,n)=>{e.then(t,n)}));var t=new Ce(le,!0,e);return Ne(t,ke),t},reject:Ve,race:function(){var e=B.apply(null,arguments).map(tt);return new Ce(((t,n)=>{e.map((e=>Ce.resolve(e).then(t,n)))}))},PSD:{get:()=>Ke,set:e=>Ke=e},totalEchoes:{get:()=>Qe},newPSD:Je,usePSD:ot,scheduler:{get:()=>ge,set:e=>{ge=e}},rejectionMapper:{get:()=>Ee,set:e=>{Ee=e}},follow:(e,t)=>new Ce(((n,r)=>Je(((t,n)=>{var r=Ke;r.unhandleds=[],r.onunhandled=n,r.finalize=re((function(){!function(e){function t(){e(),Ae.splice(Ae.indexOf(t),1)}Ae.push(t),++Se,ge((()=>{0==--Se&&Le()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),pe&&(pe.allSettled&&l(Ce,\"allSettled\",(function(){const e=B.apply(null,arguments).map(tt);return new Ce((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,s)=>Ce.resolve(e).then((e=>r[s]={status:\"fulfilled\",value:e}),(e=>r[s]={status:\"rejected\",reason:e})).then((()=>--n||t(r)))))}))})),pe.any&&\"undefined\"!=typeof AggregateError&&l(Ce,\"any\",(function(){const e=B.apply(null,arguments).map(tt);return new Ce(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach(((e,i)=>Ce.resolve(e).then((e=>t(e)),(e=>{s[i]=e,--r||n(new AggregateError(s))}))))}))})));const Ye={awaits:0,echoes:0,id:0};var ze=0,Ge=[],He=0,Qe=0,Xe=0;function Je(e,t,n,s){var i=Ke,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Xe;var a=Pe.env;o.env=ye?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject,nthen:lt(a.nthen,o),gthen:lt(a.gthen,o)}:{},t&&r(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=ot(o,e,n,s);return 0===o.ref&&o.finalize(),u}function Ze(){return Ye.id||(Ye.id=++ze),++Ye.awaits,Ye.echoes+=100,Ye.id}function et(){return!!Ye.awaits&&(0==--Ye.awaits&&(Ye.id=0),Ye.echoes=100*Ye.awaits,!0)}function tt(e){return Ye.echoes&&e&&e.constructor===pe?(Ze(),e.then((e=>(et(),e)),(e=>(et(),ht(e))))):e}function nt(e){++Qe,Ye.echoes&&0!=--Ye.echoes||(Ye.echoes=Ye.id=0),Ge.push(Ke),st(e,!0)}function rt(){var e=Ge[Ge.length-1];Ge.pop(),st(e,!1)}function st(t,n){var r=Ke;if((n?!Ye.echoes||He++&&t===Ke:!He||--He&&t===Ke)||at(n?nt.bind(null,t):rt),t!==Ke&&(Ke=t,r===Pe&&(Pe.env=it()),ye)){var s=Pe.env.Promise,i=t.env;he.then=i.nthen,s.prototype.then=i.gthen,(r.global||t.global)&&(Object.defineProperty(e,\"Promise\",i.PromiseProp),s.all=i.all,s.race=i.race,s.resolve=i.resolve,s.reject=i.reject,i.allSettled&&(s.allSettled=i.allSettled),i.any&&(s.any=i.any))}}function it(){var t=e.Promise;return ye?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(e,\"Promise\"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:he.then,gthen:t.prototype.then}:{}}function ot(e,t,n,r,s){var i=Ke;try{return st(e,!0),t(n,r,s)}finally{st(i,!1)}}function at(e){fe.call(ce,e)}function ut(e,t,n,r){return\"function\"!=typeof e?e:function(){var s=Ke;n&&Ze(),st(t,!0);try{return e.apply(this,arguments)}finally{st(s,!1),r&&at(et)}}}function lt(e,t){return function(n,r){return e.call(this,ut(n,t),ut(r,t))}}-1===(\"\"+fe).indexOf(\"[native code]\")&&(Ze=et=ee);function ct(t,n){var s;try{s=n.onuncatched(t)}catch(e){}if(!1!==s)try{var i,o={promise:n,reason:t};if(e.document&&document.createEvent?((i=document.createEvent(\"Event\")).initEvent(\"unhandledrejection\",!0,!0),r(i,o)):e.CustomEvent&&r(i=new CustomEvent(\"unhandledrejection\",{detail:o}),o),i&&e.dispatchEvent&&(dispatchEvent(i),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(i)}catch(e){}R&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(e){}}var ht=Ce.reject;function dt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Ke.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn(\"Dexie: Need to reopen db\"),e._close(),e.open().then((()=>dt(e,t,n,r)))):ht(s)}return s._promise(t,((e,t)=>Je((()=>(Ke.trans=s,r(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return ht(new X.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ht(new X.DatabaseClosed);e.open().catch(ee)}return e._state.dbReadyPromise.then((()=>dt(e,t,n,r)))}const ft=String.fromCharCode(65535),pt=\"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\",yt=[],mt=\"undefined\"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vt=mt,gt=mt,bt=e=>!/(dexie\\.js|dexie\\.min\\.js)/.test(e);function _t(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const wt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xt(e){return\"string\"!=typeof e||/\\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=O(t))[e],t)}class kt{_trans(e,t,n){const r=this._tx||Ke.trans,s=this.name;function i(e,n,r){if(!r.schema[s])throw new X.NotFound(\"Table \"+s+\" not part of transaction\");return t(r.idbtrans,r)}const o=$e();try{return r&&r.db===this.db?r===Ke.trans?r._promise(e,i,n):Je((()=>r._promise(e,i,n)),{trans:r,transless:Ke.transless||Ke}):dt(this.db,e,[this.name],i)}finally{o&&Ue()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans(\"readonly\",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if(\"string\"==typeof e)return new this.db.WhereClause(this,e);if(n(e))return new this.db.WhereClause(this,`[${e.join(\"+\")}]`);const r=t(e);if(1===r.length)return this.where(r[0]).equals(e[r[0]]);const s=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&r.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>r.indexOf(e)>=0))))[0];if(s&&this.db._maxKey!==ft)return this.where(s.name).equals(s.keyPath.map((t=>e[t])));!s&&R&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${r.join(\"+\")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}const[u,l]=r.reduce((([t,r],s)=>{const o=i[s],u=e[s];return[t||o,t||!o?_t(r,o&&o.multi?e=>{const t=b(e,s);return n(t)&&t.some((e=>a(u,e)))}:e=>a(u,b(e,s))):r]}),[null,null]);return u?this.where(u.name).equals(e[u.keyPath]).filter(l):s?this.filter(l):this.where(r).equals(\"\")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,n(e)?`[${e.join(\"+\")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(o(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook(\"reading\",t),e}defineClass(){return this.mapToClass((function(e){r(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=xt(r)(e)),this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"add\",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}update(e,r){if(\"object\"!=typeof e||n(e))return this.where(\":id\").equals(e).modify(r);{const n=b(e,this.schema.primKey.keyPath);if(void 0===n)return ht(new X.InvalidArgument(\"Given object does not contain its primary key\"));try{\"function\"!=typeof r?t(r).forEach((t=>{_(e,t,r[t])})):r(e,{value:e,primKey:n})}catch(e){}return this.where(\":id\").equals(n).modify(r)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=xt(r)(e)),this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"put\",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}delete(e){return this._trans(\"readwrite\",(t=>this.core.mutate({trans:t,type:\"delete\",keys:[e]}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):void 0))}clear(){return this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"deleteRange\",range:wt}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans(\"readonly\",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans(\"readwrite\",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new X.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");if(r&&r.length!==e.length)throw new X.InvalidArgument(\"Arguments objects and keys must have the same length\");const o=e.length;let a=i&&n?e.map(xt(i)):e;return this.core.mutate({trans:t,type:\"add\",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new G(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans(\"readwrite\",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new X.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");if(r&&r.length!==e.length)throw new X.InvalidArgument(\"Arguments objects and keys must have the same length\");const o=e.length;let a=i&&n?e.map(xt(i)):e;return this.core.mutate({trans:t,type:\"put\",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new G(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans(\"readwrite\",(t=>this.core.mutate({trans:t,type:\"delete\",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new G(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Et(e){var r={},s=function(t,n){if(n){for(var s=arguments.length,i=new Array(s-1);--s;)i[s-1]=arguments[s];return r[t].subscribe.apply(null,i),e}if(\"string\"==typeof t)return r[t]};s.addEventType=a;for(var i=1,o=arguments.length;i<o;++i)a(arguments[i]);return s;function a(e,t,n){if(\"object\"==typeof e)return u(e);t||(t=ae),n||(n=ee);var i={subscribers:[],fire:n,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=t(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(t,n)}};return r[e]=s[e]=i,i}function u(e){t(e).forEach((function(t){var r=e[t];if(n(r))a(t,e[t][0],e[t][1]);else{if(\"asap\"!==r)throw new X.InvalidArgument(\"Invalid event config\");var s=a(t,te,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];s.subscribers.forEach((function(e){v((function(){e.apply(null,t)}))}))}))}}))}}function Pt(e,t){return c(t).from({prototype:e}),t}function Kt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ot(e,t){e.filter=_t(e.filter,t)}function St(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>_t(r(),t()):t,e.justLimit=n&&!r}function At(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new X.Schema(\"KeyPath \"+e.index+\" on object store \"+t.name+\" is not indexed\");return n}function Ct(e,t,n){const r=At(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:\"prev\"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function jt(e,t,n,r){const s=e.replayFilter?_t(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(e,n,r)=>{if(!s||s(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,u=\"\"+a;\"[object ArrayBuffer]\"===u&&(u=\"\"+new Uint8Array(a)),o(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),Dt(Ct(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Dt(Ct(e,r,n),_t(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Dt(e,t,n,r){var s=We(r?(e,t,s)=>n(r(e),t,s):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=ee}),(t=>{e.fail(t),n=ee}))||s(e.value,e,(e=>n=e)),n()}))}))}function It(e,t){try{const n=Bt(e),r=Bt(t);if(n!==r)return\"Array\"===n?1:\"Array\"===r?-1:\"binary\"===n?1:\"binary\"===r?-1:\"string\"===n?1:\"string\"===r?-1:\"Date\"===n?1:\"Date\"!==r?NaN:-1;switch(n){case\"number\":case\"Date\":case\"string\":return e>t?1:e<t?-1:0;case\"binary\":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Tt(e),Tt(t));case\"Array\":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n){const r=It(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Bt(e){const t=typeof e;if(\"object\"!==t)return t;if(ArrayBuffer.isView(e))return\"binary\";const n=C(e);return\"ArrayBuffer\"===n?\"binary\":n}function Tt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Rt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,ht.bind(null,n.error)):n.table._trans(\"readonly\",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ht.bind(null,t.error)):t.table._trans(\"readwrite\",e,\"locked\")}_addAlgorithm(e){var t=this._ctx;t.algorithm=_t(t.algorithm,e)}_iterate(e,t){return jt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&r(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>jt(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Kt(t,!0))return n.count({trans:e,query:{index:At(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return jt(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(\".\").reverse(),r=n[0],s=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o=\"next\"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,s),r=i(t,s);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if(\"next\"===t.dir&&Kt(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=At(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return jt(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Kt(t)?St(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):St(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),St(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Ot(this._ctx,(function(n,r,s){return!e(n.value)||(r(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Ot(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=_t(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=\"prev\"===this._ctx.dir?\"next\":\"prev\",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique=\"unique\",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if(\"next\"===t.dir&&Kt(t,!0)&&t.limit>0)return this._read((e=>{var n=At(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique=\"unique\",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Ot(this._ctx,(function(e){var t=e.primaryKey.toString(),r=o(n,t);return n[t]=!0,!r})),this}modify(e){var n=this._ctx;return this._write((r=>{var s;if(\"function\"==typeof e)s=e;else{var i=t(e),o=i.length;s=function(t){for(var n=!1,r=0;r<o;++r){var s=i[r],a=e[s];b(t,s)!==a&&(_(t,s,a),n=!0)}return n}}const a=n.table.core,{outbound:u,extractKey:l}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,h=[];let d=0;const f=[],p=(e,n)=>{const{failures:r,numFailures:s}=n;d+=e-s;for(let e of t(r))h.push(r[e])};return this.clone().primaryKeys().then((t=>{const i=o=>{const h=Math.min(c,t.length-o);return a.getMany({trans:r,keys:t.slice(o,o+h),cache:\"immutable\"}).then((d=>{const f=[],y=[],m=u?[]:null,v=[];for(let e=0;e<h;++e){const n=d[e],r={value:O(n),primKey:t[o+e]};!1!==s.call(r,r.value,r)&&(null==r.value?v.push(t[o+e]):u||0===It(l(n),l(r.value))?(y.push(r.value),u&&m.push(t[o+e])):(v.push(t[o+e]),f.push(r.value)))}const g=Kt(n)&&n.limit===1/0&&(\"function\"!=typeof e||e===Ft)&&{index:n.index,range:n.range};return Promise.resolve(f.length>0&&a.mutate({trans:r,type:\"add\",values:f}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(y.length>0||g&&\"object\"==typeof e)&&a.mutate({trans:r,type:\"put\",keys:m,values:y,criteria:g,changeSpec:\"function\"!=typeof e&&e}).then((e=>p(y.length,e))))).then((()=>(v.length>0||g&&e===Ft)&&a.mutate({trans:r,type:\"delete\",keys:v,criteria:g}).then((e=>p(v.length,e))))).then((()=>t.length>o+h&&i(o+c)))}))};return i(0).then((()=>{if(h.length>0)throw new z(\"Error modifying one or more objects\",h,d,f);return t.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Kt(e)&&(e.isPrimKey&&!gt||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,s=t;return e.table.core.count({trans:n,query:{index:r,range:s}}).then((t=>e.table.core.mutate({trans:n,type:\"deleteRange\",range:s}).then((({failures:e,lastResult:n,results:r,numFailures:s})=>{if(s)throw new z(\"Could not delete some values\",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Ft)}}const Ft=(e,t)=>t.value=null;function Mt(e,t){return e<t?-1:e===t?0:1}function Nt(e,t){return e>t?-1:e===t?0:1}function qt(e,t,n){var r=e instanceof Yt?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function $t(e){return new e.Collection(e,(()=>Wt(\"\"))).limit(0)}function Ut(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,u=0;u<o;++u){var l=t[u];if(l!==r[u])return s(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):s(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[u],l)<0&&(a=u)}return o<r.length&&\"next\"===i?e+n.substr(e.length):o<e.length&&\"prev\"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Lt(e,t,n,r){var s,i,o,a,u,l,c,h=n.length;if(!n.every((e=>\"string\"==typeof e)))return qt(e,\"String expected.\");function d(e){s=function(e){return\"next\"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return\"next\"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),o=\"next\"===e?Mt:Nt;var t=n.map((function(e){return{lower:i(e),upper:s(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),l=e,c=\"next\"===e?\"\":r}d(\"next\");var f=new e.Collection(e,(()=>Vt(a[0],u[h-1]+r)));f._ondirectionchange=function(e){d(e)};var p=0;return f._addAlgorithm((function(e,n,r){var s=e.key;if(\"string\"!=typeof s)return!1;var d=i(s);if(t(d,u,p))return!0;for(var f=null,y=p;y<h;++y){var m=Ut(s,d,a[y],u[y],o,l);null===m&&null===f?p=y+1:(null===f||o(f,m)>0)&&(f=m)}return n(null!==f?function(){e.continue(f+c)}:r),!1})),f}function Vt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Wt(e){return{type:1,lower:e,upper:e}}class Yt{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?$t(this):new this.Collection(this,(()=>Vt(e,t,!n,!r)))}catch(e){return qt(this,pt)}}equals(e){return null==e?qt(this,pt):new this.Collection(this,(()=>Wt(e)))}above(e){return null==e?qt(this,pt):new this.Collection(this,(()=>Vt(e,void 0,!0)))}aboveOrEqual(e){return null==e?qt(this,pt):new this.Collection(this,(()=>Vt(e,void 0,!1)))}below(e){return null==e?qt(this,pt):new this.Collection(this,(()=>Vt(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?qt(this,pt):new this.Collection(this,(()=>Vt(void 0,e)))}startsWith(e){return\"string\"!=typeof e?qt(this,\"String expected.\"):this.between(e,e+ft,!0,!0)}startsWithIgnoreCase(e){return\"\"===e?this.startsWith(e):Lt(this,((e,t)=>0===e.indexOf(t[0])),[e],ft)}equalsIgnoreCase(e){return Lt(this,((e,t)=>e===t[0]),[e],\"\")}anyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?$t(this):Lt(this,((e,t)=>-1!==t.indexOf(e)),e,\"\")}startsWithAnyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?$t(this):Lt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,ft)}anyOf(){const e=B.apply(I,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return qt(this,pt)}if(0===e.length)return $t(this);const n=new this.Collection(this,(()=>Vt(e[0],e[e.length-1])));n._ondirectionchange=n=>{t=\"next\"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,s,i)=>{const o=n.key;for(;t(o,e[r])>0;)if(++r,r===e.length)return s(i),!1;return 0===t(o,e[r])||(s((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[-(1/0),e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=B.apply(I,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return qt(this,pt)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-(1/0),t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,s=this._descending,i=this._min,o=this._max;if(0===e.length)return $t(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return qt(this,\"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\",X.InvalidArgument);const a=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let l,c=r;function h(e,t){return c(e[0],t[0])}try{l=e.reduce((function(e,t){let r=0,s=e.length;for(;r<s;++r){const s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=i(s[0],t[0]),s[1]=o(s[1],t[1]);break}}return r===s&&e.push(t),e}),[]),l.sort(h)}catch(e){return qt(this,pt)}let d=0;const f=u?e=>r(e,l[d][1])>0:e=>r(e,l[d][1])>=0,p=a?e=>s(e,l[d][0])>0:e=>s(e,l[d][0])>=0;let y=f;const m=new this.Collection(this,(()=>Vt(l[0][0],l[l.length-1][1],!a,!u)));return m._ondirectionchange=e=>{\"next\"===e?(y=f,c=r):(y=p,c=s),l.sort(h)},m._addAlgorithm(((e,t,n)=>{for(var s=e.key;y(s);)if(++d,d===l.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(s)||(0===this._cmp(s,l[d][1])||0===this._cmp(s,l[d][0])||t((()=>{c===r?e.continue(l[d][0]):e.continue(l[d][1])})),!1)})),m}startsWithAnyOf(){const e=B.apply(I,arguments);return e.every((e=>\"string\"==typeof e))?0===e.length?$t(this):this.inAnyRange(e.map((e=>[e,e+ft]))):qt(this,\"startsWithAnyOf() only works with strings\")}}function zt(e){return We((function(t){return Gt(t),e(t.target.error),!1}))}function Gt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Ht=Et(null,\"storagemutated\");class Qt{_lock(){return m(!Ke.global),++this._reculock,1!==this._reculock||Ke.global||(Ke.lockOwnerFor=this),this}_unlock(){if(m(!Ke.global),0==--this._reculock)for(Ke.global||(Ke.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Ke.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(m(!this.idbtrans),!e&&!t)switch(n&&n.name){case\"DatabaseClosedError\":throw new X.DatabaseClosed(n);case\"MissingAPIError\":throw new X.MissingAPI(n.message,n);default:throw new X.OpenFailed(n)}if(!this.active)throw new X.TransactionInactive;return m(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=We((t=>{Gt(t),this._reject(e.error)})),e.onabort=We((t=>{Gt(t),this.active&&this._reject(new X.Abort(e.error)),this.active=!1,this.on(\"abort\").fire(t)})),e.oncomplete=We((()=>{this.active=!1,this._resolve(),\"mutatedParts\"in e&&Ht.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if(\"readwrite\"===e&&\"readwrite\"!==this.mode)return ht(new X.ReadOnly(\"Transaction is readonly\"));if(!this.active)return ht(new X.TransactionInactive);if(this._locked())return new Ce(((r,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,s)},Ke])}));if(n)return Je((()=>{var e=new Ce(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Ce(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Ce.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new Ce(((e,r)=>{n.then((n=>t._waitingQueue.push(We(e.bind(null,n)))),(e=>t._waitingQueue.push(We(r.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(o(t,e))return t[e];const n=this.schema[e];if(!n)throw new X.NotFound(\"Table \"+e+\" not part of transaction\");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function Xt(e,t,n,r,s,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?\"&\":\"\")+(r?\"*\":\"\")+(s?\"++\":\"\")+Jt(t)}}function Jt(e){return\"string\"==typeof e?e:e?\"[\"+[].join.call(e,\"+\")+\"]\":\"\"}function Zt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:g(n,(e=>[e.name,e]))}}let en=e=>{try{return e.only([[]]),en=()=>[[]],[[]]}catch(e){return en=()=>ft,ft}};function tn(e){return null==e?()=>{}:\"string\"==typeof e?function(e){return 1===e.split(\".\").length?t=>t[e]:t=>b(t,e)}(e):t=>b(t,e)}function nn(e){return[].slice.call(e)}let rn=0;function sn(e){return null==e?\":id\":\"string\"==typeof e?e:`[${e.join(\"+\")}]`}function on(e,t,r){function s(e){if(3===e.type)return null;if(4===e.type)throw new Error(\"Cannot convert never type to IDBKeyRange\");const{lower:n,upper:r,lowerOpen:s,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!s):t.bound(n,r,!!s,!!i)}const{schema:i,hasGetAll:o}=function(e,t){const r=nn(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,s=n(t),i=null==t,o={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:s,keyPath:t,autoIncrement:r,unique:!0,extractKey:tn(t)},indexes:nn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:s,keyPath:i}=e,a={name:t,compound:n(i),keyPath:i,unique:r,multiEntry:s,extractKey:tn(i)};return o[sn(i)]=a,a})),getIndexByKeyPath:e=>o[sn(e)]};return o[\":id\"]=a.primaryKey,null!=t&&(o[sn(t)]=a.primaryKey),a}))},hasGetAll:r.length>0&&\"getAll\"in t.objectStore(r[0])&&!(\"undefined\"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604)}}(e,r),a=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:r,values:i,range:o}){return new Promise(((a,u)=>{a=We(a);const l=e.objectStore(t),c=null==l.keyPath,h=\"put\"===n||\"add\"===n;if(!h&&\"delete\"!==n&&\"deleteRange\"!==n)throw new Error(\"Invalid operation type: \"+n);const{length:d}=r||i||{length:1};if(r&&i&&r.length!==i.length)throw new Error(\"Given keys array must have same length as given values array.\");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],y=[];let m=0;const v=e=>{++m,Gt(e)};if(\"deleteRange\"===n){if(4===o.type)return a({numFailures:m,failures:y,results:[],lastResult:void 0});3===o.type?p.push(f=l.clear()):p.push(f=l.delete(s(o)))}else{const[e,t]=h?c?[i,r]:[i,null]:[r,null];if(h)for(let r=0;r<d;++r)p.push(f=t&&void 0!==t[r]?l[n](e[r],t[r]):l[n](e[r])),f.onerror=v;else for(let t=0;t<d;++t)p.push(f=l[n](e[t])),f.onerror=v}const g=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(y[t]=e.error))),a({numFailures:m,failures:y,results:\"delete\"===n?r:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{v(e),g(e)},f.onsuccess=g}))},getMany:({trans:e,keys:n})=>new Promise(((r,s)=>{r=We(r);const i=e.objectStore(t),o=n.length,a=new Array(o);let u,l=0,c=0;const h=e=>{const t=e.target;a[t._pos]=t.result,++c===l&&r(a)},d=zt(s);for(let e=0;e<o;++e)null!=n[e]&&(u=i.get(n[e]),u._pos=e,u.onsuccess=h,u.onerror=d,++l);0===l&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,s)=>{r=We(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=zt(s)})),query:function(e){return n=>new Promise(((r,i)=>{r=We(r);const{trans:o,values:a,limit:u,query:l}=n,c=u===1/0?void 0:u,{index:h,range:d}=l,f=o.objectStore(t),p=h.isPrimaryKey?f:f.index(h.name),y=s(d);if(0===u)return r({result:[]});if(e){const e=a?p.getAll(y,c):p.getAllKeys(y,c);e.onsuccess=e=>r({result:e.target.result}),e.onerror=zt(i)}else{let e=0;const t=a||!(\"openKeyCursor\"in p)?p.openCursor(y):p.openKeyCursor(y),n=[];t.onsuccess=s=>{const i=t.result;return i?(n.push(a?i.value:i.primaryKey),++e===u?r({result:n}):void i.continue()):r({result:n})},t.onerror=zt(i)}}))}(o),openCursor:function({trans:e,values:n,query:r,reverse:i,unique:o}){return new Promise(((a,u)=>{a=We(a);const{index:l,range:c}=r,h=e.objectStore(t),d=l.isPrimaryKey?h:h.index(l.name),f=i?o?\"prevunique\":\"prev\":o?\"nextunique\":\"next\",p=n||!(\"openKeyCursor\"in d)?d.openCursor(s(c),f):d.openKeyCursor(s(c),f);p.onerror=zt(u),p.onsuccess=We((t=>{const n=p.result;if(!n)return void a(null);n.___id=++rn,n.done=!1;const r=n.continue.bind(n);let s=n.continuePrimaryKey;s&&(s=s.bind(n));const i=n.advance.bind(n),o=()=>{throw new Error(\"Cursor not stopped\")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error(\"Cursor not started\")},n.fail=We(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=We(e),p.onerror=zt(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=o,e(t)}})),a=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error(\"Cursor behind last entry\")},n.stop()};return p.onsuccess=We((e=>{p.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=s,n.advance=i,a(),t},a(n)}),u)}))},count({query:e,trans:n}){const{index:r,range:i}=e;return new Promise(((e,o)=>{const a=n.objectStore(t),u=r.isPrimaryKey?a:a.index(r.name),l=s(i),c=l?u.count(l):u.count();c.onsuccess=We((t=>e(t.target.result))),c.onerror=zt(o)}))}}}(e))),u={};return a.forEach((e=>u[e.name]=e)),{stack:\"dbcore\",transaction:e.transaction.bind(e),table(e){if(!u[e])throw new Error(`Table '${e}' not found`);return u[e]},MIN_KEY:-1/0,MAX_KEY:en(t),schema:i}}function an({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},s){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(on(t,n,s),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function un({_novip:e},t,n,r){n.forEach((n=>{const s=r[n];t.forEach((t=>{const r=d(t,n);(!r||\"value\"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?l(t,n,{get(){return this.table(n)},set(e){u(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,s))}))}))}function ln({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function cn(e,t){return e._cfg.version-t._cfg.version}function hn(e,n,r,s){const i=e._dbSchema,o=e._createTransaction(\"readwrite\",e._storeNames,i);o.create(r),o._completion.catch(s);const a=o._reject.bind(o),u=Ke.transless||Ke;Je((()=>{Ke.trans=o,Ke.transless=u,0===n?(t(i).forEach((e=>{fn(r,e,i[e].primKey,i[e].indexes)})),an(e,r),Ce.follow((()=>e.on.populate.fire(o))).catch(a)):function({_novip:e},n,r,s){const i=[],o=e._versions;let a=e._dbSchema=yn(e,e.idbdb,s),u=!1;function l(){return i.length?Ce.resolve(i.shift()(r.idbtrans)).then(l):Ce.resolve()}return o.filter((e=>e._cfg.version>=n)).forEach((o=>{i.push((()=>{const i=a,l=o._cfg.dbschema;mn(e,i,s),mn(e,l,s),a=e._dbSchema=l;const c=dn(i,l);c.add.forEach((e=>{fn(s,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new X.Upgrade(\"Not yet support for changing primary key\");{const t=s.objectStore(e.name);e.add.forEach((e=>pn(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),pn(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const h=o._cfg.contentUpgrade;if(h&&o._cfg.version>n){an(e,s),r._memoizedTables={},u=!0;let n=w(l);c.del.forEach((e=>{n[e]=i[e]})),ln(e,[e.Transaction.prototype]),un(e,[e.Transaction.prototype],t(n),n),r.schema=n;const o=T(h);let a;o&&Ze();const d=Ce.follow((()=>{if(a=h(r),a&&o){var e=et.bind(null,null);a.then(e,e)}}));return a&&\"function\"==typeof a.then?Ce.resolve(a):d.then((()=>a))}})),i.push((t=>{if(!u||!vt){!function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t)}ln(e,[e.Transaction.prototype]),un(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),l().then((()=>{var e,n;n=s,t(e=a).forEach((t=>{n.db.objectStoreNames.contains(t)||fn(n,t,e[t].primKey,e[t].indexes)}))}))}(e,n,o,r).catch(a)}))}function dn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],i=t[r];if(s){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(\"\"+(s.primKey.keyPath||\"\")!=\"\"+(i.primKey.keyPath||\"\")||s.primKey.auto!==i.primKey.auto&&!mt)e.recreate=!0,n.change.push(e);else{const t=s.idxByName,r=i.idxByName;let o;for(o in t)r[o]||e.del.push(o);for(o in r){const n=t[o],s=r[o];n?n.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function fn(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>pn(s,e))),s}function pn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function yn(e,t,n){const r={};return p(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let s=t.keyPath;const i=Xt(Jt(s),s||\"\",!1,!1,!!t.autoIncrement,s&&\"string\"!=typeof s,!0),o=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);s=n.keyPath;var a=Xt(n.name,s,!!n.unique,!!n.multiEntry,!1,s&&\"string\"!=typeof s,!1);o.push(a)}r[e]=Zt(e,i,o)})),r}function mn({_novip:t},n,r){const s=r.db.objectStoreNames;for(let e=0;e<s.length;++e){const i=s[e],o=r.objectStore(i);t._hasGetAll=\"getAll\"in o;for(let e=0;e<o.indexNames.length;++e){const t=o.indexNames[e],r=o.index(t).keyPath,s=\"string\"==typeof r?r:\"[\"+p(r).join(\"+\")+\"]\";if(n[i]){const e=n[i].idxByName[s];e&&(e.name=t,delete n[i].idxByName[s],n[i].idxByName[t]=e)}}}\"undefined\"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604&&(t._hasGetAll=!1)}class vn{_parseStoresSpec(e,r){t(e).forEach((t=>{if(null!==e[t]){var s=e[t].split(\",\").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\\+\\+)/g,\"\"),s=/^\\[/.test(r)?r.match(/^\\[(.*)\\]$/)[1].split(\"+\"):r;return Xt(r,s||null,/\\&/.test(e),/\\*/.test(e),/\\+\\+/.test(e),n(s),0===t)})),i=s.shift();if(i.multi)throw new X.Schema(\"Primary key cannot be multi-valued\");s.forEach((e=>{if(e.auto)throw new X.Schema(\"Only primary key can be marked as autoIncrement (++)\");if(!e.keyPath)throw new X.Schema(\"Index must have a name and cannot be an empty string\")})),r[t]=Zt(t,i,s)}}))}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,e):e;const s=n._versions,i={};let o={};return s.forEach((e=>{r(i,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(i,o)})),n._dbSchema=o,ln(n,[n._allTables,n,n.Transaction.prototype]),un(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],t(o),o),n._storeNames=t(o),this}upgrade(e){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||ee,e),this}}function gn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new $n(\"__dbnames\",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:\"name\"})),n.table(\"dbnames\")}function bn(e){return e&&\"function\"==typeof e.databases}function _n(e){return Je((function(){return Ke.letThrough=!0,e()}))}function wn(){var e;return!navigator.userAgentData&&/Safari\\//.test(navigator.userAgent)&&!/Chrom(e|ium)\\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function xn(e){const n=e._state,{indexedDB:r}=e._deps;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then((()=>n.dbOpenError?ht(n.dbOpenError):e));R&&(n.openCanceller._stackHolder=q()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;const s=n.openCanceller;function i(){if(n.openCanceller!==s)throw new X.DatabaseClosed(\"db.open() was cancelled\")}let o=n.dbReadyResolve,a=null,u=!1;return Ce.race([s,(\"undefined\"==typeof navigator?Ce.resolve():wn()).then((()=>new Ce(((s,o)=>{if(i(),!r)throw new X.MissingAPI;const l=e.name,c=n.autoSchema?r.open(l):r.open(l,Math.round(10*e.verno));if(!c)throw new X.MissingAPI;c.onerror=zt(o),c.onblocked=We(e._fireOnBlocked),c.onupgradeneeded=We((t=>{if(a=c.transaction,n.autoSchema&&!e._options.allowEmptyDB){c.onerror=Gt,a.abort(),c.result.close();const e=r.deleteDatabase(l);e.onsuccess=e.onerror=We((()=>{o(new X.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{a.onerror=zt(o);var s=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;u=s<1,e._novip.idbdb=c.result,hn(e,s/10,a,o)}}),o),c.onsuccess=We((()=>{a=null;const r=e._novip.idbdb=c.result,i=p(r.objectStoreNames);if(i.length>0)try{const s=r.transaction(1===(o=i).length?o[0]:o,\"readonly\");n.autoSchema?function({_novip:e},n,r){e.verno=n.version/10;const s=e._dbSchema=yn(0,n,r);e._storeNames=p(n.objectStoreNames,0),un(e,[e._allTables],t(s),s)}(e,r,s):(mn(e,e._dbSchema,s),function(e,t){const n=dn(yn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,s)||console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.\")),an(e,s)}catch(e){}var o;yt.push(e),r.onversionchange=We((t=>{n.vcFired=!0,e.on(\"versionchange\").fire(t)})),r.onclose=We((t=>{e.on(\"close\").fire(t)})),u&&function({indexedDB:e,IDBKeyRange:t},n){!bn(e)&&\"__dbnames\"!==n&&gn(e,t).put({name:n}).catch(ee)}(e._deps,l),s()}),o)}))))]).then((()=>(i(),n.onReadyBeingFired=[],Ce.resolve(_n((()=>e.on.ready.fire(e.vip)))).then((function t(){if(n.onReadyBeingFired.length>0){let r=n.onReadyBeingFired.reduce(ue,ee);return n.onReadyBeingFired=[],Ce.resolve(_n((()=>r(e.vip)))).then(t)}}))))).finally((()=>{n.onReadyBeingFired=null,n.isBeingOpened=!1})).then((()=>e)).catch((t=>{n.dbOpenError=t;try{a&&a.abort()}catch(e){}return s===n.openCanceller&&e._close(),ht(t)})).finally((()=>{n.openComplete=!0,o()}))}function kn(e){var t=t=>e.next(t),r=i(t),s=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&\"function\"==typeof o.then?o.then(r,s):n(o)?Promise.all(o).then(r,s):r(o)}}return i(t)()}function En(e,t,n){var r=arguments.length;if(r<2)throw new X.InvalidArgument(\"Too few arguments\");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=k(s);return[e,i,n]}function Pn(e,t,n,r,s){return Ce.resolve().then((()=>{const i=Ke.transless||Ke,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn(\"Dexie: Need to reopen db\"),e._close(),e.open().then((()=>Pn(e,t,n,null,s)))):ht(r)}const u=T(s);let l;u&&Ze();const c=Ce.follow((()=>{if(l=s.call(o,o),l)if(u){var e=et.bind(null,null);l.then(e,e)}else\"function\"==typeof l.next&&\"function\"==typeof l.throw&&(l=kn(l))}),a);return(l&&\"function\"==typeof l.then?Ce.resolve(l).then((e=>o.active?e:ht(new X.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")))):c.then((()=>l))).then((e=>(r&&o._resolve(),o._completion.then((()=>e))))).catch((e=>(o._reject(e),ht(e))))}))}function Kn(e,t,r){const s=n(e)?e.slice():[e];for(let e=0;e<r;++e)s.push(t);return s}const On={stack:\"dbcore\",name:\"VirtualIndexMiddleware\",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},i=[];function o(e,t,n){const r=sn(e),a=s[r]=s[r]||[],u=null==e?0:\"string\"==typeof e?1:e.length,l=t>0,c={...n,isVirtual:l,keyTail:t,keyLength:u,extractKey:tn(e),unique:!l&&n.unique};if(a.push(c),c.isPrimaryKey||i.push(c),u>1){o(2===u?e[0]:e.slice(0,u-1),t+1,n)}return a.sort(((e,t)=>e.keyTail-t.keyTail)),c}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[\":id\"]=[a];for(const e of r.indexes)o(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,s=n.keyTail,{type:1===r.type?2:r.type,lower:Kn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:Kn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var r,s}const l={...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(e){const t=s[sn(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:s,keyLength:i}=t.query.index;if(!s)return n.openCursor(t);return n.openCursor(u(t)).then((n=>n&&function(n){const s=Object.create(n,{continue:{value:function(s){null!=s?n.continue(Kn(s,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,s){n.continuePrimaryKey(Kn(t,e.MAX_KEY,r),s)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return s}(n)))}};return l}}}};function Sn(e,n,r,s){return r=r||{},s=s||\"\",t(e).forEach((t=>{if(o(n,t)){var i=e[t],a=n[t];if(\"object\"==typeof i&&\"object\"==typeof a&&i&&a){const e=C(i);e!==C(a)?r[s+t]=n[t]:\"Object\"===e?Sn(i,a,r,s+t+\".\"):i!==a&&(r[s+t]=n[t])}else i!==a&&(r[s+t]=n[t])}else r[s+t]=void 0})),t(n).forEach((t=>{o(e,t)||(r[s+t]=n[t])})),r}const An={stack:\"dbcore\",name:\"HooksMiddleware\",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,s={...n,mutate(e){const s=Ke.trans,{deleting:i,creating:a,updating:u}=s.table(t).hook;switch(e.type){case\"add\":if(a.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"put\":if(a.fire===ee&&u.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"delete\":if(i.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"deleteRange\":if(i.fire===ee)break;return s._promise(\"readwrite\",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=Ke.trans,s=e.keys||function(e,t){return\"delete\"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!s)throw new Error(\"Keys missing\");return\"delete\"!==(e=\"add\"===e.type||\"put\"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return\"add\"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:\"immutable\"})}(n,e,s).then((l=>{const c=s.map(((n,s)=>{const c=l[s],h={onerror:null,onsuccess:null};if(\"delete\"===e.type)i.fire.call(h,n,c,t);else if(\"add\"===e.type||void 0===c){const i=a.fire.call(h,n,e.values[s],t);null==n&&null!=i&&(n=i,e.keys[s]=n,r.outbound||_(e.values[s],r.keyPath,n))}else{const r=Sn(c,e.values[s]),i=u.fire.call(h,r,n,c,t);if(i){const t=e.values[s];Object.keys(i).forEach((e=>{o(t,e)?t[e]=i[e]:_(t,e,i[e])}))}}return h}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<s.length;++r){const i=n?n[r]:s[r],o=c[r];null==i?o.onerror&&o.onerror(t[r]):o.onsuccess&&o.onsuccess(\"put\"===e.type&&l[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,s){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:s}).then((({result:n})=>l({type:\"delete\",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<s?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},s)))))}}};return s}})};function Cn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)0===It(t.keys[s],e[i])&&(r.push(n?O(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch(e){return null}}const jn={stack:\"dbcore\",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Cn(e.keys,e.trans._cache,\"clone\"===e.cache);return t?Ce.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:\"clone\"===e.cache?O(t):t},t)))},mutate:e=>(\"add\"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Dn(e){return!(\"from\"in e)}const In=function(e,t){if(!this){const t=new In;return e&&\"d\"in e&&r(t,e),t}r(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Bn(e,t,n){const s=It(t,n);if(isNaN(s))return;if(s>0)throw RangeError();if(Dn(e))return r(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(It(n,e.from)<0)return i?Bn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Mn(e);if(It(t,e.to)>0)return o?Bn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Mn(e);It(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),It(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Tn(e,i),o&&a&&Tn(e,o)}function Tn(e,t){Dn(t)||function e(t,{from:n,to:r,l:s,r:i}){Bn(t,n,r),s&&e(t,s),i&&e(t,i)}(e,t)}function Rn(e,t){const n=Fn(t);let r=n.next();if(r.done)return!1;let s=r.value;const i=Fn(e);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if(It(a.from,s.to)<=0&&It(a.to,s.from)>=0)return!0;It(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function Fn(e){let t=Dn(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&It(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||It(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Mn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),s=r>1?\"r\":r<-1?\"l\":\"\";if(s){const t=\"r\"===s?\"l\":\"r\",n={...e},r=e[s];e.from=r.from,e.to=r.to,e[s]=r[s],n[s]=r[t],e[t]=n,n.d=Nn(n)}e.d=Nn(e)}function Nn({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}a(In.prototype,{add(e){return Tn(this,e),this},addKey(e){return Bn(this,e,e),this},addKeys(e){return e.forEach((e=>Bn(this,e,e))),this},[j](){return Fn(this)}});const qn={stack:\"dbcore\",level:0,create:e=>{const r=e.schema.name,s=new In(e.MIN_KEY,e.MAX_KEY);return{...e,table:i=>{const o=e.table(i),{schema:a}=o,{primaryKey:u}=a,{extractKey:l,outbound:c}=u,h={...o,mutate:e=>{const t=e.trans,u=t.mutatedParts||(t.mutatedParts={}),l=e=>{const t=`idb://${r}/${i}/${e}`;return u[t]||(u[t]=new In)},c=l(\"\"),h=l(\":dels\"),{type:d}=e;let[f,p]=\"deleteRange\"===e.type?[e.range]:\"delete\"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const y=e.trans._cache;return o.mutate(e).then((e=>{if(n(f)){\"delete\"!==d&&(f=e.results),c.addKeys(f);const t=Cn(f,y);t||\"add\"===d||h.addKeys(f),(t||p)&&function(e,t,r,s){function i(t){const i=e(t.name||\"\");function o(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&n(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(r||s).forEach(((e,t)=>{const n=r&&o(r[t]),i=s&&o(s[t]);0!==It(n,i)&&(null!=n&&a(n),null!=i&&a(i))}))}t.indexes.forEach(i)}(l,a,t,p)}else if(f){const e={from:f.lower,to:f.upper};h.add(e),c.add(e)}else c.add(s),h.add(s),a.indexes.forEach((e=>l(e.name).add(s)));return e}))}},d=({query:{index:t,range:n}})=>{var r,s;return[t,new In(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(s=n.upper)&&void 0!==s?s:e.MAX_KEY)]},f={get:e=>[u,new In(e.key)],getMany:e=>[u,(new In).addKeys(e.keys)],count:d,query:d,openCursor:d};return t(f).forEach((e=>{h[e]=function(t){const{subscr:n}=Ke;if(n){const a=e=>{const t=`idb://${r}/${i}/${e}`;return n[t]||(n[t]=new In)},u=a(\"\"),h=a(\":dels\"),[d,p]=f[e](t);if(a(d.name||\"\").add(p),!d.isPrimaryKey){if(\"count\"!==e){const n=\"query\"===e&&c&&t.values&&o.query({...t,values:!1});return o[e].apply(this,arguments).then((r=>{if(\"query\"===e){if(c&&t.values)return n.then((({result:e})=>(u.addKeys(e),r)));const e=t.values?r.result.map(l):r.result;t.values?u.addKeys(e):h.addKeys(e)}else if(\"openCursor\"===e){const e=r,n=t.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(n&&u.addKey(e.primaryKey),e.value)}})}return r}))}h.add(s)}}return o[e].apply(this,arguments)}})),h}}}};class $n{constructor(e,t){this._middlewares={},this.verno=0;const n=$n.dependencies;this._options=t={addons:$n.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;s.dbReadyPromise=new Ce((e=>{s.dbReadyResolve=e})),s.openCanceller=new Ce(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=Et(this,\"populate\",\"blocked\",\"versionchange\",\"close\",{ready:[ue,ee]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(e=>(t,n)=>{$n.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Ce.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,Pt(Rt.prototype,(function(e,t){this.db=i;let n=wt,r=null;if(t)try{n=t()}catch(e){r=e}const s=e._ctx,o=s.table,a=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:\"next\",unique:\"\",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:a!==te?a:null}}))),this.Table=function(e){return Pt(kt.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Et(null,{creating:[se,ee],reading:[ne,te],updating:[oe,ee],deleting:[ie,ee]})}))}(this),this.Transaction=function(e){return Pt(Qt.prototype,(function(t,n,r,s,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Et(this,\"complete\",\"error\",\"abort\"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),ht(e)}))}))}(this),this.Version=function(e){return Pt(vn.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Pt(Yt.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:\":id\"===n?null:n,or:r};const s=e._deps.indexedDB;if(!s)throw new X.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on(\"versionchange\",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on(\"blocked\",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=en(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on(\"blocked\").fire(e),yt.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on(\"versionchange\").fire(e)))},this.use(On),this.use(An),this.use(qn),this.use(jn),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new X.Type(\"Given version is not a positive number\");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema(\"Cannot add version when database is open\");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(cn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Ke.letThrough||this._vip)?e():new Ce(((e,t)=>{if(this._state.openComplete)return t(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new X.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==n?10:n,name:r}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return xn(this)}_close(){const e=this._state,t=yt.indexOf(this);if(t>=0&&yt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Ce((t=>{e.dbReadyResolve=t})),e.openCanceller=new Ce(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new X.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Ce(((n,r)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=We((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!bn(e)&&\"__dbnames\"!==n&&gn(e,t).delete(n).catch(ee)}(this._deps,this.name),n()})),e.onerror=zt(r),e.onblocked=this._fireOnBlocked};if(e)throw new X.InvalidArgument(\"Arguments not allowed in db.delete()\");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&\"DatabaseClosed\"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=En.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Ke.trans;r&&r.db===this&&-1===e.indexOf(\"!\")||(r=null);const s=-1!==e.indexOf(\"?\");let i,o;e=e.replace(\"!\",\"\").replace(\"?\",\"\");try{if(o=t.map((e=>{var t=e instanceof this.Table?e.name:e;if(\"string\"!=typeof t)throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");return t})),\"r\"==e||\"readonly\"===e)i=\"readonly\";else{if(\"rw\"!=e&&\"readwrite\"!=e)throw new X.InvalidArgument(\"Invalid transaction mode: \"+e);i=\"readwrite\"}if(r){if(\"readonly\"===r.mode&&\"readwrite\"===i){if(!s)throw new X.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");r=null}r&&o.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new X.SubTransaction(\"Table \"+e+\" not included in parent transaction.\");r=null}})),s&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):ht(e)}const a=Pn.bind(null,this,i,o,r,n);return r?r._promise(i,a,\"lock\"):Ke.trans?ot(Ke.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!o(this._allTables,e))throw new X.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Un=\"undefined\"!=typeof Symbol&&\"observable\"in Symbol?Symbol.observable:\"@@observable\";class Ln{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&\"function\"!=typeof e?e:{next:e,error:t,complete:n})}[Un](){return this}}function Vn(e,n){return t(n).forEach((t=>{Tn(e[t]||(e[t]=new In),n[t])})),e}function Wn(e){return new Ln((n=>{const r=T(e);let s=!1,i={},o={};const a={get closed(){return s},unsubscribe:()=>{s=!0,Ht.storagemutated.unsubscribe(h)}};n.start&&n.start(a);let u=!1,l=!1;function c(){return t(o).some((e=>i[e]&&Rn(i[e],o[e])))}const h=e=>{Vn(i,e),c()&&d()},d=()=>{if(u||s)return;i={};const t={},f=function(t){r&&Ze();const n=()=>Je(e,{subscr:t,trans:null}),s=Ke.trans?ot(Ke.transless,n):n();return r&&s.then(et,et),s}(t);l||(Ht(\"storagemutated\",h),l=!0),u=!0,Promise.resolve(f).then((e=>{u=!1,s||(c()?d():(i={},o=t,n.next&&n.next(e)))}),(e=>{u=!1,n.error&&n.error(e),a.unsubscribe()}))};return d(),a}))}let Yn;try{Yn={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(e){Yn={indexedDB:null,IDBKeyRange:null}}const zn=$n;function Gn(e){let t=Hn;try{Hn=!0,Ht.storagemutated.fire(e)}finally{Hn=t}}a(zn,{...Z,delete:e=>new zn(e,{addons:[]}).delete(),exists:e=>new zn(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch(\"NoSuchDatabaseError\",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return bn(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>\"__dbnames\"!==e)))):gn(e,t).toCollection().primaryKeys()}(zn.dependencies).then(e)}catch(e){return ht(new X.MissingAPI)}},defineClass:()=>function(e){r(this,e)},ignoreTransaction:e=>Ke.trans?ot(Ke.transless,e):e(),vip:_n,async:function(e){return function(){try{var t=kn(e.apply(this,arguments));return t&&\"function\"==typeof t.then?t:Ce.resolve(t)}catch(e){return ht(e)}}},spawn:function(e,t,n){try{var r=kn(e.apply(n,t||[]));return r&&\"function\"==typeof r.then?r:Ce.resolve(r)}catch(e){return ht(e)}},currentTransaction:{get:()=>Ke.trans||null},waitFor:function(e,t){const n=Ce.resolve(\"function\"==typeof e?zn.ignoreTransaction(e):e).timeout(t||6e4);return Ke.trans?Ke.trans.waitFor(n):n},Promise:Ce,debug:{get:()=>R,set:e=>{F(e,\"dexie\"===e?()=>!0:bt)}},derive:c,extend:r,props:a,override:y,Events:Et,on:Ht,liveQuery:Wn,extendObservabilitySet:Vn,getByKeyPath:b,setByKeyPath:_,delByKeyPath:function(e,t){\"string\"==typeof t?_(e,t,void 0):\"length\"in t&&[].map.call(t,(function(t){_(e,t,void 0)}))},shallowClone:w,deepClone:O,getObjectDiff:Sn,cmp:It,asap:v,minKey:-(1/0),addons:[],connections:yt,errnames:H,dependencies:Yn,semVer:\"3.2.3\",version:\"3.2.3\".split(\".\").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),zn.maxKey=en(zn.dependencies.IDBKeyRange),\"undefined\"!=typeof dispatchEvent&&\"undefined\"!=typeof addEventListener&&(Ht(\"storagemutated\",(e=>{if(!Hn){let t;mt?(t=document.createEvent(\"CustomEvent\"),t.initCustomEvent(\"x-storagemutated-1\",!0,!0,e)):t=new CustomEvent(\"x-storagemutated-1\",{detail:e}),Hn=!0,dispatchEvent(t),Hn=!1}})),addEventListener(\"x-storagemutated-1\",(({detail:e})=>{Hn||Gn(e)})));let Hn=!1;if(\"undefined\"!=typeof BroadcastChannel){const e=new BroadcastChannel(\"x-storagemutated-1\");\"function\"==typeof e.unref&&e.unref(),Ht(\"storagemutated\",(t=>{Hn||e.postMessage(t)})),e.onmessage=e=>{e.data&&Gn(e.data)}}else if(\"undefined\"!=typeof self&&\"undefined\"!=typeof navigator){Ht(\"storagemutated\",(e=>{try{Hn||(\"undefined\"!=typeof localStorage&&localStorage.setItem(\"x-storagemutated-1\",JSON.stringify({trig:Math.random(),changedParts:e})),\"object\"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:\"x-storagemutated-1\",changedParts:e}))))}catch(e){}})),\"undefined\"!=typeof addEventListener&&addEventListener(\"storage\",(e=>{if(\"x-storagemutated-1\"===e.key){const t=JSON.parse(e.newValue);t&&Gn(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener(\"message\",(function({data:e}){e&&\"x-storagemutated-1\"===e.type&&Gn(e.changedParts)}))}Ce.rejectionMapper=function(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!J[e.name])return e;var n=new J[e.name](t||e.message,e);return\"stack\"in e&&l(n,\"stack\",{get:function(){return this.inner.stack}}),n},F(R,bt);export{$n as Dexie,In as RangeSet,$n as default,Wn as liveQuery,Tn as mergeRanges,Rn as rangesOverlap};","import Dexie, { liveQuery } from 'dexie';\nclass CopyHistoryDatabase extends Dexie {\n    constructor() {\n        super('CopyHistoryDatabase');\n        this.version(1).stores({\n            copyHistoryItems: '++index,id,timestamp',\n        });\n        this.version(2)\n            .stores({\n            copyHistoryItems: '++index,id,timestamp',\n        })\n            .upgrade((trans) => {\n            return trans\n                .table('copyHistoryItems')\n                .toCollection()\n                .modify((item) => {\n                const subtitle = {\n                    text: item.text,\n                    textImage: item.textImage,\n                    start: item.start,\n                    end: item.end,\n                    originalStart: item.originalStart,\n                    originalEnd: item.originalEnd,\n                    track: item.track,\n                };\n                item.subtitle = subtitle;\n                delete item.text;\n                delete item.textImage;\n                delete item.start;\n                delete item.end;\n                delete item.originalStart;\n                delete item.originalEnd;\n                delete item.track;\n                if (item.videoFileName || item.audioFileName) {\n                    const file = {\n                        name: item.videoFileName || item.audioFileName,\n                        blobUrl: '',\n                        playbackRate: item.filePlaybackRate,\n                        audioTrack: item.audioTrack,\n                    };\n                    item.file = file;\n                    delete item.videoFileName;\n                    delete item.audioFileName;\n                    delete item.filePlaybackRate;\n                    delete item.audioTrack;\n                }\n            });\n        });\n    }\n}\nexport class IndexedDBCopyHistoryRepository {\n    constructor(limit) {\n        this._db = new CopyHistoryDatabase();\n        this._limit = limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n    }\n    async clear() {\n        await this._db.copyHistoryItems.clear();\n    }\n    async fetch(count) {\n        if (count <= 0) {\n            return [];\n        }\n        const result = await await this._db.copyHistoryItems.reverse().limit(count).toArray();\n        result.reverse();\n        return result;\n    }\n    liveFetch(count, callback) {\n        const observable = liveQuery(() => {\n            return this.fetch(count);\n        });\n        const subscription = observable.subscribe(callback);\n        return () => subscription.unsubscribe();\n    }\n    async save(item) {\n        if (this._limit <= 0) {\n            return;\n        }\n        const record = {\n            id: item.id,\n            timestamp: item.timestamp,\n            subtitle: item.subtitle,\n            surroundingSubtitles: item.surroundingSubtitles,\n            subtitleFileName: item.subtitleFileName,\n            url: item.url,\n            image: item.image,\n            audio: item.audio,\n            file: item.file,\n            mediaTimestamp: item.mediaTimestamp,\n        };\n        const existingPrimaryKeys = await this._db.copyHistoryItems.where('id').equals(item.id).primaryKeys();\n        if (existingPrimaryKeys.length > 0) {\n            record.index = existingPrimaryKeys[0];\n        }\n        const index = await this._db.copyHistoryItems.put(record);\n        await this._prune(index);\n    }\n    async _prune(lastIndex) {\n        const size = await this._db.copyHistoryItems.count();\n        if (size > this._limit) {\n            const keys = await this._db.copyHistoryItems\n                .where('index')\n                .belowOrEqual(lastIndex - this._limit)\n                .primaryKeys();\n            if (keys.length > 0) {\n                await this._db.copyHistoryItems.bulkDelete(keys);\n            }\n        }\n    }\n    async delete(id) {\n        const keys = await this._db.copyHistoryItems.where('id').equals(id).primaryKeys();\n        await this._db.copyHistoryItems.bulkDelete(keys);\n    }\n}\n","export const isMobile = navigator.userAgent.toLowerCase().includes('android') ?? navigator.userAgentData?.mobile ?? false;\n","const shouldShowKey = 'shouldShowUpdateAlert';\nconst lastUpdateAlertVersionKey = 'lastUpdateAlertVersion';\nexport const enqueueUpdateAlert = async () => {\n    const lastUpdateVersion = (await chrome.storage.local.get(lastUpdateAlertVersionKey))[lastUpdateAlertVersionKey];\n    if (lastUpdateVersion === chrome.runtime.getManifest().version) {\n        return;\n    }\n    await chrome.storage.local.set({ [shouldShowKey]: true });\n};\nexport const shouldShowUpdateAlert = async () => {\n    const shouldShow = (await chrome.storage.local.get({ [shouldShowKey]: false }))[shouldShowKey];\n    if (shouldShow) {\n        await chrome.storage.local.remove(shouldShowKey);\n        await chrome.storage.local.set({ [lastUpdateAlertVersionKey]: chrome.runtime.getManifest().version });\n    }\n    return shouldShow;\n};\n","import TabRegistry from './services/tab-registry';\nimport ImageCapturer from './services/image-capturer';\nimport VideoHeartbeatHandler from './handlers/video/video-heartbeat-handler';\nimport RecordMediaHandler from './handlers/video/record-media-handler';\nimport RerecordMediaHandler from './handlers/video/rerecord-media-handler';\nimport StartRecordingMediaHandler from './handlers/video/start-recording-media-handler';\nimport StopRecordingMediaHandler from './handlers/video/stop-recording-media-handler';\nimport ToggleSubtitlesHandler from './handlers/video/toggle-subtitles-handler';\nimport SyncHandler from './handlers/video/sync-handler';\nimport HttpPostHandler from './handlers/video/http-post-handler';\nimport VideoToAsbplayerCommandForwardingHandler from './handlers/video/video-to-asbplayer-command-forwarding-handler';\nimport AsbplayerToVideoCommandForwardingHandler from './handlers/asbplayer/asbplayer-to-video-command-forwarding-handler';\nimport AsbplayerV2ToVideoCommandForwardingHandler from './handlers/asbplayerv2/asbplayer-v2-to-video-command-forwarding-handler';\nimport AsbplayerHeartbeatHandler from './handlers/asbplayerv2/asbplayer-heartbeat-handler';\nimport RefreshSettingsHandler from './handlers/popup/refresh-settings-handler';\nimport TakeScreenshotHandler from './handlers/video/take-screenshot-handler';\nimport AudioRecorderService from './services/audio-recorder-service';\nimport AudioBase64Handler from './handlers/offscreen-document/audio-base-64-handler';\nimport AckTabsHandler from './handlers/asbplayerv2/ack-tabs-handler';\nimport OpenExtensionShortcutsHandler from './handlers/asbplayerv2/open-extension-shortcuts-handler';\nimport ExtensionCommandsHandler from './handlers/asbplayerv2/extension-commands-handler';\nimport OpenAsbplayerSettingsHandler from './handlers/video/open-asbplayer-settings-handler';\nimport CaptureVisibleTabHandler from './handlers/foreground/capture-visible-tab-handler';\nimport CopyToClipboardHandler from './handlers/video/copy-to-clipboard-handler';\nimport SettingsUpdatedHandler from './handlers/asbplayerv2/settings-updated-handler';\nimport { PostMineAction, } from '@project/common';\nimport { SettingsProvider } from '@project/common/settings';\nimport { fetchSupportedLanguages, primeLocalization } from './services/localization-fetcher';\nimport VideoDisappearedHandler from './handlers/video/video-disappeared-handler';\nimport { ExtensionSettingsStorage } from './services/extension-settings-storage';\nimport LoadSubtitlesHandler from './handlers/asbplayerv2/load-subtitles-handler';\nimport ToggleSidePanelHandler from './handlers/video/toggle-side-panel-handler';\nimport CopySubtitleHandler from './handlers/asbplayerv2/copy-subtitle-handler';\nimport { RequestingActiveTabPermissionHandler } from './handlers/video/requesting-active-tab-permission';\nimport { CardPublisher } from './services/card-publisher';\nimport AckMessageHandler from './handlers/video/ack-message-handler';\nimport PublishCardHandler from './handlers/asbplayerv2/publish-card-handler';\nimport { bindWebSocketClient, unbindWebSocketClient } from './services/web-socket-client-binding';\nimport { isFirefoxBuild } from './services/build-flags';\nimport { CaptureStreamAudioRecorder, OffscreenAudioRecorder } from './services/audio-recorder-delegate';\nimport RequestModelHandler from './handlers/mobile-overlay/request-model-handler';\nimport CurrentTabHandler from './handlers/mobile-overlay/current-tab-handler';\nimport UpdateMobileOverlayModelHandler from './handlers/video/update-mobile-overlay-model-handler';\nimport { isMobile } from '@project/common/device-detection/mobile';\nimport { enqueueUpdateAlert } from './services/update-alert';\nimport RequestSubtitlesHandler from './handlers/asbplayerv2/request-subtitles-handler';\nimport MobileOverlayForwarderHandler from './handlers/mobile-overlay/mobile-overlay-forwarder-handler';\nimport RequestCopyHistoryHandler from './handlers/asbplayerv2/request-copy-history-handler';\nimport DeleteCopyHistoryHandler from './handlers/asbplayerv2/delete-copy-history-handler';\nimport ClearCopyHistoryHandler from './handlers/asbplayerv2/clear-copy-history-handler';\nimport SaveCopyHistoryHandler from './handlers/asbplayerv2/save-copy-history-handler';\nif (!isFirefoxBuild) {\n    chrome.storage.session.setAccessLevel({ accessLevel: 'TRUSTED_AND_UNTRUSTED_CONTEXTS' });\n}\nconst settings = new SettingsProvider(new ExtensionSettingsStorage());\nconst startListener = async () => {\n    primeLocalization(await settings.getSingle('language'));\n};\nconst installListener = async (details) => {\n    if (details.reason !== chrome.runtime.OnInstalledReason.INSTALL) {\n        return;\n    }\n    const defaultUiLanguage = chrome.i18n.getUILanguage();\n    const supportedLanguages = await fetchSupportedLanguages();\n    if (supportedLanguages.includes(defaultUiLanguage)) {\n        await settings.set({ language: defaultUiLanguage });\n        primeLocalization(defaultUiLanguage);\n    }\n    if (isMobile) {\n        // Set reasonable defaults for mobile\n        await settings.set({\n            streamingTakeScreenshot: false,\n            subtitleSize: 18,\n            subtitlePositionOffset: 25,\n            topSubtitlePositionOffset: 25,\n            subtitlesWidth: 100,\n        });\n    }\n    chrome.tabs.create({ url: chrome.runtime.getURL('ftue-ui.html'), active: true });\n};\nconst updateListener = async (details) => {\n    if (details.reason !== chrome.runtime.OnInstalledReason.UPDATE) {\n        return;\n    }\n    enqueueUpdateAlert();\n};\nchrome.runtime.onInstalled.addListener(installListener);\nchrome.runtime.onInstalled.addListener(updateListener);\nchrome.runtime.onStartup.addListener(startListener);\nconst tabRegistry = new TabRegistry(settings);\nconst audioRecorder = new AudioRecorderService(tabRegistry, isFirefoxBuild ? new CaptureStreamAudioRecorder() : new OffscreenAudioRecorder());\nconst imageCapturer = new ImageCapturer(settings);\nconst cardPublisher = new CardPublisher(settings);\nconst handlers = [\n    new VideoHeartbeatHandler(tabRegistry),\n    new RecordMediaHandler(audioRecorder, imageCapturer, cardPublisher, settings),\n    new RerecordMediaHandler(settings, audioRecorder, cardPublisher),\n    new StartRecordingMediaHandler(audioRecorder, imageCapturer, cardPublisher, settings),\n    new StopRecordingMediaHandler(audioRecorder, imageCapturer, cardPublisher, settings),\n    new TakeScreenshotHandler(imageCapturer, cardPublisher),\n    new ToggleSubtitlesHandler(settings, tabRegistry),\n    new SyncHandler(tabRegistry),\n    new HttpPostHandler(),\n    new ToggleSidePanelHandler(tabRegistry),\n    new OpenAsbplayerSettingsHandler(),\n    new CopyToClipboardHandler(),\n    new VideoDisappearedHandler(tabRegistry),\n    new RequestingActiveTabPermissionHandler(),\n    new CopySubtitleHandler(tabRegistry),\n    new LoadSubtitlesHandler(tabRegistry),\n    new RequestSubtitlesHandler(),\n    new RequestCopyHistoryHandler(),\n    new SaveCopyHistoryHandler(settings),\n    new DeleteCopyHistoryHandler(settings),\n    new ClearCopyHistoryHandler(settings),\n    new PublishCardHandler(cardPublisher),\n    new AckMessageHandler(tabRegistry),\n    new AudioBase64Handler(audioRecorder),\n    new UpdateMobileOverlayModelHandler(),\n    new RefreshSettingsHandler(tabRegistry, settings),\n    new VideoToAsbplayerCommandForwardingHandler(tabRegistry),\n    new AsbplayerToVideoCommandForwardingHandler(),\n    new AsbplayerHeartbeatHandler(tabRegistry),\n    new AckTabsHandler(tabRegistry),\n    new SettingsUpdatedHandler(tabRegistry, settings),\n    new OpenExtensionShortcutsHandler(),\n    new ExtensionCommandsHandler(),\n    new AsbplayerV2ToVideoCommandForwardingHandler(),\n    new CaptureVisibleTabHandler(),\n    new RequestModelHandler(),\n    new CurrentTabHandler(),\n    new MobileOverlayForwarderHandler(),\n];\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n    for (const handler of handlers) {\n        if ((typeof handler.sender === 'string' && handler.sender === request.sender) ||\n            (typeof handler.sender === 'object' && handler.sender.includes(request.sender))) {\n            if (handler.command === null || handler.command === request.message.command) {\n                if (handler.handle(request, sender, sendResponse) === true) {\n                    return true;\n                }\n                break;\n            }\n        }\n    }\n});\nchrome.runtime.onInstalled.addListener(() => {\n    chrome.contextMenus?.create({\n        id: 'load-subtitles',\n        title: chrome.i18n.getMessage('contextMenuLoadSubtitles'),\n        contexts: ['page', 'video'],\n    });\n    chrome.contextMenus?.create({\n        id: 'mine-subtitle',\n        title: chrome.i18n.getMessage('contextMenuMineSubtitle'),\n        contexts: ['page', 'video'],\n    });\n});\nchrome.contextMenus?.onClicked.addListener((info) => {\n    if (info.menuItemId === 'load-subtitles') {\n        const toggleVideoSelectCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'toggle-video-select',\n            },\n        };\n        tabRegistry.publishCommandToVideoElementTabs((tab) => {\n            if (info.pageUrl !== tab.url) {\n                return undefined;\n            }\n            return toggleVideoSelectCommand;\n        });\n    }\n    else if (info.menuItemId === 'mine-subtitle') {\n        tabRegistry.publishCommandToVideoElements((videoElement) => {\n            if (info.srcUrl !== undefined && videoElement.src !== info.srcUrl) {\n                return undefined;\n            }\n            if (info.srcUrl === undefined && info.pageUrl !== videoElement.tab.url) {\n                return undefined;\n            }\n            const copySubtitleCommand = {\n                sender: 'asbplayer-extension-to-video',\n                message: {\n                    command: 'copy-subtitle',\n                    postMineAction: PostMineAction.showAnkiDialog,\n                },\n                src: videoElement.src,\n            };\n            return copySubtitleCommand;\n        });\n    }\n});\nchrome.commands?.onCommand.addListener((command) => {\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n        const validAsbplayer = (asbplayer) => {\n            if (asbplayer.sidePanel) {\n                return false;\n            }\n            const tab = asbplayer.tab;\n            if (tab && tabs.find((t) => t.id === tab.id) === undefined) {\n                return false;\n            }\n            return true;\n        };\n        switch (command) {\n            case 'copy-subtitle':\n            case 'update-last-card':\n            case 'copy-subtitle-with-dialog':\n                const postMineAction = postMineActionFromCommand(command);\n                tabRegistry.publishCommandToVideoElements((videoElement) => {\n                    if (tabs.find((t) => t.id === videoElement.tab.id) === undefined) {\n                        return undefined;\n                    }\n                    const extensionToVideoCommand = {\n                        sender: 'asbplayer-extension-to-video',\n                        message: {\n                            command: 'copy-subtitle',\n                            postMineAction: postMineAction,\n                        },\n                        src: videoElement.src,\n                    };\n                    return extensionToVideoCommand;\n                });\n                tabRegistry.publishCommandToAsbplayers({\n                    commandFactory: (asbplayer) => {\n                        if (!validAsbplayer(asbplayer)) {\n                            return undefined;\n                        }\n                        const extensionToPlayerCommand = {\n                            sender: 'asbplayer-extension-to-player',\n                            message: {\n                                command: 'copy-subtitle',\n                                postMineAction: postMineAction,\n                            },\n                            asbplayerId: asbplayer.id,\n                        };\n                        return extensionToPlayerCommand;\n                    },\n                });\n                break;\n            case 'toggle-video-select':\n                for (const tab of tabs) {\n                    if (typeof tab.id !== 'undefined') {\n                        const extensionToVideoCommand = {\n                            sender: 'asbplayer-extension-to-video',\n                            message: {\n                                command: 'toggle-video-select',\n                            },\n                        };\n                        chrome.tabs.sendMessage(tab.id, extensionToVideoCommand);\n                    }\n                }\n                break;\n            case 'take-screenshot':\n                tabRegistry.publishCommandToVideoElements((videoElement) => {\n                    if (tabs.find((t) => t.id === videoElement.tab.id) === undefined) {\n                        return undefined;\n                    }\n                    const extensionToVideoCommand = {\n                        sender: 'asbplayer-extension-to-video',\n                        message: {\n                            command: 'take-screenshot',\n                        },\n                        src: videoElement.src,\n                    };\n                    return extensionToVideoCommand;\n                });\n                tabRegistry.publishCommandToAsbplayers({\n                    commandFactory: (asbplayer) => {\n                        if (!validAsbplayer(asbplayer)) {\n                            return undefined;\n                        }\n                        const extensionToPlayerCommand = {\n                            sender: 'asbplayer-extension-to-player',\n                            message: {\n                                command: 'take-screenshot',\n                            },\n                            asbplayerId: asbplayer.id,\n                        };\n                        return extensionToPlayerCommand;\n                    },\n                });\n                break;\n            case 'toggle-recording':\n                tabRegistry.publishCommandToVideoElements((videoElement) => {\n                    if (tabs.find((t) => t.id === videoElement.tab.id) === undefined) {\n                        return undefined;\n                    }\n                    const extensionToVideoCommand = {\n                        sender: 'asbplayer-extension-to-video',\n                        message: {\n                            command: 'toggle-recording',\n                        },\n                        src: videoElement.src,\n                    };\n                    return extensionToVideoCommand;\n                });\n                tabRegistry.publishCommandToAsbplayers({\n                    commandFactory: (asbplayer) => {\n                        if (!validAsbplayer(asbplayer)) {\n                            return undefined;\n                        }\n                        const extensionToPlayerCommand = {\n                            sender: 'asbplayer-extension-to-player',\n                            message: {\n                                command: 'toggle-recording',\n                            },\n                            asbplayerId: asbplayer.id,\n                        };\n                        return extensionToPlayerCommand;\n                    },\n                });\n                break;\n            default:\n                throw new Error('Unknown command ' + command);\n        }\n    });\n});\nfunction postMineActionFromCommand(command) {\n    switch (command) {\n        case 'copy-subtitle':\n            return PostMineAction.none;\n        case 'copy-subtitle-with-dialog':\n            return PostMineAction.showAnkiDialog;\n        case 'update-last-card':\n            return PostMineAction.updateLastCard;\n        default:\n            throw new Error('Cannot determine post mine action for unknown command ' + command);\n    }\n}\nconst updateWebSocketClientState = () => {\n    settings.getSingle('webSocketClientEnabled').then((webSocketClientEnabled) => {\n        if (webSocketClientEnabled) {\n            bindWebSocketClient(settings, tabRegistry);\n        }\n        else {\n            unbindWebSocketClient();\n        }\n    });\n};\nupdateWebSocketClientState();\ntabRegistry.onAsbplayerInstance(updateWebSocketClientState);\ntabRegistry.onSyncedElement(updateWebSocketClientState);\nconst defaultAction = (tab) => {\n    if (isMobile) {\n        if (tab.id !== undefined) {\n            const extensionToVideoCommand = {\n                sender: 'asbplayer-extension-to-video',\n                message: {\n                    command: 'toggle-video-select',\n                },\n            };\n            chrome.tabs.sendMessage(tab.id, extensionToVideoCommand);\n        }\n    }\n    else {\n        chrome.action.openPopup();\n    }\n};\nif (isFirefoxBuild) {\n    let hasHostPermission = true;\n    chrome.permissions.contains({ origins: ['<all_urls>'] }).then((result) => {\n        hasHostPermission = result;\n        if (hasHostPermission && !isMobile) {\n            chrome.action.setPopup({\n                popup: 'popup-ui.html',\n            });\n        }\n    });\n    chrome.action.onClicked.addListener(async (tab) => {\n        if (hasHostPermission) {\n            defaultAction(tab);\n        }\n        else {\n            try {\n                const obtainedHostPermission = await chrome.permissions.request({ origins: ['<all_urls>'] });\n                if (obtainedHostPermission) {\n                    hasHostPermission = true;\n                    chrome.runtime.reload();\n                }\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n    });\n}\nelse {\n    if (!isMobile) {\n        chrome.action.setPopup({\n            popup: 'popup-ui.html',\n        });\n    }\n    chrome.action.onClicked.addListener(defaultAction);\n}\nif (isFirefoxBuild) {\n    // Firefox requires the use of iframe.srcdoc in order to load UI into an about:blank iframe\n    // (which is required for UI to be scannable by other extensions like Yomitan).\n    // However, such an iframe inherits the content security directives of the parent document,\n    // which may prevent loading of extension scripts into the iframe.\n    // Because of this, we modify CSP headers below to explicitly allow access to extension-packaged resources.\n    chrome.webRequest.onHeadersReceived.addListener((details) => {\n        const responseHeaders = details.responseHeaders;\n        if (!responseHeaders) {\n            return;\n        }\n        for (const header of responseHeaders) {\n            if (header.name.toLowerCase() === 'content-security-policy') {\n                let cspValue = header.value;\n                cspValue += ` ; script-src moz-extension://${chrome.runtime.id}`;\n            }\n        }\n        return { responseHeaders };\n    }, { urls: ['<all_urls>'] }, ['blocking', 'responseHeaders']);\n}\n","export default class TabRegistry {\n    constructor(settings) {\n        this._onNoSyncedElementsCallbacks = [];\n        this._onSyncedElementCallbacks = [];\n        this._onAsbplayerInstanceCallbacks = [];\n        this._settings = settings;\n        // Update video element state on tab changes\n        // Triggers events for when synced video elements appear/disappear\n        chrome.tabs.onRemoved.addListener((tabId, removeInfo) => {\n            this._videoElements();\n        });\n        chrome.tabs.onUpdated.addListener((tabId, removeInfo) => {\n            if (removeInfo.status === 'loading' && removeInfo.url === undefined) {\n                // New tab, or tab was refreshed\n                this._videoElements((videoElements) => {\n                    let changed = false;\n                    for (const [k, v] of Object.entries(videoElements)) {\n                        if (v.tab.id === tabId) {\n                            delete videoElements[k];\n                            changed = true;\n                        }\n                    }\n                    return changed;\n                });\n                this._asbplayers((asbplayers) => {\n                    let changed = false;\n                    for (const [k, v] of Object.entries(asbplayers)) {\n                        if (v.tab?.id === tabId) {\n                            delete asbplayers[k];\n                            changed = true;\n                        }\n                    }\n                    return changed;\n                });\n            }\n            else {\n                this._videoElements();\n            }\n        });\n    }\n    async _fetchVideoElementState() {\n        return ((await chrome.storage.session.get('tabRegistryVideoElements')).tabRegistryVideoElements ?? {});\n    }\n    async _saveVideoElementState(state) {\n        await chrome.storage.session.set({ tabRegistryVideoElements: state });\n    }\n    async _videoElements(mutator) {\n        const tabs = await chrome.tabs.query({});\n        const videoElements = await this._fetchVideoElementState();\n        const oldVideoElements = { ...videoElements };\n        let changed = false;\n        for (const id in videoElements) {\n            const videoElement = videoElements[id];\n            const disappeared = tabs.find((t) => t.id === videoElement.tab.id && t.url === videoElement.tab.url) === undefined;\n            if (disappeared) {\n                changed = true;\n                delete videoElements[id];\n            }\n        }\n        if (mutator !== undefined) {\n            changed = mutator(videoElements) || changed;\n        }\n        if (changed) {\n            await this._saveVideoElementState(videoElements);\n        }\n        const oldSyncedElementExists = Object.values(oldVideoElements).find((v) => v.synced) !== undefined;\n        const syncedElementExists = Object.values(videoElements).find((v) => v.synced) !== undefined;\n        if (this._onNoSyncedElementsCallbacks.length > 0 && oldSyncedElementExists && !syncedElementExists) {\n            for (const c of this._onNoSyncedElementsCallbacks) {\n                c();\n            }\n        }\n        else if (this._onSyncedElementCallbacks.length > 0 && !oldSyncedElementExists && syncedElementExists) {\n            for (const c of this._onSyncedElementCallbacks) {\n                c();\n            }\n        }\n        return videoElements;\n    }\n    async _fetchAsbplayerState() {\n        return ((await chrome.storage.session.get('tabRegistryAsbplayers')).tabRegistryAsbplayers ?? {});\n    }\n    async _saveAsbplayerState(state) {\n        await chrome.storage.session.set({ tabRegistryAsbplayers: state });\n    }\n    async _asbplayers(mutator) {\n        const tabs = await chrome.tabs.query({});\n        const asbplayers = await this._fetchAsbplayerState();\n        const oldAsbplayers = { ...asbplayers };\n        const now = Date.now();\n        let changed = false;\n        for (const id in asbplayers) {\n            const asbplayer = asbplayers[id];\n            const disappeared = (asbplayer.sidePanel && now - asbplayer.timestamp >= 5000) ||\n                (asbplayer.tab !== undefined &&\n                    tabs.find((t) => t.id === asbplayer.tab?.id && t.url === asbplayer.tab?.url) === undefined);\n            if (disappeared) {\n                changed = true;\n                delete asbplayers[id];\n            }\n        }\n        if (mutator !== undefined) {\n            changed = mutator(asbplayers) || changed;\n        }\n        let newAsplayerAppeared = false;\n        if (changed) {\n            await this._saveAsbplayerState(asbplayers);\n            newAsplayerAppeared = Object.keys(asbplayers).some((asbplayerId) => !(asbplayerId in oldAsbplayers));\n        }\n        if (newAsplayerAppeared) {\n            for (const c of this._onAsbplayerInstanceCallbacks) {\n                c();\n            }\n        }\n        return asbplayers;\n    }\n    async onAsbplayerHeartbeat(tab, { id: asbplayerId, videoPlayer, sidePanel, receivedTabs, loadedSubtitles, syncedVideoElement, }) {\n        this._updateAsbplayers(tab, asbplayerId, videoPlayer, sidePanel ?? false, loadedSubtitles ?? false, receivedTabs, syncedVideoElement);\n        try {\n            const command = {\n                sender: 'asbplayer-extension-to-player',\n                message: {\n                    command: 'tabs',\n                    tabs: await this.activeVideoElements(),\n                    asbplayers: await this._asbplayerInstances(),\n                    ackRequested: false,\n                },\n            };\n            if (tab?.id) {\n                await chrome.tabs.sendMessage(tab.id, command);\n            }\n            else {\n                await chrome.runtime.sendMessage(command);\n            }\n        }\n        catch (e) {\n            // Swallow\n        }\n    }\n    async onAsbplayerAckTabs(tab, { id: asbplayerId, videoPlayer, sidePanel, loadedSubtitles, receivedTabs, syncedVideoElement }) {\n        this._updateAsbplayers(tab, asbplayerId, videoPlayer, sidePanel ?? false, loadedSubtitles ?? false, receivedTabs, syncedVideoElement);\n    }\n    async _updateAsbplayers(tab, asbplayerId, videoPlayer, sidePanel, loadedSubtitles, receivedTabs, syncedVideoElement) {\n        const slimTab = tab === undefined || tab.id === undefined\n            ? undefined\n            : {\n                id: tab.id,\n                title: tab.title ?? '',\n                url: tab.url ?? '',\n                faviconUrl: tab.favIconUrl,\n            };\n        await this._asbplayers((asbplayers) => {\n            asbplayers[asbplayerId] = {\n                tab: slimTab,\n                id: asbplayerId,\n                timestamp: Date.now(),\n                receivedTabs,\n                sidePanel,\n                loadedSubtitles,\n                videoPlayer,\n                syncedVideoElement,\n            };\n            return true;\n        });\n    }\n    async activeVideoElements() {\n        const videoElements = await this._videoElements();\n        const activeVideoElements = [];\n        for (const id in videoElements) {\n            const videoElement = videoElements[id];\n            if (videoElement.tab.id) {\n                const element = {\n                    id: videoElement.tab.id,\n                    title: videoElement.tab.title,\n                    faviconUrl: videoElement.tab.faviconUrl,\n                    src: videoElement.src,\n                    subscribed: videoElement.subscribed,\n                    synced: videoElement.synced,\n                    syncedTimestamp: videoElement.syncedTimestamp,\n                };\n                activeVideoElements.push(element);\n            }\n        }\n        return activeVideoElements;\n    }\n    async _asbplayerInstances() {\n        const asbplayers = await this._asbplayers();\n        const asbplayerInstances = [];\n        for (const asbplayer of Object.values(asbplayers)) {\n            asbplayerInstances.push({\n                id: asbplayer.id,\n                tabId: asbplayer.tab?.id,\n                sidePanel: asbplayer.sidePanel ?? false,\n                timestamp: asbplayer.timestamp,\n                videoPlayer: asbplayer.videoPlayer,\n            });\n        }\n        return asbplayerInstances;\n    }\n    async onVideoElementHeartbeat(tab, src, { subscribed, synced, syncedTimestamp, loadedSubtitles }) {\n        if (tab.id === undefined) {\n            return;\n        }\n        const tabId = tab.id;\n        await this._videoElements((videoElements) => {\n            videoElements[`${tab.id}:${src}`] = {\n                tab: {\n                    id: tabId,\n                    title: tab.title ?? '',\n                    url: tab.url ?? '',\n                    faviconUrl: tab.favIconUrl,\n                },\n                src,\n                subscribed,\n                timestamp: Date.now(),\n                synced,\n                syncedTimestamp,\n                loadedSubtitles,\n            };\n            return true;\n        });\n    }\n    async onVideoElementDisappeared(tab, src) {\n        await this._videoElements((videoElements) => {\n            const key = `${tab.id}:${src}`;\n            if (key in videoElements) {\n                delete videoElements[key];\n                return true;\n            }\n            return false;\n        });\n    }\n    onNoSyncedElements(callback) {\n        this._onNoSyncedElementsCallbacks.push(callback);\n    }\n    onSyncedElement(callback) {\n        this._onSyncedElementCallbacks.push(callback);\n    }\n    onAsbplayerInstance(callback) {\n        this._onAsbplayerInstanceCallbacks.push(callback);\n    }\n    async publishTabsToAsbplayers() {\n        const tabsCommand = {\n            sender: 'asbplayer-extension-to-player',\n            message: {\n                command: 'tabs',\n                tabs: await this.activeVideoElements(),\n                asbplayers: await this._asbplayerInstances(),\n                ackRequested: true,\n            },\n        };\n        await this.publishCommandToAsbplayers({\n            commandFactory: (asbplayer) => (asbplayer.videoPlayer ? undefined : tabsCommand),\n        });\n    }\n    async publishCommandToAsbplayers({ asbplayerId, commandFactory, }) {\n        const asbplayers = await this._asbplayers();\n        if (asbplayerId !== undefined) {\n            if (asbplayerId in asbplayers) {\n                const asbplayer = asbplayers[asbplayerId];\n                const command = commandFactory(asbplayer);\n                if (command !== undefined) {\n                    await this._sendCommand(asbplayers[asbplayerId], command);\n                }\n            }\n        }\n        else {\n            for (const id in asbplayers) {\n                const asbplayer = asbplayers[id];\n                const command = commandFactory(asbplayer);\n                if (command !== undefined) {\n                    await this._sendCommand(asbplayer, command);\n                }\n            }\n        }\n    }\n    async _sendCommand(asbplayer, command) {\n        try {\n            if (asbplayer.tab?.id !== undefined) {\n                await chrome.tabs.sendMessage(asbplayer.tab.id, command);\n            }\n            else if (asbplayer.sidePanel) {\n                await chrome.runtime.sendMessage(command);\n            }\n        }\n        catch (e) {\n            // Swallow as this usually only indicates that the tab is not an asbplayer tab\n        }\n    }\n    async publishCommandToVideoElements(commandFactory) {\n        const videoElements = await this._videoElements();\n        for (const id in videoElements) {\n            const videoElement = videoElements[id];\n            const tabId = videoElement.tab.id;\n            if (typeof tabId !== 'undefined') {\n                const command = commandFactory(videoElement);\n                if (command !== undefined) {\n                    chrome.tabs.sendMessage(tabId, command);\n                }\n            }\n        }\n    }\n    async publishCommandToVideoElementTabs(commandFactory) {\n        const videoElements = await this._videoElements();\n        const tabs = [];\n        for (const v of Object.values(videoElements)) {\n            if (tabs.find((t) => t.id === v.tab.id) === undefined) {\n                tabs.push(v.tab);\n            }\n        }\n        if (tabs.length > 0) {\n            for (const tab of tabs) {\n                const command = commandFactory(tab);\n                if (command !== undefined) {\n                    chrome.tabs.sendMessage(tab.id, command);\n                }\n            }\n        }\n    }\n    async findAsbplayer({ filter, allowTabCreation, }) {\n        let chosenAsbplayerId = null;\n        const now = Date.now();\n        let min = null;\n        const asbplayers = await this._asbplayers();\n        let asbplayerTabCount = 0;\n        for (const id in asbplayers) {\n            const asbplayer = asbplayers[id];\n            if (!asbplayer.sidePanel) {\n                ++asbplayerTabCount;\n            }\n            if (filter === undefined || filter(asbplayer)) {\n                const elapsed = now - asbplayer.timestamp;\n                if (min === null || elapsed < min) {\n                    min = elapsed;\n                    chosenAsbplayerId = asbplayer.id;\n                }\n            }\n        }\n        if (chosenAsbplayerId) {\n            return chosenAsbplayerId;\n        }\n        if (allowTabCreation) {\n            return new Promise(async (resolve, reject) => {\n                if (asbplayerTabCount === 0) {\n                    await this._createNewTab();\n                }\n                this._anyAsbplayerTab(resolve, reject, 0, 10, filter);\n            });\n        }\n        return undefined;\n    }\n    async _createNewTab() {\n        return new Promise(async (resolve, reject) => {\n            const activeTabs = await chrome.tabs.query({ active: true });\n            const activeTabIndex = !activeTabs || activeTabs.length === 0 ? undefined : activeTabs[0].index + 1;\n            chrome.tabs.create({\n                active: false,\n                url: await this._settings.getSingle('streamingAppUrl'),\n                index: activeTabIndex,\n            }, resolve);\n        });\n    }\n    async _anyAsbplayerTab(resolve, reject, attempt, maxAttempts, filter) {\n        if (attempt >= maxAttempts) {\n            reject(new Error('Could not find or create an asbplayer tab'));\n            return;\n        }\n        const asbplayers = await this._asbplayers();\n        for (const id in asbplayers) {\n            if (filter === undefined || filter(asbplayers[id])) {\n                resolve(id);\n                return;\n            }\n        }\n        setTimeout(() => this._anyAsbplayerTab(resolve, reject, attempt + 1, maxAttempts, filter), 1000);\n    }\n}\n","export class OffscreenAudioRecorder {\n    async _ensureOffscreenDocument() {\n        const contexts = await chrome.runtime.getContexts({\n            contextTypes: [chrome.runtime.ContextType.OFFSCREEN_DOCUMENT],\n        });\n        if (contexts.length === 0) {\n            await chrome.offscreen.createDocument({\n                url: 'offscreen-audio-recorder.html',\n                reasons: [chrome.offscreen.Reason.USER_MEDIA],\n                justification: 'Audio recording',\n            });\n        }\n    }\n    _mediaStreamId(tabId) {\n        return new Promise((resolve, reject) => {\n            chrome.tabCapture.getMediaStreamId({\n                targetTabId: tabId,\n            }, (streamId) => resolve(streamId));\n        });\n    }\n    async startWithTimeout(time, encodeAsMp3, requestId, { tabId, src }) {\n        await this._ensureOffscreenDocument();\n        const streamId = await this._mediaStreamId(tabId);\n        const command = {\n            sender: 'asbplayer-extension-to-offscreen-document',\n            message: {\n                command: 'start-recording-audio-with-timeout',\n                timeout: time,\n                encodeAsMp3,\n                streamId,\n                requestId,\n            },\n        };\n        return (await chrome.runtime.sendMessage(command));\n    }\n    async start(requestId, { tabId, src }) {\n        await this._ensureOffscreenDocument();\n        const streamId = await this._mediaStreamId(tabId);\n        const command = {\n            sender: 'asbplayer-extension-to-offscreen-document',\n            message: {\n                command: 'start-recording-audio',\n                streamId,\n                requestId,\n            },\n        };\n        return (await chrome.runtime.sendMessage(command));\n    }\n    async stop(encodeAsMp3) {\n        const command = {\n            sender: 'asbplayer-extension-to-offscreen-document',\n            message: {\n                command: 'stop-recording-audio',\n                encodeAsMp3,\n            },\n        };\n        return (await chrome.runtime.sendMessage(command));\n    }\n}\nexport class CaptureStreamAudioRecorder {\n    async startWithTimeout(time, encodeAsMp3, requestId, { tabId, src }) {\n        const command = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'start-recording-audio-with-timeout',\n                timeout: time,\n                encodeAsMp3,\n                requestId,\n            },\n            src,\n        };\n        return (await chrome.tabs.sendMessage(tabId, command));\n    }\n    async start(requestId, { tabId, src }) {\n        const command = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'start-recording-audio',\n                requestId,\n            },\n            src,\n        };\n        return (await chrome.tabs.sendMessage(tabId, command));\n    }\n    async stop(encodeAsMp3, { tabId, src }) {\n        const command = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'stop-recording-audio',\n                encodeAsMp3,\n            },\n            src,\n        };\n        return (await chrome.tabs.sendMessage(tabId, command));\n    }\n}\n","import { captureVisibleTab } from './capture-visible-tab';\nexport default class ImageCapturer {\n    constructor(settings) {\n        this._capturing = false;\n        this.settings = settings;\n    }\n    get lastImageBase64() {\n        return this._lastImageBase64;\n    }\n    capture(tabId, src, delay, captureParams) {\n        if (this._capturing) {\n            return Promise.reject(new Error('Already capturing visible tab'));\n        }\n        this._lastImageBase64 = undefined;\n        if (this.imageBase64Resolve !== undefined &&\n            this.imageBase64Reject !== undefined &&\n            this.imageBase64Promise !== undefined) {\n            this._captureWithDelay(tabId, src, delay, captureParams, this.imageBase64Resolve, this.imageBase64Reject);\n            return this.imageBase64Promise;\n        }\n        this.imageBase64Promise = new Promise((resolve, reject) => {\n            this.imageBase64Resolve = resolve;\n            this.imageBase64Reject = reject;\n            this._captureWithDelay(tabId, src, delay, captureParams, this.imageBase64Resolve, this.imageBase64Reject);\n        });\n        return this.imageBase64Promise;\n    }\n    _captureWithDelay(tabId, src, delay, captureParams, resolve, reject) {\n        const timeoutId = setTimeout(() => {\n            this._capturing = true;\n            captureVisibleTab(tabId)\n                .then(async (dataUrl) => {\n                try {\n                    this._capturing = false;\n                    if (timeoutId !== this.lastCaptureTimeoutId) {\n                        // The promise was already resolved by another call to capture with a shorter delay\n                        return;\n                    }\n                    const croppedDataUrl = await this._cropAndResize(dataUrl, tabId, src, captureParams);\n                    if (timeoutId !== this.lastCaptureTimeoutId) {\n                        // The promise was already resolved by another call to capture with a shorter delay\n                        return;\n                    }\n                    this._lastImageBase64 = croppedDataUrl.substring(croppedDataUrl.indexOf(',') + 1);\n                    resolve(this._lastImageBase64);\n                }\n                catch (e) {\n                    reject(e);\n                }\n            })\n                .catch(reject)\n                .finally(() => {\n                this._capturing = false;\n                this.imageBase64Promise = undefined;\n                this.imageBase64Resolve = undefined;\n                this.imageBase64Reject = undefined;\n                this.lastCaptureTimeoutId = undefined;\n            });\n        }, delay);\n        this.lastCaptureTimeoutId = timeoutId;\n    }\n    _cropAndResize(dataUrl, tabId, src, imageCaptureParams) {\n        return new Promise(async (resolve, reject) => {\n            try {\n                const cropScreenshot = await this.settings.getSingle('streamingCropScreenshot');\n                if (!cropScreenshot) {\n                    resolve(dataUrl);\n                    return;\n                }\n                const cropAndResizeCommand = {\n                    sender: 'asbplayer-extension-to-video',\n                    message: { command: 'crop-and-resize', dataUrl, ...imageCaptureParams },\n                    src: src,\n                };\n                const response = await chrome.tabs.sendMessage(tabId, cropAndResizeCommand);\n                resolve(response.dataUrl);\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n}\n","import { PostMineAction, } from '@project/common';\nimport { humanReadableTime } from '@project/common/util';\nimport { ankiSettingsKeys } from '@project/common/settings';\nimport { v4 as uuidv4 } from 'uuid';\nimport { exportCard } from '@project/common/anki';\nimport { IndexedDBCopyHistoryRepository } from '@project/common/copy-history';\nexport class CardPublisher {\n    constructor(settingsProvider) {\n        this._settingsProvider = settingsProvider;\n    }\n    async publish(card, postMineAction, tabId, src) {\n        const id = uuidv4();\n        const savePromise = this._saveCardToRepository(id, card);\n        if (tabId === undefined || src === undefined) {\n            return;\n        }\n        try {\n            if (postMineAction == PostMineAction.showAnkiDialog) {\n                this._showAnkiDialog(card, id, src, tabId);\n            }\n            else if (postMineAction == PostMineAction.updateLastCard) {\n                await this._updateLastCard(card, src, tabId);\n            }\n            else if (postMineAction === PostMineAction.exportCard) {\n                await this._exportCard(card, src, tabId);\n            }\n            else if (postMineAction === PostMineAction.none) {\n                this._notifySaved(savePromise, card, src, tabId);\n            }\n        }\n        catch (e) {\n            this._notifyError(e, src, tabId);\n            throw e;\n        }\n    }\n    _notifySaved(savePromise, card, src, tabId) {\n        savePromise.then((saved) => {\n            if (saved) {\n                const cardSavedCommand = {\n                    sender: 'asbplayer-extension-to-video',\n                    message: {\n                        ...card,\n                        command: 'card-saved',\n                        cardName: card.subtitle.text || humanReadableTime(card.mediaTimestamp),\n                    },\n                    src: src,\n                };\n                chrome.tabs.sendMessage(tabId, cardSavedCommand);\n            }\n        });\n    }\n    async _exportCard(card, src, tabId) {\n        const ankiSettings = (await this._settingsProvider.get(ankiSettingsKeys));\n        const cardName = await exportCard(card, ankiSettings, 'default');\n        const cardExportedCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                ...card,\n                command: 'card-exported',\n                cardName: `${cardName}`,\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, cardExportedCommand);\n    }\n    async _updateLastCard(card, src, tabId) {\n        const ankiSettings = (await this._settingsProvider.get(ankiSettingsKeys));\n        const cardName = await exportCard(card, ankiSettings, 'updateLast');\n        const cardUpdatedCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                ...card,\n                command: 'card-updated',\n                cardName: `${cardName}`,\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, cardUpdatedCommand);\n    }\n    _showAnkiDialog(card, id, src, tabId) {\n        const showAnkiUiCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                ...card,\n                id,\n                command: 'show-anki-ui',\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, showAnkiUiCommand);\n    }\n    async _saveCardToRepository(id, card) {\n        try {\n            const storageLimit = await this._settingsProvider.getSingle('miningHistoryStorageLimit');\n            new IndexedDBCopyHistoryRepository(storageLimit).save({\n                ...card,\n                id: card.id ?? id,\n                timestamp: Date.now(),\n            });\n            return true;\n        }\n        catch (e) {\n            console.error(e);\n            return false;\n        }\n    }\n    _notifyError(e, src, tabId) {\n        let message;\n        if (e instanceof Error) {\n            message = e.message;\n        }\n        else if (typeof e === 'string') {\n            message = e;\n        }\n        else {\n            message = String(e);\n        }\n        const notifyErrorCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'notify-error',\n                message,\n            },\n            src,\n        };\n        chrome.tabs.sendMessage(tabId, notifyErrorCommand);\n    }\n}\n","export default class VideoHeartbeatHandler {\n    constructor(tabRegistry) {\n        this.tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'heartbeat';\n    }\n    handle(command, sender) {\n        const videoToExtensionCommand = command;\n        if (sender.tab) {\n            this.tabRegistry.onVideoElementHeartbeat(sender.tab, videoToExtensionCommand.src, videoToExtensionCommand.message);\n        }\n        return false;\n    }\n}\n","import { AudioErrorCode, ImageErrorCode, PostMineAction, } from '@project/common';\nimport { DrmProtectedStreamError } from '../../services/audio-recorder-service';\nexport default class RecordMediaHandler {\n    constructor(audioRecorder, imageCapturer, cardPublisher, settingsProvider) {\n        this._audioRecorder = audioRecorder;\n        this._imageCapturer = imageCapturer;\n        this._cardPublisher = cardPublisher;\n        this._settingsProvider = settingsProvider;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'record-media-and-forward-subtitle';\n    }\n    async handle(command, sender) {\n        const senderTab = sender.tab;\n        const recordMediaCommand = command;\n        await this._recordAndForward(recordMediaCommand, sender, senderTab);\n    }\n    async _recordAndForward(recordMediaCommand, sender, senderTab) {\n        const subtitle = recordMediaCommand.message.subtitle;\n        let audioPromise = undefined;\n        let imagePromise = undefined;\n        let imageModel = undefined;\n        let audioModel = undefined;\n        let encodeAsMp3 = false;\n        if (recordMediaCommand.message.record) {\n            const time = (subtitle.end - subtitle.start) / recordMediaCommand.message.playbackRate +\n                recordMediaCommand.message.audioPaddingEnd;\n            if (recordMediaCommand.message.postMineAction !== PostMineAction.showAnkiDialog) {\n                encodeAsMp3 = await this._settingsProvider.getSingle('preferMp3');\n            }\n            audioPromise = this._audioRecorder.startWithTimeout(time, encodeAsMp3, {\n                src: recordMediaCommand.src,\n                tabId: sender.tab?.id,\n            });\n        }\n        if (recordMediaCommand.message.screenshot) {\n            const { maxWidth, maxHeight, rect, frameId } = recordMediaCommand.message;\n            imagePromise = this._imageCapturer.capture(senderTab.id, recordMediaCommand.src, Math.min(subtitle.end - subtitle.start, recordMediaCommand.message.imageDelay), { maxWidth, maxHeight, rect, frameId });\n            imagePromise.finally(() => {\n                const screenshotTakenCommand = {\n                    sender: 'asbplayer-extension-to-video',\n                    message: {\n                        command: 'screenshot-taken',\n                    },\n                    src: recordMediaCommand.src,\n                };\n                chrome.tabs.sendMessage(senderTab.id, screenshotTakenCommand);\n            });\n        }\n        if (audioPromise) {\n            const { audioPaddingStart: paddingStart, audioPaddingEnd: paddingEnd, playbackRate, } = recordMediaCommand.message;\n            const baseAudioModel = {\n                base64: '',\n                extension: encodeAsMp3 ? 'mp3' : 'webm',\n                paddingStart,\n                paddingEnd,\n                playbackRate,\n            };\n            try {\n                const audioBase64 = await audioPromise;\n                audioModel = {\n                    ...baseAudioModel,\n                    base64: audioBase64,\n                };\n            }\n            catch (e) {\n                if (!(e instanceof DrmProtectedStreamError)) {\n                    throw e;\n                }\n                audioModel = {\n                    ...baseAudioModel,\n                    error: AudioErrorCode.drmProtected,\n                };\n            }\n        }\n        if (imagePromise) {\n            try {\n                await imagePromise;\n                // Use the last screenshot taken to allow user to re-take screenshot while audio is recording\n                imageModel = {\n                    base64: this._imageCapturer.lastImageBase64,\n                    extension: 'jpeg',\n                };\n            }\n            catch (e) {\n                console.error(e);\n                imageModel = {\n                    base64: '',\n                    extension: 'jpeg',\n                    error: ImageErrorCode.captureFailed,\n                };\n            }\n        }\n        const card = {\n            image: imageModel,\n            audio: audioModel,\n            ...recordMediaCommand.message,\n        };\n        this._cardPublisher.publish(card, recordMediaCommand.message.postMineAction, senderTab.id, recordMediaCommand.src);\n    }\n}\n","import { AudioErrorCode, } from '@project/common';\nimport { DrmProtectedStreamError } from '../../services/audio-recorder-service';\nexport default class RerecordMediaHandler {\n    constructor(settingsProvider, audioRecorder, cardPublisher) {\n        this._settingsProvider = settingsProvider;\n        this._audioRecorder = audioRecorder;\n        this._cardPublisher = cardPublisher;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'rerecord-media';\n    }\n    async handle(command, sender) {\n        const rerecordCommand = command;\n        const baseAudioModel = {\n            base64: '',\n            extension: 'webm',\n            paddingStart: rerecordCommand.message.audioPaddingStart,\n            paddingEnd: rerecordCommand.message.audioPaddingEnd,\n            start: rerecordCommand.message.timestamp,\n            end: rerecordCommand.message.timestamp +\n                rerecordCommand.message.duration / rerecordCommand.message.playbackRate,\n            playbackRate: rerecordCommand.message.playbackRate,\n        };\n        let audio;\n        try {\n            audio = {\n                ...baseAudioModel,\n                base64: await this._audioRecorder.startWithTimeout(rerecordCommand.message.duration / rerecordCommand.message.playbackRate +\n                    rerecordCommand.message.audioPaddingEnd, false, { src: rerecordCommand.src, tabId: sender.tab?.id }),\n            };\n        }\n        catch (e) {\n            if (!(e instanceof DrmProtectedStreamError)) {\n                throw e;\n            }\n            audio = {\n                ...baseAudioModel,\n                error: AudioErrorCode.drmProtected,\n            };\n        }\n        this._cardPublisher.publish({\n            audio: audio,\n            image: rerecordCommand.message.uiState.image,\n            url: rerecordCommand.message.uiState.url,\n            subtitle: rerecordCommand.message.uiState.subtitle,\n            surroundingSubtitles: rerecordCommand.message.uiState.surroundingSubtitles,\n            subtitleFileName: rerecordCommand.message.subtitleFileName,\n            mediaTimestamp: rerecordCommand.message.timestamp,\n        }, undefined, sender.tab.id, rerecordCommand.src);\n        const newUiState = {\n            ...rerecordCommand.message.uiState,\n            audio: audio,\n            lastAppliedTimestampIntervalToAudio: rerecordCommand.message.uiState.timestampInterval,\n        };\n        const showAnkiUiAfterRerecordCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'show-anki-ui-after-rerecord',\n                uiState: newUiState,\n            },\n            src: rerecordCommand.src,\n        };\n        chrome.tabs.sendMessage(sender.tab.id, showAnkiUiAfterRerecordCommand);\n    }\n}\n","import { AudioErrorCode, ImageErrorCode, PostMineAction, } from '@project/common';\nimport { DrmProtectedStreamError } from '../../services/audio-recorder-service';\nexport default class StartRecordingMediaHandler {\n    constructor(audioRecorder, imageCapturer, cardPublisher, settings) {\n        this._audioRecorder = audioRecorder;\n        this._imageCapturer = imageCapturer;\n        this._cardPublisher = cardPublisher;\n        this._settings = settings;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'start-recording-media';\n    }\n    async handle(command, sender) {\n        const startRecordingCommand = command;\n        let drmProtectedStreamError;\n        if (startRecordingCommand.message.record) {\n            try {\n                await this._audioRecorder.start({ src: startRecordingCommand.src, tabId: sender.tab?.id });\n            }\n            catch (e) {\n                if (!(e instanceof DrmProtectedStreamError)) {\n                    throw e;\n                }\n                drmProtectedStreamError = e;\n            }\n        }\n        let imageModel;\n        if (startRecordingCommand.message.screenshot) {\n            const imageDelay = startRecordingCommand.message.record ? startRecordingCommand.message.imageDelay : 0;\n            const { maxWidth, maxHeight, rect, frameId } = startRecordingCommand.message;\n            try {\n                const imageBase64 = await this._imageCapturer.capture(sender.tab.id, startRecordingCommand.src, imageDelay, {\n                    maxWidth,\n                    maxHeight,\n                    rect,\n                    frameId,\n                });\n                imageModel = {\n                    base64: imageBase64,\n                    extension: 'jpeg',\n                };\n            }\n            catch (e) {\n                console.error(e);\n                imageModel = {\n                    base64: '',\n                    extension: 'jpeg',\n                    error: ImageErrorCode.captureFailed,\n                };\n            }\n            finally {\n                const screenshotTakenCommand = {\n                    sender: 'asbplayer-extension-to-video',\n                    message: {\n                        command: 'screenshot-taken',\n                    },\n                    src: startRecordingCommand.src,\n                };\n                chrome.tabs.sendMessage(sender.tab.id, screenshotTakenCommand);\n            }\n        }\n        if (!startRecordingCommand.message.record || drmProtectedStreamError !== undefined) {\n            const mediaTimestamp = startRecordingCommand.message.mediaTimestamp;\n            const subtitle = {\n                text: '',\n                start: mediaTimestamp,\n                originalStart: mediaTimestamp,\n                end: mediaTimestamp,\n                originalEnd: mediaTimestamp,\n                track: 0,\n            };\n            let encodeAsMp3 = false;\n            if (startRecordingCommand.message.postMineAction !== PostMineAction.showAnkiDialog) {\n                encodeAsMp3 = await this._settings.getSingle('preferMp3');\n            }\n            const audioModel = drmProtectedStreamError === undefined\n                ? undefined\n                : {\n                    base64: '',\n                    extension: encodeAsMp3 ? 'mp3' : 'webm',\n                    paddingStart: 0,\n                    paddingEnd: 0,\n                    start: mediaTimestamp,\n                    end: mediaTimestamp,\n                    playbackRate: 1,\n                    error: AudioErrorCode.drmProtected,\n                };\n            this._cardPublisher.publish({\n                subtitle: subtitle,\n                surroundingSubtitles: [],\n                image: imageModel,\n                audio: audioModel,\n                url: startRecordingCommand.message.url,\n                subtitleFileName: startRecordingCommand.message.subtitleFileName,\n                mediaTimestamp: startRecordingCommand.message.mediaTimestamp,\n            }, startRecordingCommand.message.postMineAction, sender.tab.id, startRecordingCommand.src);\n        }\n    }\n}\n","import { ImageErrorCode, PostMineAction, } from '@project/common';\nimport { mockSurroundingSubtitles } from '@project/common/util';\nimport { TimedRecordingInProgressError } from '../../services/audio-recorder-service';\nexport default class StopRecordingMediaHandler {\n    constructor(audioRecorder, imageCapturer, cardPublisher, settingsProvider) {\n        this._audioRecorder = audioRecorder;\n        this._imageCapturer = imageCapturer;\n        this._cardPublisher = cardPublisher;\n        this._settingsProvider = settingsProvider;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'stop-recording-media';\n    }\n    async handle(command, sender) {\n        const stopRecordingCommand = command;\n        const subtitle = stopRecordingCommand.message.subtitle ?? {\n            text: '',\n            start: stopRecordingCommand.message.startTimestamp,\n            end: stopRecordingCommand.message.endTimestamp,\n            originalStart: stopRecordingCommand.message.startTimestamp,\n            originalEnd: stopRecordingCommand.message.startTimestamp,\n            track: 0,\n        };\n        const surroundingSubtitles = stopRecordingCommand.message.surroundingSubtitles ??\n            mockSurroundingSubtitles(subtitle, stopRecordingCommand.message.videoDuration, 5000);\n        let imageModel = undefined;\n        if (stopRecordingCommand.message.screenshot) {\n            try {\n                let lastImageBase64 = this._imageCapturer.lastImageBase64;\n                if (lastImageBase64 === undefined) {\n                    const { maxWidth, maxHeight, rect, frameId } = stopRecordingCommand.message;\n                    lastImageBase64 = await this._imageCapturer.capture(sender.tab.id, stopRecordingCommand.src, 0, {\n                        maxWidth,\n                        maxHeight,\n                        rect,\n                        frameId,\n                    });\n                }\n                imageModel = {\n                    base64: lastImageBase64,\n                    extension: 'jpeg',\n                };\n            }\n            catch (e) {\n                console.error(e);\n                imageModel = {\n                    base64: '',\n                    extension: 'jpeg',\n                    error: ImageErrorCode.captureFailed,\n                };\n            }\n        }\n        try {\n            let encodeAsMp3 = false;\n            if (stopRecordingCommand.message.postMineAction !== PostMineAction.showAnkiDialog) {\n                encodeAsMp3 = await this._settingsProvider.getSingle('preferMp3');\n            }\n            const audioBase64 = await this._audioRecorder.stop(encodeAsMp3, {\n                tabId: sender.tab.id,\n                src: stopRecordingCommand.src,\n            });\n            const audioModel = {\n                base64: audioBase64,\n                extension: encodeAsMp3 ? 'mp3' : 'webm',\n                paddingStart: 0,\n                paddingEnd: 0,\n                start: stopRecordingCommand.message.startTimestamp,\n                end: stopRecordingCommand.message.endTimestamp,\n                playbackRate: stopRecordingCommand.message.playbackRate,\n            };\n            this._cardPublisher.publish({\n                subtitle: subtitle,\n                surroundingSubtitles: surroundingSubtitles,\n                image: imageModel,\n                audio: audioModel,\n                url: stopRecordingCommand.message.url,\n                subtitleFileName: stopRecordingCommand.message.subtitleFileName,\n                mediaTimestamp: stopRecordingCommand.message.startTimestamp,\n            }, stopRecordingCommand.message.postMineAction, sender.tab.id, stopRecordingCommand.src);\n        }\n        catch (e) {\n            if (!(e instanceof TimedRecordingInProgressError)) {\n                throw e;\n            }\n            // Else a recording scheduled from record-media-handler (or rerecord-media-handler) was in-progress\n            // and the call to stop() just above force-stopped it.\n            // We should do nothing else because execution in record-media-handler will continue\n            // and publish the card etc.\n        }\n    }\n}\n","import { ImageErrorCode, } from '@project/common';\nexport default class TakeScreenshotHandler {\n    constructor(imageCapturer, cardPublisher) {\n        this._imageCapturer = imageCapturer;\n        this._cardPublisher = cardPublisher;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'take-screenshot';\n    }\n    async handle(command, sender) {\n        const senderTab = sender.tab;\n        const takeScreenshotCommand = command;\n        const { maxWidth, maxHeight, rect, frameId } = takeScreenshotCommand.message;\n        let imageModel;\n        try {\n            const imageBase64 = await this._imageCapturer.capture(sender.tab.id, takeScreenshotCommand.src, 0, {\n                maxWidth,\n                maxHeight,\n                rect,\n                frameId,\n            });\n            imageModel = {\n                base64: imageBase64,\n                extension: 'jpeg',\n            };\n        }\n        catch (e) {\n            console.error(e);\n            imageModel = {\n                base64: '',\n                extension: 'jpeg',\n                error: ImageErrorCode.captureFailed,\n            };\n        }\n        let ankiUiState;\n        if (takeScreenshotCommand.message.ankiUiState) {\n            ankiUiState = takeScreenshotCommand.message.ankiUiState;\n            ankiUiState.image = imageModel;\n            this._cardPublisher.publish({\n                audio: ankiUiState.audio,\n                image: ankiUiState.image,\n                file: ankiUiState.file,\n                url: ankiUiState.url,\n                subtitle: ankiUiState.subtitle,\n                surroundingSubtitles: ankiUiState.surroundingSubtitles,\n                subtitleFileName: takeScreenshotCommand.message.subtitleFileName,\n                mediaTimestamp: takeScreenshotCommand.message.mediaTimestamp,\n            }, undefined, senderTab.id, takeScreenshotCommand.src);\n        }\n        const screenshotTakenCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: {\n                command: 'screenshot-taken',\n                ankiUiState: ankiUiState,\n            },\n            src: takeScreenshotCommand.src,\n        };\n        chrome.tabs.sendMessage(senderTab.id, screenshotTakenCommand);\n    }\n}\n","export default class ToggleSubtitlesHandler {\n    constructor(settings, tabRegistry) {\n        this.settings = settings;\n        this.tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return ['asbplayer-video', 'asbplayer-mobile-overlay-to-video'];\n    }\n    get command() {\n        return 'toggle-subtitles';\n    }\n    async handle(command, sender) {\n        const displaySubtitles = await this.settings.getSingle('streamingDisplaySubtitles');\n        await this.settings.set({ streamingDisplaySubtitles: !displaySubtitles });\n        this.tabRegistry.publishCommandToVideoElements((videoElement) => {\n            const settingsUpdatedCommand = {\n                sender: 'asbplayer-extension-to-video',\n                message: {\n                    command: 'settings-updated',\n                },\n                src: videoElement.src,\n            };\n            return settingsUpdatedCommand;\n        });\n    }\n}\n","export default class SyncHandler {\n    constructor(tabRegistry) {\n        this.tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'sync';\n    }\n    async handle(command, sender) {\n        try {\n            const extensionSyncCommand = command;\n            await this.tabRegistry.publishTabsToAsbplayers();\n            const asbplayerId = await this.tabRegistry.findAsbplayer({\n                filter: (asbplayer) => {\n                    if (asbplayer.receivedTabs === undefined || sender.tab === undefined || asbplayer.sidePanel) {\n                        return false;\n                    }\n                    if (extensionSyncCommand.message.withSyncedAsbplayerOnly) {\n                        return (asbplayer.syncedVideoElement !== undefined &&\n                            asbplayer.syncedVideoElement.id === sender.tab?.id &&\n                            asbplayer.syncedVideoElement.src === extensionSyncCommand.src);\n                    }\n                    if (extensionSyncCommand.message.withAsbplayerId) {\n                        return asbplayer.id === extensionSyncCommand.message.withAsbplayerId;\n                    }\n                    return (asbplayer.receivedTabs.find((tab) => tab.id === sender.tab.id && tab.src === extensionSyncCommand.src) !== undefined);\n                },\n                allowTabCreation: !extensionSyncCommand.message.withSyncedAsbplayerOnly,\n            });\n            const playerSyncCommand = {\n                sender: 'asbplayer-extension-to-player',\n                message: {\n                    command: 'syncv2',\n                    subtitles: extensionSyncCommand.message.subtitles,\n                    flatten: extensionSyncCommand.message.flatten,\n                },\n                src: extensionSyncCommand.src,\n                tabId: sender.tab.id,\n            };\n            if (asbplayerId !== undefined) {\n                this.tabRegistry.publishCommandToAsbplayers({ asbplayerId, commandFactory: () => playerSyncCommand });\n            }\n        }\n        catch (error) {\n            console.error(error);\n        }\n    }\n}\n","export default class ToggleSidePanelHandler {\n    constructor(tabRegistry) {\n        this._tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return ['asbplayer-video-tab', 'asbplayerv2'];\n    }\n    get command() {\n        return 'toggle-side-panel';\n    }\n    handle(command, sender) {\n        let sidePanelOpen = false;\n        this._tabRegistry.publishCommandToAsbplayers({\n            commandFactory: (asbplayer) => {\n                if (asbplayer.sidePanel) {\n                    const command = {\n                        sender: 'asbplayer-extension-to-player',\n                        message: {\n                            command: 'close-side-panel',\n                        },\n                    };\n                    sidePanelOpen = true;\n                    return command;\n                }\n                return undefined;\n            },\n        });\n        if (!sidePanelOpen) {\n            chrome.windows\n                // @ts-ignore\n                .getLastFocused((window) => chrome.sidePanel.open({ windowId: window.id }));\n        }\n        return false;\n    }\n}\n","export default class OpenAsbplayerSettingsHandler {\n    get sender() {\n        return ['asbplayer-video', 'asbplayer-video-tab'];\n    }\n    get command() {\n        return 'open-asbplayer-settings';\n    }\n    async handle(command, sender) {\n        chrome.runtime.openOptionsPage();\n    }\n}\n","export default class CopyToClipboardHandler {\n    constructor() { }\n    get sender() {\n        return ['asbplayer-video', 'asbplayer-video-tab'];\n    }\n    get command() {\n        return 'copy-to-clipboard';\n    }\n    handle(command, sender, sendResponse) {\n        const tabId = sender.tab?.id;\n        if (tabId === undefined) {\n            return;\n        }\n        // Publish this command back to the tab so that the topmost window (i.e. non-iframe) can write the data to clipboard\n        const extensionToVideoCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: command.message,\n        };\n        chrome.tabs.sendMessage(tabId, extensionToVideoCommand);\n        return false;\n    }\n}\n","export default class VideoDisappearedHandler {\n    constructor(tabRegistry) {\n        this._tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'video-disappeared';\n    }\n    handle(command, sender, sendResponse) {\n        if (sender.tab === undefined) {\n            return;\n        }\n        const videoToExtensionCommand = command;\n        this._tabRegistry.onVideoElementDisappeared(sender.tab, videoToExtensionCommand.src);\n        return false;\n    }\n}\n","import { setRequestingActiveTabPermission } from '../../services/active-tab-permission-request';\nexport class RequestingActiveTabPermissionHandler {\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'requesting-active-tab-permission';\n    }\n    handle(command, sender) {\n        const requestingActiveTabPermissionCommand = command;\n        if (sender.tab?.id !== undefined) {\n            setRequestingActiveTabPermission(sender.tab.id, requestingActiveTabPermissionCommand.src, requestingActiveTabPermissionCommand.message.requesting);\n        }\n        return false;\n    }\n}\n","export default class CopySubtitleHandler {\n    constructor(tabRegistry) {\n        this._tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'copy-subtitle';\n    }\n    handle(command, sender) {\n        const copySubtitleCommand = command;\n        this._tabRegistry.publishCommandToVideoElements((videoElement) => {\n            if (videoElement.src !== copySubtitleCommand.src || videoElement.tab.id !== copySubtitleCommand.tabId) {\n                return undefined;\n            }\n            const copySubtitleCommandToVideo = {\n                sender: 'asbplayer-extension-to-video',\n                message: {\n                    command: 'copy-subtitle',\n                    postMineAction: copySubtitleCommand.message.postMineAction,\n                    subtitle: copySubtitleCommand.message.subtitle,\n                    surroundingSubtitles: copySubtitleCommand.message.surroundingSubtitles,\n                },\n                src: videoElement.src,\n            };\n            return copySubtitleCommandToVideo;\n        });\n        return false;\n    }\n}\n","export default class LoadSubtitlesHandler {\n    constructor(tabRegistry) {\n        this._tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'load-subtitles';\n    }\n    handle(command, sender) {\n        const loadSubtitlesCommand = command;\n        const toggleVideoSelectCommand = {\n            sender: 'asbplayer-extension-to-video',\n            // Target specific video element by 'src' if the command specifies a 'src'\n            src: 'src' in command\n                ? command.src\n                : undefined,\n            message: {\n                command: 'toggle-video-select',\n                fromAsbplayerId: loadSubtitlesCommand.message.fromAsbplayerId,\n            },\n        };\n        let published = false;\n        this._tabRegistry\n            .publishCommandToVideoElementTabs((tab) => {\n            if (tab.id === loadSubtitlesCommand.tabId) {\n                published = true;\n                return toggleVideoSelectCommand;\n            }\n            return undefined;\n        })\n            .then(() => {\n            if (published) {\n                chrome.tabs.update(loadSubtitlesCommand.tabId, { active: true });\n            }\n        });\n        return false;\n    }\n}\n","export default class RequestSubtitlesHandler {\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'request-subtitles';\n    }\n    handle(command, sender, sendResponse) {\n        const { tabId, src } = command;\n        const requestSubtitlesFromTabCommand = {\n            sender: 'asbplayer-extension-to-video',\n            src,\n            message: {\n                command: 'request-subtitles',\n            },\n        };\n        chrome.tabs.sendMessage(tabId, requestSubtitlesFromTabCommand).then((response) => {\n            sendResponse(response);\n        });\n        return true;\n    }\n}\n","import { IndexedDBCopyHistoryRepository } from '@project/common/copy-history';\nexport default class RequestCopyHistoryHandler {\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'request-copy-history';\n    }\n    handle(command, sender, sendResponse) {\n        const message = command.message;\n        new IndexedDBCopyHistoryRepository(message.count).fetch(message.count).then((copyHistoryItems) => {\n            const response = {\n                copyHistoryItems,\n            };\n            sendResponse(response);\n        });\n        return true;\n    }\n}\n","import { IndexedDBCopyHistoryRepository } from '@project/common/copy-history';\nexport default class SaveCopyHistoryHandler {\n    constructor(settings) {\n        this._settings = settings;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'save-copy-history';\n    }\n    handle(command, sender, sendResponse) {\n        const message = command.message;\n        this._settings\n            .getSingle('miningHistoryStorageLimit')\n            .then((limit) => new IndexedDBCopyHistoryRepository(limit))\n            .then((copyHistoryRepository) => {\n            return Promise.all(message.copyHistoryItems.map((copyHistoryItem) => copyHistoryRepository.save(copyHistoryItem))).then(() => {\n                sendResponse({});\n            });\n        });\n        return true;\n    }\n}\n","import { IndexedDBCopyHistoryRepository } from '@project/common/copy-history';\nexport default class DeleteCopyHistoryHandler {\n    constructor(settings) {\n        this._settings = settings;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'delete-copy-history';\n    }\n    handle(command, sender, sendResponse) {\n        const message = command.message;\n        this._settings\n            .getSingle('miningHistoryStorageLimit')\n            .then((limit) => new IndexedDBCopyHistoryRepository(limit))\n            .then((copyHistoryRepository) => {\n            return Promise.all(message.ids.map((id) => copyHistoryRepository.delete(id))).then(() => {\n                sendResponse({});\n            });\n        });\n        return true;\n    }\n}\n","import { IndexedDBCopyHistoryRepository } from '@project/common/copy-history';\nexport default class ClearCopyHistoryHandler {\n    constructor(settings) {\n        this._settings = settings;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'clear-copy-history';\n    }\n    handle(command, sender, sendResponse) {\n        this._settings\n            .getSingle('miningHistoryStorageLimit')\n            .then((limit) => new IndexedDBCopyHistoryRepository(limit))\n            .then((copyHistoryRepository) => {\n            copyHistoryRepository.clear().then(() => {\n                sendResponse({});\n            });\n        });\n        return true;\n    }\n}\n","export default class PublishCardHandler {\n    constructor(cardPublisher) {\n        this._cardPublisher = cardPublisher;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'publish-card';\n    }\n    handle(command, sender) {\n        const message = command.message;\n        this._cardPublisher.publish(message);\n        return false;\n    }\n}\n","export default class AckMessageHandler {\n    constructor(tabRegistry) {\n        this._tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'ack-message';\n    }\n    handle(command, sender, sendResponse) {\n        const message = command.message;\n        const ackCommand = {\n            sender: 'asbplayer-extension-to-player',\n            message,\n        };\n        this._tabRegistry.publishCommandToAsbplayers({\n            commandFactory: () => ackCommand,\n        });\n        return false;\n    }\n}\n","export default class AudioBase64Handler {\n    constructor(offscreenAudioRecorder) {\n        this._audioRecorder = offscreenAudioRecorder;\n    }\n    get sender() {\n        return ['asbplayer-offscreen-document', 'asbplayer-video'];\n    }\n    get command() {\n        return 'audio-base64';\n    }\n    handle(command, sender) {\n        const audioBase64Command = command;\n        this._audioRecorder.onAudioBase64(audioBase64Command.message.base64, audioBase64Command.message.requestId);\n        return false;\n    }\n}\n","export default class UpdateMobileOverlayModelHandler {\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return 'update-mobile-overlay-model';\n    }\n    async handle(command, sender) {\n        if (sender.tab?.id === undefined) {\n            return;\n        }\n        // Need to send this back to the tab so that the overlay (inside an iframe) can receive the message.\n        // Otherwise, the message is not received (on Firefox).\n        chrome.tabs.sendMessage(sender.tab.id, { ...command, sender: 'asbplayer-video-to-mobile-overlay' });\n    }\n}\n","import { primeLocalization } from '../../services/localization-fetcher';\nimport { bindWebSocketClient, unbindWebSocketClient } from '../../services/web-socket-client-binding';\nexport default class RefreshSettingsHandler {\n    constructor(tabRegistry, settingsProvider) {\n        this._tabRegistry = tabRegistry;\n        this._settingsProvider = settingsProvider;\n    }\n    get sender() {\n        return [\n            'asbplayer-popup',\n            'asbplayer-settings',\n            'asbplayer-mobile-overlay',\n            'asbplayer-video',\n            'asbplayer-video-tab',\n        ];\n    }\n    get command() {\n        return 'settings-updated';\n    }\n    handle(command, sender) {\n        this._settingsProvider\n            .get(['language', 'webSocketClientEnabled'])\n            .then(({ language, webSocketClientEnabled }) => {\n            primeLocalization(language);\n            if (webSocketClientEnabled) {\n                bindWebSocketClient(this._settingsProvider, this._tabRegistry);\n            }\n            else {\n                unbindWebSocketClient();\n            }\n        });\n        this._tabRegistry.publishCommandToVideoElements((videoElement) => {\n            const settingsUpdatedCommand = {\n                sender: 'asbplayer-extension-to-video',\n                message: {\n                    command: 'settings-updated',\n                },\n                src: videoElement.src,\n            };\n            return settingsUpdatedCommand;\n        });\n        this._tabRegistry.publishCommandToAsbplayers({\n            commandFactory: () => {\n                const settingsUpdatedCommand = {\n                    sender: 'asbplayer-extension-to-player',\n                    message: {\n                        command: 'settings-updated',\n                    },\n                };\n                return settingsUpdatedCommand;\n            },\n        });\n        chrome.tabs.query({ url: `${chrome.runtime.getURL('settings-ui.html')}` }).then((tabs) => {\n            for (const t of tabs) {\n                if (t.id !== undefined) {\n                    chrome.tabs.sendMessage(t.id, {\n                        message: {\n                            command: 'settings-updated',\n                        },\n                    });\n                }\n            }\n        });\n        return false;\n    }\n}\n","export default class VideoToAsbplayerCommandForwardingHandler {\n    constructor(tabRegistry) {\n        this.tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayer-video';\n    }\n    get command() {\n        return null;\n    }\n    handle(command, sender) {\n        const videoToExtensionCommand = command;\n        if (typeof sender.tab?.id !== 'undefined') {\n            const extensionToPlayerCommand = {\n                sender: 'asbplayer-extension-to-player',\n                message: command.message,\n                tabId: sender.tab.id,\n                src: videoToExtensionCommand.src,\n            };\n            this.tabRegistry.publishCommandToAsbplayers({ commandFactory: () => extensionToPlayerCommand });\n        }\n        return false;\n    }\n}\n","export default class AsbplayerToVideoCommandForwardingHandler {\n    get sender() {\n        return 'asbplayer';\n    }\n    get command() {\n        return null;\n    }\n    handle(command, sender) {\n        const asbplayerToVideoCommand = command;\n        const extensionToVideoCommand = {\n            sender: 'asbplayer-extension-to-video',\n            message: asbplayerToVideoCommand.message,\n            src: asbplayerToVideoCommand.src,\n        };\n        chrome.tabs.sendMessage(asbplayerToVideoCommand.tabId, extensionToVideoCommand);\n        return false;\n    }\n}\n","export default class AsbplayerHeartbeatHandler {\n    constructor(tabRegistry) {\n        this.tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'heartbeat';\n    }\n    handle(command, sender) {\n        const message = command.message;\n        this.tabRegistry.onAsbplayerHeartbeat(sender.tab, message);\n        return false;\n    }\n}\n","export default class AsbplayerHeartbeatHandler {\n    constructor(tabRegistry) {\n        this.tabRegistry = tabRegistry;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'ackTabs';\n    }\n    handle(command, sender) {\n        const message = command.message;\n        this.tabRegistry.onAsbplayerAckTabs(sender.tab, message);\n        return false;\n    }\n}\n","import { primeLocalization } from '../../services/localization-fetcher';\nimport { bindWebSocketClient, unbindWebSocketClient } from '../../services/web-socket-client-binding';\nexport default class SettingsUpdatedHandler {\n    constructor(tabRegistry, settingsProvider) {\n        this._tabRegistry = tabRegistry;\n        this._settingsProvider = settingsProvider;\n    }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'settings-updated';\n    }\n    handle(command, sender) {\n        const settingsUpdatedCommand = command;\n        this._settingsProvider\n            .get(['language', 'webSocketClientEnabled'])\n            .then(({ language, webSocketClientEnabled }) => {\n            primeLocalization(language);\n            if (webSocketClientEnabled) {\n                bindWebSocketClient(this._settingsProvider, this._tabRegistry);\n            }\n            else {\n                unbindWebSocketClient();\n            }\n        });\n        this._tabRegistry.publishCommandToVideoElements((videoElement) => {\n            const videoElementCommand = {\n                sender: 'asbplayer-extension-to-video',\n                message: {\n                    command: 'settings-updated',\n                },\n                src: videoElement.src,\n            };\n            return videoElementCommand;\n        });\n        this._tabRegistry.publishCommandToAsbplayers({\n            commandFactory: (asbplayer) => {\n                if (settingsUpdatedCommand.asbplayerId !== undefined &&\n                    settingsUpdatedCommand.asbplayerId === asbplayer.id) {\n                    // Skip the asbplayer instance that published the message originally\n                    return;\n                }\n                const asbplayerCommand = {\n                    sender: 'asbplayer-extension-to-player',\n                    message: {\n                        command: 'settings-updated',\n                    },\n                };\n                return asbplayerCommand;\n            },\n        });\n        return false;\n    }\n}\n","export default class OpenExtensionShortcutsHandler {\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'open-extension-shortcuts';\n    }\n    handle(command, sender) {\n        chrome.tabs.create({ active: true, url: 'chrome://extensions/shortcuts' });\n        return false;\n    }\n}\n","export default class ExtensionCommandsHandler {\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return 'extension-commands';\n    }\n    handle(command, sender, sendResponse) {\n        chrome.commands.getAll((commands) => {\n            const commandsObj = {};\n            for (const c of commands) {\n                if (c.name && c.shortcut) {\n                    commandsObj[c.name] = c.shortcut;\n                }\n            }\n            sendResponse(commandsObj);\n        });\n        return true;\n    }\n}\n","export default class AsbplayerToVideoCommandForwardingHandler {\n    constructor() { }\n    get sender() {\n        return 'asbplayerv2';\n    }\n    get command() {\n        return null;\n    }\n    handle(command, sender) {\n        const asbplayerToVideoCommand = command;\n        if (asbplayerToVideoCommand.tabId) {\n            const extensionToVideoCommand = {\n                sender: 'asbplayer-extension-to-video',\n                message: asbplayerToVideoCommand.message,\n                src: asbplayerToVideoCommand.src,\n            };\n            chrome.tabs.sendMessage(asbplayerToVideoCommand.tabId, extensionToVideoCommand);\n        }\n        return false;\n    }\n}\n","import { captureVisibleTab } from '../../services/capture-visible-tab';\nexport default class CaptureVisibleTabHandler {\n    get sender() {\n        return 'asbplayer-foreground';\n    }\n    get command() {\n        return 'capture-visible-tab';\n    }\n    handle(command, sender, sendResponse) {\n        if (sender.tab === undefined || sender.tab.id === undefined) {\n            return;\n        }\n        captureVisibleTab(sender.tab.id).then((dataUrl) => {\n            sendResponse(dataUrl);\n        });\n        return true;\n    }\n}\n","export default class RequestModelHandler {\n    get sender() {\n        return 'asbplayer-mobile-overlay-to-video';\n    }\n    get command() {\n        return 'request-mobile-overlay-model';\n    }\n    handle(command, sender, sendResponse) {\n        if (sender.tab?.id === undefined) {\n            return;\n        }\n        chrome.tabs.sendMessage(sender.tab.id, command).then((model) => sendResponse(model));\n        return true;\n    }\n}\n","export default class CurrentTabHandler {\n    get sender() {\n        return 'asbplayer-mobile-overlay';\n    }\n    get command() {\n        return 'current-tab';\n    }\n    handle(command, sender, sendResponse) {\n        sendResponse(sender.tab?.id);\n        return false;\n    }\n}\n","export default class MobileOverlayForwarderHandler {\n    get sender() {\n        return 'asbplayer-mobile-overlay-to-video';\n    }\n    get command() {\n        return null;\n    }\n    handle(command, sender, sendResponse) {\n        if (sender.tab?.id === undefined) {\n            return;\n        }\n        chrome.tabs.sendMessage(sender.tab.id, command);\n        return false;\n    }\n}\n"],"names":["$defineProperty","GetIntrinsic","value","e","module","exports","undefined","$Error","$EvalError","$RangeError","$ReferenceError","$SyntaxError","$TypeError","$URIError","$Function","Function","getEvalledConstructor","expressionSyntax","$gOPD","Object","getOwnPropertyDescriptor","throwTypeError","ThrowTypeError","calleeThrows","arguments","get","gOPDthrows","hasSymbols","hasProto","getProto","getPrototypeOf","x","__proto__","needsEval","TypedArray","Uint8Array","INTRINSICS","AggregateError","Array","ArrayBuffer","Symbol","iterator","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","Map","Math","Number","parseFloat","parseInt","Promise","Proxy","Reflect","RegExp","Set","SharedArrayBuffer","String","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","WeakRef","WeakSet","error","errorProto","doEval","name","fn","prototype","gen","LEGACY_ALIASES","bind","hasOwn","$concat","call","concat","$spliceApply","apply","splice","$replace","replace","$strSlice","slice","$exec","exec","rePropName","reEscapeChar","getBaseIntrinsic","allowMissing","alias","intrinsicName","length","parts","string","first","last","result","match","number","quote","subString","stringToPath","intrinsicBaseName","intrinsic","intrinsicRealName","skipFurtherCaching","i","isOwn","part","desc","EvalError","Error","RangeError","ReferenceError","SyntaxError","TypeError","URIError","toStr","toString","max","concatty","a","b","arr","j","that","target","this","bound","args","arrLike","offset","slicy","boundLength","boundArgs","joiner","str","joiny","Empty","implementation","test","foo","$Object","origSymbol","hasSymbolSham","getOwnPropertySymbols","obj","sym","symObj","keys","getOwnPropertyNames","syms","propertyIsEnumerable","descriptor","enumerable","$hasOwn","hasOwnProperty","helpers","ValidatorResult","SchemaError","attribute","validators","testSchemaNoThrow","instance","options","ctx","callback","schema","throwError","throwAll","res","validateSchema","valid","getEnumerableProperty","object","key","testAdditionalProperty","property","types","properties","additionalProperties","addError","argument","message","stringify","preValidateProperty","makeChild","importErrors","type","isArray","some","testType","list","map","v","id","$id","anyOf","inner","title","nestedErrors","join","allOf","self","forEach","msg","errors","oneOf","count","filter","if","isSchema","ifValid","then","else","propertyNames","subschema","prop","patternProperties","pattern","regexp","_e","minProperties","maxProperties","items","array","every","additionalItems","contains","minimum","exclusiveMinimum","maximum","exclusiveMaximum","validateMultipleOfOrDivisbleBy","validationType","errorMessage","validationArgument","instanceDecimals","getDecimalPlaces","divisorDecimals","maxDecimals","multiplier","pow","round","testArrays","len","deepCompareStrict","multipleOf","divisibleBy","required","n","format","disableFormat","isFormat","minLength","hsp","maxLength","minItems","maxItems","uniqueItems","dependencies","dep","childContext","propertyPath","not","disallow","notTypes","schemaId","uri","ValidationError","path","reduce","sum","item","makeSuffix","stack","throwFirst","stringizer","ValidatorResultError","captureStackTrace","detail","err","push","validatorType","defineProperty","constructor","create","SchemaContext","base","schemas","resolve","propertyName","FORMAT_REGEXPS","input","regex","ipv4","validator","customFormats","deepMerger","dst","deepMerge","indexOf","copyist","src","copyistWithDeepMerge","pathEncoder","aKeys","bKeys","objectGetPath","o","s","k","split","shift","encodePath","decimalPlaces","decimalParts","val","urilib","SchemaScanResult","found","ref","scanSchema","baseuri","$ref","resolvedUri","ourBase","substring","scanArray","extends","scanObject","definitions","p","Validator","unresolvedRefs","attributes","shouldResolve","addSchema","scan","ourUri","addSubSchemaArray","addSubSchema","addSubSchemaObject","setSchemas","getSchema","urn","validate","sch","schemaobj","schemaTraverser","superResolve","switchSchema","resolved","subctx","skipAttributes","ignoreProperties","validatorErr","allowUnknownAttributes","rewrite","parsed","parse","fragment","hash","document","substr","integer","boolean","date","any","hasMap","mapSizeDescriptor","mapSize","mapForEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","has","weakSetHas","weakRefDeref","deref","booleanValueOf","valueOf","objectToString","functionToString","$match","$slice","$toUpperCase","toUpperCase","$toLowerCase","toLowerCase","$test","$join","$arrSlice","$floor","floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","toStringTag","isEnumerable","gPO","O","addNumericSeparator","num","Infinity","sepRegex","int","intStr","dec","utilInspect","inspectCustom","custom","inspectSymbol","isSymbol","wrapQuotes","defaultStyle","opts","quoteChar","quoteStyle","isRegExp","inspect_","depth","seen","maxStringLength","customInspect","indent","numericSeparator","inspectString","bigIntStr","maxDepth","baseIndent","prev","getIndent","inspect","from","noIndent","newOpts","f","m","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","nodeName","getAttribute","attrs","childNodes","xs","singleLineValues","indentedJoin","isError","cause","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","window","g","isDate","ys","isPlainObject","protoTag","stringTag","tag","l","remaining","trailer","lowbyte","c","charCodeAt","size","entries","lineJoiner","isArr","symMap","truncate","illegalRe","controlRe","reservedRe","windowsReservedRe","windowsTrailingRe","sanitize","replacement","sanitized","output","getLength","isHighSurrogate","codePoint","isLowSurrogate","byteLength","segment","charLength","curByteLength","callBind","$indexOf","setFunctionLength","$apply","$call","$reflectApply","$max","originalFunction","func","applyBind","gopd","nonEnumerable","nonWritable","nonConfigurable","loose","configurable","writable","hasPropertyDescriptors","hasArrayLengthDefineBug","root","nodeType","freeGlobal","global","punycode","maxInt","tMax","skew","damp","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","fromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","out","basic","index","oldi","w","t","baseMinusT","inputLength","bias","lastIndexOf","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","percentTwenties","Format","formatters","RFC1738","RFC3986","formats","utils","defaults","allowDots","allowEmptyArrays","allowPrototypes","allowSparse","arrayLimit","charset","charsetSentinel","comma","decodeDotInKeys","decoder","delimiter","duplicates","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictDepth","strictNullHandling","$0","numberStr","parseArrayValue","parseKeys","givenKey","valuesParsed","child","parent","chain","leaf","cleanRoot","charAt","decodedRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","limit","skipIndex","bracketEqualsPos","pos","maybeMap","encodedVal","existing","combine","parseValues","newObj","merge","compact","getSideChannel","arrayPrefixGenerators","brackets","prefix","indices","repeat","pushToArray","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","arrayFormat","encodeDotInKeys","encoder","encodeValuesOnly","formatter","serializeDate","skipNulls","sentinel","generateArrayPrefix","commaRoundTrip","sort","sideChannel","tmpSc","step","findFlag","isBuffer","objKeys","values","encodedPrefix","adjustedPrefix","encodedKey","keyPrefix","set","valueSideChannel","normalizeStringifyOptions","joined","hexTable","arrayToObject","source","assign","acc","queue","refs","pop","compacted","compactQueue","strWithoutPlus","unescape","defaultEncoder","kind","escape","mapped","mergeTarget","targetItem","define","hasDescriptors","gOPD","functionLengthIsConfigurable","functionLengthIsWritable","callBound","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","curr","next","$wm","$m","$o","channel","assert","objects","node","listGet","listHas","listSet","Url","protocol","slashes","auth","host","port","hostname","search","query","pathname","href","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","javascript","hostlessProtocol","slashedProtocol","http","https","ftp","gopher","file","querystring","urlParse","url","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","rest","trim","simplePath","proto","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","unshift","toASCII","h","ae","esc","qm","relative","resolveObject","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","hasTrailingSlash","up","isAbsolute","prevCodePoint","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","__esModule","d","definition","globalThis","nmd","paths","children","captureVisibleTab","async","tabId","tab","chrome","tabs","windowId","quality","ImageErrorCode","AudioErrorCode","VideoDataUiOpenReason","PostMineAction","PostMinePlayback","AutoPausePreference","PlayMode","ControlType","Direction","humanReadableTime","timestamp","nearestTenth","totalSeconds","seconds","minutes","hours","padStart","extractText","subtitle","surroundingSubtitles","track","text","interval","start","end","subtitles","overlapStart","min","subtitleIntersectsTimeInterval","download","blob","URL","createObjectURL","createElement","body","appendChild","style","display","click","revokeObjectURL","remove","blobUrls","isActiveBlobUrl","blobUrl","makeFileName","replaceAll","Base64ImageData","base64","extension","_name","_timestamp","_base64","_extension","_error","atTimestamp","canChangeTimestamp","_blob","cachedBlob","fetch","_dataUrl","dataUrl","dispose","CancelledImageDataRenderingError","FileImageData","maxWidth","maxHeight","video","canvas","_file","_maxWidth","_maxHeight","_video","_canvas","fileLinkLost","_canvasPromiseReject","reject","_getCanvas","toDataURL","catch","toBlob","_canvasPromise","_videoElement","calculateCurrentTime","duration","currentTime","onloadedmetadata","onseeked","width","videoWidth","height","videoHeight","getContext","drawImage","widthRatio","heightRatio","ratio","newWidth","newHeight","createImageBitmap","resizeWidth","resizeHeight","resizeQuality","sprite","resizeCanvas","onerror","preload","autoplay","volume","controls","pause","removeAttribute","load","data","fromCard","card","image","fromBase64","subtitleFileName","fromFile","mediaTimestamp","imageName","pngBlob","bitMap","StartRecordingErrorCode","StopRecordingErrorCode","getRandomValues","HttpFetcher","response","method","json","rnds8","rng","crypto","msCrypto","byteToHex","uuid","buf","rnds","random","DrmProtectedStreamError","TimedRecordingInProgressError","allowedKeys","allowedActions","PauseOnHoverMode","ankiSettingsKeys","ankiConnectUrl","deck","noteType","sentenceField","definitionField","audioField","imageField","wordField","sourceField","urlField","track1Field","track2Field","track3Field","customAnkiFields","tags","recordWithAudioPlayback","preferMp3","audioPaddingStart","audioPaddingEnd","maxImageWidth","maxImageHeight","surroundingSubtitlesCountRadius","surroundingSubtitlesTimeRadius","ankiFieldSettings","customAnkiFieldSettings","SubtitleListPreference","subtitleColor","subtitleSize","subtitleThickness","subtitleOutlineThickness","subtitleOutlineColor","subtitleShadowThickness","subtitleShadowColor","subtitleBackgroundOpacity","subtitleBackgroundColor","subtitleFontFamily","subtitleCustomStyles","subtitleBlur","subtitleAlignment","imageBasedSubtitleScaleFactor","subtitlePositionOffset","topSubtitlePositionOffset","subtitleTracksV2","subtitlesWidth","isMacOs","navigator","userAgentData","platform","defaultSettings","sentence","order","word","audio","track1","track2","track3","subtitlePreview","autoPausePreference","atEnd","speedChangeStep","fastForwardModePlaybackRate","keyBindSet","togglePlay","toggleAutoPause","toggleCondensedPlayback","toggleFastForwardPlayback","toggleSubtitles","toggleVideoSubtitleTrack1","toggleVideoSubtitleTrack2","toggleVideoSubtitleTrack3","toggleAsbplayerSubtitleTrack1","toggleAsbplayerSubtitleTrack2","toggleAsbplayerSubtitleTrack3","unblurAsbplayerTrack1","unblurAsbplayerTrack2","unblurAsbplayerTrack3","seekBackward","seekForward","seekToPreviousSubtitle","seekToNextSubtitle","seekToBeginningOfCurrentSubtitle","adjustOffsetToPreviousSubtitle","adjustOffsetToNextSubtitle","decreaseOffset","increaseOffset","resetOffset","copySubtitle","ankiExport","updateLastCard","takeScreenshot","toggleRecording","decreasePlaybackRate","increasePlaybackRate","toggleSidePanel","toggleRepeat","tabName","miningHistoryStorageLimit","preCacheSubtitleDom","clickToMineDefaultAction","showAnkiDialog","postMiningPlaybackState","remember","themeType","copyToClipboardOnMine","rememberSubtitleOffset","lastSubtitleOffset","autoCopyCurrentSubtitle","alwaysPlayOnSubtitleRepeat","subtitleRegexFilter","subtitleRegexFilterTextReplacement","language","streamingAppUrl","streamingDisplaySubtitles","streamingRecordMedia","streamingTakeScreenshot","streamingCleanScreenshot","streamingCropScreenshot","streamingSubsDragAndDrop","streamingAutoSync","streamingLastLanguagesSynced","streamingCondensedPlaybackMinimumSkipIntervalMs","streamingScreenshotDelay","streamingSubtitleListPreference","noSubtitleList","streamingEnableOverlay","webSocketClientEnabled","webSocketServerUrl","pauseOnHoverMode","lastSelectedAnkiExportMode","deepEquals","fromEntries","complexValuedKeys","SettingsProvider","storage","_complexValues","_storage","getAll","getSingle","parameters","lastValue","_ensureConsistencyOnRead","settings","keyBindSetModified","newKeyBindSet","ankiFieldSettingsModified","newAnkiFieldSettings","keyBindName","fieldName","_ensureConsistencyOnWrite","modifyCustomAnkiFieldSettings","activeProfile","setActiveProfile","profiles","addProfile","removeProfile","prefixKey","profile","unprefixKey","prefixedSettings","prefixed","supportedLanguages","activeProfileKey","profilesKey","ExtensionSettingsStorage","local","keysAndDefaults","unprefixed","unprefixedSettings","find","profileExists","initialValues","newProfiles","prefixedKeys","clear","session","fetchExtensionConfig","noCache","cachedConfig","config","ttl","now","extensionJsonUrl","extensionJson","validJson","console","validLatest","latest","validLanguages","languages","version","code","versionKeyForLang","lang","primeLocalization","langConfig","versionKey","fetchAndCache","asbplayerUrl","effectiveUrl","startsWith","strings","stringsKey","WebSocketClient","_pongReceived","_pingPromises","socket","_socket","_pingInterval","clearInterval","setInterval","_lastPingTimestampMs","ping","info","log","r","_connect","_disconnect","_connectPromise","WebSocket","onmessage","event","payload","command","messageId","published","onMineSubtitle","send","onLoadSubtitles","onclose","reason","onopen","readyState","OPEN","CLOSED","CLOSING","close","unbind","client","bindWebSocketClient","tabRegistry","fields","receivedFields","postMineAction","receivedPostMineAction","active","currentWindow","ankiSettings","customFieldValues","asbplayerFieldName","ankiFieldName","fieldValue","entry","publishToVideoElements","publishCommandToVideoElements","videoElement","loadedSubtitles","sender","publishToAsbplayers","publishCommandToAsbplayers","commandFactory","asbplayer","sidePanel","asbplayerId","files","subtitleFiles","toggleVideoSelectCommand","publishCommandToVideoElementTabs","unbindWebSocketClient","Mp3Encoder","workerFactory","reader","FileReader","onload","audioContext","AudioContext","audioBuffer","decodeAudioData","channels","numberOfChannels","getChannelData","workerValue","worker","Worker","postMessage","sampleRate","Blob","buffer","terminate","readAsArrayBuffer","blobToBase64","readAsDataURL","onloadend","isFirefox","userAgent","includes","removeCallback","callbacks","invokeCallbacks","eventName","Base64AudioData","baseName","playbackRate","_callbacks","play","_start","_end","playing","playingAudio","onEvent","stop","Audio","stopAudioTimeout","setTimeout","stopAudio","clearTimeout","mimeType","decoded","atob","base64ToBlob","isSliceable","ClippingCancelledError","FileAudioClipper","recorderMimeType","trackId","_playbackRate","_recorderMimeType","_trackId","latestBlobPromise","_blobPromise","isPlayingAudibly","_clippingAudioElement","_clippingAudibly","_playingAudioElement","isRecordingSilently","finishedRecording","_stopPlayingAudio","_audioElement","oncanplay","_stopAudioTimeout","_stopAudio","clip","audible","_stopClippingAudio","destination","createMediaStreamDestination","createMediaElementSource","connect","stream","_captureStream","recorder","MediaRecorder","chunks","ondataavailable","finished","onstop","_clippingAudioReject","_stopClippingTimeout","getAudioTracks","selectTrack","audioTracks","enabled","revokeBlobUrl","captureStream","mozCaptureStream","audioStream","MediaStream","getVideoTracks","addTrack","FileAudioData","recordAudibly","recorderExtension","AUDIO_TYPES","isTypeSupported","recorderConfiguration","_recordAudibly","_blobClipper","_playClipper","Mp3AudioData","EncodedAudioData","_data","_encoder","AudioClip","paddingStart","paddingEnd","audioTrack","toMp3","mp3WorkerFactory","toEncoded","errorLocKey","drmProtected","ankiQuerySpecialCharacters","makeUniqueFileName","fileName","exension","alphaNumericCharacters","randomString","htmlTagRegexString","tagContent","html","htmlTagRegex","content","contents","exportCard","exportMode","anki","Anki","audioClip","export","mode","settingsProvider","fetcher","deckNames","_executeAction","modelNames","modelFieldNames","modelName","findNotesWithWord","_escapeQuery","findNotesWithWordGui","escaped","char","requestPermission","_appendField","customFieldName","params","note","deckName","allowDuplicate","duplicateScope","duplicateScopeOptions","checkChildren","gui","updateLast","sanitizedName","_sanitizeFileName","_storeMediaFile","filename","recentNotes","lastNoteId","infoResponse","notes","noteId","_inheritHtmlMarkupFromField","multiline","newValue","existingValue","toWellFormed","deleteExisting","fieldKey","original","markedUp","markedUpWithoutBreaklines","inherited","newInherited","candidateTargets","inheritHtmlMarkup","action","ownKeys","extend","y","setImmediate","_","isFrozen","E","P","K","S","A","C","D","I","B","done","T","R","location","F","M","N","$","U","L","V","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","W","Y","z","failures","failedKeys","successCount","G","failuresByPos","_stack","H","Q","X","Syntax","Type","Range","J","Z","ee","te","ne","re","se","onsuccess","ie","oe","ue","ModifyError","DexieError","BulkError","le","ce","he","de","subtle","digest","fe","pe","ye","me","ve","qe","MutationObserver","observe","setAttribute","ge","Oe","be","we","xe","ke","Ee","Pe","unhandleds","onunhandled","ct","pgp","env","finalize","Ke","Se","Ae","Ce","_listeners","onuncatched","_lib","_PSD","_stackHolder","_prev","_numPrev","_state","_value","Be","Ie","je","Qe","et","Re","De","ut","Ne","onFulfilled","onRejected","psd","$e","_then","Te","Ue","_promise","Le","Fe","Me","Ve","We","st","finally","timeout","Timeout","it","all","tt","race","PSD","totalEchoes","newPSD","Je","usePSD","ot","scheduler","rejectionMapper","follow","allSettled","status","Ye","awaits","echoes","ze","Ge","He","Xe","PromiseProp","nthen","lt","gthen","Ze","ht","nt","rt","at","promise","createEvent","initEvent","CustomEvent","dispatchEvent","PromiseRejectionEvent","onunhandledrejection","defaultPrevented","warn","dt","idbdb","openComplete","letThrough","_vip","_createTransaction","_dbSchema","PR1398_maxLoop","InvalidState","isOpen","_close","open","trans","_completion","dbOpenError","isBeingOpened","_options","autoOpen","dbReadyPromise","ft","pt","yt","mt","vt","gt","bt","_t","wt","lower","lowerOpen","upper","upperOpen","xt","kt","_trans","_tx","NotFound","idbtrans","db","transless","where","core","hook","reading","fire","WhereClause","equals","indexes","primKey","compound","keyPath","_maxKey","idxByName","_deps","indexedDB","cmp","multi","toCollection","and","each","toArray","Collection","orderBy","reverse","mapToClass","mappedClass","readHook","unsubscribe","defineClass","add","auto","mutate","numFailures","lastResult","update","modify","InvalidArgument","put","range","bulkGet","getMany","bulkAdd","allKeys","wantResults","results","bulkPut","bulkDelete","Et","subscribe","addEventType","subscribers","Pt","Kt","algorithm","or","justLimit","replayFilter","Ot","St","At","isPrimKey","primaryKey","getIndexByKeyPath","Schema","Ct","openCursor","keysOnly","dir","unique","jt","fail","_iterate","Dt","valueMapper","continue","It","Bt","NaN","Tt","isView","byteOffset","Rt","_read","_ctx","table","_write","_addAlgorithm","clone","raw","sortBy","advance","until","isMatch","_ondirectionchange","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","outbound","extractKey","modifyChunkSize","cache","Ft","criteria","changeSpec","Mt","Nt","qt","Yt","$t","Wt","Ut","Lt","Vt","between","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","_min","_max","startsWithAnyOf","zt","Gt","stopPropagation","preventDefault","Ht","Qt","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","OpenFailed","transaction","storeNames","durability","chromeTransactionDurability","_reject","onabort","on","oncomplete","_resolve","storagemutated","mutatedParts","ReadOnly","_root","waitFor","_waitingFor","_waitingQueue","objectStore","_spinCount","abort","_memoizedTables","Table","Xt","Jt","Zt","en","only","tn","nn","rn","sn","upperBound","lowerBound","hasGetAll","objectStoreNames","tables","autoIncrement","isPrimaryKey","indexNames","multiEntry","delete","_pos","getAllKeys","openKeyCursor","___id","continuePrimaryKey","MIN_KEY","MAX_KEY","an","_novip","IDBKeyRange","dbcore","_middlewares","un","Transaction","ln","cn","_cfg","hn","_storeNames","populate","_versions","yn","dbschema","mn","dn","change","recreate","Upgrade","pn","deleteIndex","del","contentUpgrade","deleteObjectStore","def","createObjectStore","createIndex","_hasGetAll","WorkerGlobalScope","vn","_parseStoresSpec","stores","storesSource","_allTables","upgrade","gn","_dbNamesDB","$n","addons","dbnames","bn","databases","_n","wn","kn","throw","En","Pn","PrematureCommit","Kn","On","level","isVirtual","keyTail","keyLength","Sn","An","deleting","creating","updating","Cn","jn","_cache","Dn","In","to","Bn","Mn","Tn","Fn","Nn","addKey","addKeys","qn","subscr","verno","onReadyBeingFired","dbReadyResolve","cancelOpen","openCanceller","autoSchema","ready","vip","complete","Version","_IDBKeyRange","newVersion","oldVersion","_fireOnBlocked","vcFired","use","_whenReady","unuse","onblocked","onupgradeneeded","allowEmptyDB","deleteDatabase","NoSuchDatabase","onversionchange","xn","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","SubTransaction","InvalidTable","Un","observable","Ln","_subscribe","Vn","Wn","closed","Rn","Yn","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","zn","Gn","Hn","exists","getDatabaseNames","ignoreTransaction","spawn","currentTransaction","debug","derive","props","override","Events","liveQuery","extendObservabilitySet","getByKeyPath","setByKeyPath","delByKeyPath","shallowClone","deepClone","getObjectDiff","asap","minKey","connections","errnames","semVer","maxKey","addEventListener","initCustomEvent","BroadcastChannel","unref","localStorage","setItem","trig","changedParts","clients","matchAll","includeUncontrolled","serviceWorker","CopyHistoryDatabase","super","copyHistoryItems","textImage","originalStart","originalEnd","videoFileName","audioFileName","filePlaybackRate","IndexedDBCopyHistoryRepository","_db","_limit","liveFetch","subscription","save","record","existingPrimaryKeys","_prune","lastIndex","isMobile","mobile","lastUpdateAlertVersionKey","setAccessLevel","accessLevel","runtime","onInstalled","addListener","details","OnInstalledReason","INSTALL","defaultUiLanguage","i18n","getUILanguage","fetchSupportedLanguages","getURL","UPDATE","getManifest","enqueueUpdateAlert","onStartup","_onNoSyncedElementsCallbacks","_onSyncedElementCallbacks","_onAsbplayerInstanceCallbacks","_settings","onRemoved","removeInfo","_videoElements","onUpdated","videoElements","changed","_asbplayers","asbplayers","_fetchVideoElementState","tabRegistryVideoElements","_saveVideoElementState","state","mutator","oldVideoElements","disappeared","oldSyncedElementExists","synced","syncedElementExists","_fetchAsbplayerState","tabRegistryAsbplayers","_saveAsbplayerState","oldAsbplayers","newAsplayerAppeared","onAsbplayerHeartbeat","videoPlayer","receivedTabs","syncedVideoElement","_updateAsbplayers","activeVideoElements","_asbplayerInstances","ackRequested","sendMessage","onAsbplayerAckTabs","slimTab","faviconUrl","favIconUrl","element","subscribed","syncedTimestamp","asbplayerInstances","onVideoElementHeartbeat","onVideoElementDisappeared","onNoSyncedElements","onSyncedElement","onAsbplayerInstance","publishTabsToAsbplayers","tabsCommand","_sendCommand","findAsbplayer","allowTabCreation","chosenAsbplayerId","asbplayerTabCount","elapsed","_createNewTab","_anyAsbplayerTab","activeTabs","activeTabIndex","attempt","maxAttempts","audioRecorder","delegate","_tabRegistry","_delegate","onAudioBase64","requestId","currentRecordRequestId","audioBase64Resolve","audioBase64Promise","audioBase64Reject","startWithTimeout","time","encodeAsMp3","requester","started","_notifyRecordingStarted","_prepareForAudioDataResponse","_handleStartError","_notifyRecordingFinished","errorCode","noActiveTabPermission","_requestActiveTab","other","_notifyError","stopped","timedAudioRecordingInProgress","videoCommand","playerCommand","notifyErrorCommand","_ensureOffscreenDocument","getContexts","contextTypes","ContextType","OFFSCREEN_DOCUMENT","offscreen","createDocument","reasons","Reason","USER_MEDIA","justification","_mediaStreamId","tabCapture","getMediaStreamId","targetTabId","streamId","imageCapturer","_capturing","lastImageBase64","_lastImageBase64","capture","delay","captureParams","imageBase64Resolve","imageBase64Reject","imageBase64Promise","_captureWithDelay","timeoutId","lastCaptureTimeoutId","croppedDataUrl","_cropAndResize","imageCaptureParams","cropAndResizeCommand","cardPublisher","_settingsProvider","publish","savePromise","_saveCardToRepository","_showAnkiDialog","_updateLastCard","_exportCard","none","_notifySaved","saved","cardSavedCommand","cardName","cardExportedCommand","cardUpdatedCommand","showAnkiUiCommand","storageLimit","handlers","handle","videoToExtensionCommand","_audioRecorder","_imageCapturer","_cardPublisher","senderTab","recordMediaCommand","_recordAndForward","audioPromise","imagePromise","imageModel","audioModel","screenshot","rect","frameId","imageDelay","screenshotTakenCommand","baseAudioModel","audioBase64","captureFailed","rerecordCommand","uiState","showAnkiUiAfterRerecordCommand","lastAppliedTimestampIntervalToAudio","timestampInterval","startRecordingCommand","drmProtectedStreamError","stopRecordingCommand","startTimestamp","endTimestamp","middleSubtitle","maxTimestamp","timeRadius","afterTimestamp","beforeTimestamp","mockSurroundingSubtitles","videoDuration","takeScreenshotCommand","ankiUiState","displaySubtitles","extensionSyncCommand","withSyncedAsbplayerOnly","withAsbplayerId","playerSyncCommand","flatten","sendResponse","_validateBody","bodyKeys","sidePanelOpen","windows","getLastFocused","openOptionsPage","extensionToVideoCommand","requestingActiveTabPermissionCommand","requesting","tabInfo","setRequestingActiveTabPermission","copySubtitleCommand","loadSubtitlesCommand","fromAsbplayerId","requestSubtitlesFromTabCommand","copyHistoryRepository","copyHistoryItem","ids","ackCommand","offscreenAudioRecorder","audioBase64Command","extensionToPlayerCommand","asbplayerToVideoCommand","settingsUpdatedCommand","commands","commandsObj","shortcut","model","onMessage","request","handler","contextMenus","getMessage","contexts","onClicked","menuItemId","pageUrl","srcUrl","onCommand","validAsbplayer","postMineActionFromCommand","updateWebSocketClientState","setPopup","popup","openPopup"],"sourceRoot":""}